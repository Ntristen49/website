(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[46208,67895,1856,8570],{637849:(e,t,n)=>{e.exports=n.p+"62fc691d2860dbf7dea5582aba20f051.svg"},837307:(e,t,n)=>{e.exports=n.p+"0ee88820de68e9856408ac765a57198d.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},709989:(e,t,n)=>{e.exports=n.p+"e878f2c37767692b3936e707df01c1a4.svg"},955568:(e,t,n)=>{e.exports=n.p+"bf852fd03dee12cf7ba1392884138f27.svg"},230978:(e,t,n)=>{e.exports=n.p+"21c1c5faf97abcc71bf3bde30e57bf14.svg"},148267:(e,t,n)=>{e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},182765:(e,t,n)=>{e.exports=n.p+"092b071c3b3141a58787415450c27857.png"},359074:(e,t,n)=>{e.exports=n.p+"375217725f8ad1df6310e6738a7306e4.svg"},396679:(e,t,n)=>{e.exports=n.p+"a5844a7e2342caa1029833d27d976e99.svg"},100539:(e,t,n)=>{e.exports=n.p+"17192d3fe939ecf404e8cdd64b340469.svg"},639915:(e,t,n)=>{e.exports=n.p+"1a06a76c7ea3e0facf0d6635e10c5898.svg"},143613:(e,t,n)=>{
e.exports=n.p+"ab4f6c12a1ced9de8b5d279056f21334.svg"},424286:(e,t,n)=>{e.exports=n.p+"0e9718017ef813c08a592b0bbd8496dc.png"},819361:(e,t,n)=>{e.exports=n.p+"14271875289ea86971326d281f681a64.svg"},882253:(e,t,n)=>{e.exports=n.p+"0eeb095cd923afdf420687347dc673ff.svg"},661807:(e,t,n)=>{e.exports=n.p+"71911dd31666b4c410a9c8cd8af361bc.svg"},149374:(e,t,n)=>{e.exports=n.p+"b4c362308f7e586b97c5155337ad2ea5.svg"},841860:(e,t,n)=>{e.exports=n.p+"9ea38b117bb11b03761dc3351f048bfa.svg"},123555:(e,t,n)=>{e.exports=n.p+"5a1a231bd56982c69c29ccc058d4b627.svg"},614040:(e,t,n)=>{e.exports=n.p+"0d893da2d50673a2eed63138225eb111.svg"},525106:(e,t,n)=>{e.exports=n.p+"771880976d58ad9ca6aee94bb06089b4.png"},100553:(e,t,n)=>{e.exports=n.p+"1e020fbfcf47d6368053524411553d1f.svg"},568534:(e,t,n)=>{e.exports=n.p+"80f97fbf531019c97bcc2661b8d41036.svg"},106952:(e,t,n)=>{e.exports=n.p+"3020e9aa04f0b2277dc30309e18ef310.svg"},952587:(e,t,n)=>{e.exports=n.p+"987cc6d375f9396c95619acafe8fcfd5.svg"},73745:(e,t,n)=>{
e.exports=n.p+"971b433c96bca3ee60d203b136e246e8.svg"},545292:(e,t,n)=>{e.exports=n.p+"3294183db720bd0985871f6aa43e6e28.png"},55146:(e,t,n)=>{e.exports=n.p+"608f64b01193073a0148ebd815d86784.webm"},485618:(e,t,n)=>{e.exports=n.p+"ac85024be0ac6a35c59ceff448502169.webm"},745920:(e,t,n)=>{e.exports=n.p+"2d889bf9114df188325d15f9e517c325.mov"},161693:(e,t,n)=>{e.exports=n.p+"6d5b64b094944af6d52d895c8c2b8a59.mp4"},28743:(e,t,n)=>{e.exports=n.p+"dff87c953f43b561d71fbcfe8a93a79a.png"},106632:(e,t,n)=>{e.exports=n.p+"3b0d96ed8113994f3d139088726cfecd.webm"},894919:(e,t,n)=>{e.exports=n.p+"d44a33e33f751afe9a0e5e42e2156d8f.mov"},858739:(e,t,n)=>{e.exports=n.p+"90c2f45413660019fa25f4f9f40ecb5d.mp4"},172129:(e,t,n)=>{e.exports=n.p+"61c5375ee8d8dbf35c109b06044394d8.png"},243874:(e,t,n)=>{e.exports=n.p+"1eae6aab9a6b4e7da646db415479560b.webm"},665369:(e,t,n)=>{e.exports=n.p+"214ec30d4b1191df4e04a35063e5d9e6.mov"},537020:(e,t,n)=>{e.exports=n.p+"56dfe2d14c375037f02ae2144856c939.webm"},978476:(e,t,n)=>{
e.exports=n.p+"98808f8535c2ac6947658982e27e6e1e.mov"},88070:(e,t,n)=>{e.exports=n.p+"49b63c2ef79b40545d891bde041934b4.webm"},154637:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(506884),o=n(856864),a=n(173436),i=n(666492),l=n(461061);function c(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,l,"next",e)}function l(e){c(a,r,o,i,l,"throw",e)}i(void 0)}))}}var s=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};const f={signup:function(e,t){return i.Z.post({url:l.ANM.HUB_WAITLIST_SIGNUP,body:{email:e,school:t},trackedActionData:{event:r.a9.HUB_WAITLIST_SIGNUP,properties:function(e){var t,n=!1,r=null==e||null===(t=e.body)||void 0===t?void 0:t.email_domain;if(null!=r){n=-1!==r.split(".").indexOf("edu")}return(0,o.iG)({is_edu_email:n})}}})},
sendVerificationEmail:function(e,t,n){return u((function(){return s(this,(function(a){switch(a.label){case 0:return[4,i.Z.post({url:l.ANM.HUB_EMAIL_VERIFY_SEND,body:{email:e,guild_id:n,allow_multiple_guilds:t,use_verification_code:!0},trackedActionData:{event:r.a9.HUB_EMAIL_VERIFY_SEND,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.has_matching_guild;return(0,o.iG)({has_matching_guild:n})}}})];case 1:return[2,a.sent().body]}}))}))()},verify:function(e){return u((function(){var t,n,o,c;return s(this,(function(u){switch(u.label){case 0:if(null==e)return[3,4];u.label=1;case 1:u.trys.push([1,3,,4]);return[4,i.Z.post({url:l.ANM.HUB_EMAIL_VERIFY,body:{token:e},trackedActionData:{event:r.a9.HUB_EMAIL_VERIFY}})];case 2:n=u.sent();o=null===(t=n.body.guild)||void 0===t?void 0:t.id;a.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:o});return[3,4];case 3:c=u.sent();a.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:c.body});return[3,4];case 4:return[2]}}))
}))()},verifyCode:function(e,t,n){return u((function(){var o,c,u,f;return s(this,(function(s){switch(s.label){case 0:if(null==e)return[3,4];s.label=1;case 1:s.trys.push([1,3,,4]);return[4,i.Z.post({url:l.ANM.HUB_EMAIL_VERIFY_CODE,body:{code:e,guild_id:t,email:n},trackedActionData:{event:r.a9.HUB_EMAIL_VERIFY}})];case 2:c=s.sent();u=null===(o=c.body.guild)||void 0===o?void 0:o.id;a.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:u});return[2,c.body];case 3:f=s.sent();a.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:f.body});throw f;case 4:return[2]}}))}))()}}},450700:(e,t,n)=>{"use strict";n.d(t,{b8:()=>f,GR:()=>d,ul:()=>E});var r=n(675860),o=n(173436),a=n(88051),i=n(935406),l=n(461061);function c(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,l,"next",e)}function l(e){c(a,r,o,i,l,"throw",e)}
i(void 0)}))}}var s=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0
}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function f(){return p.apply(this,arguments)}function p(){return(p=u((function(){var e,t;return s(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,(0,i.Kb)({url:l.ANM.LIBRARY,oldFormErrors:!0},!1)];case 1:e=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_SUCCESS",libraryApplications:e.body});return[3,3];case 2:t=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_FAIL",error:t});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=u((function(e){var t,n,i;return s(this,(function(c){switch(c.label){case 0:return null==(t=e.primarySkuId)?[2]:[4,r.Z.get({url:l.ANM.APPLICATION_BRANCH_LIST(e.id),oldFormErrors:!0}).then((function(e){return e.body}))];case 1:n=c.sent();i=n.map((function(n){return a.Z.createForTestMode({id:e.id,skuId:t,branch:n})}));o.Z.dispatch({type:"LIBRARY_APPLICATIONS_TEST_MODE_ENABLED",libraryApplications:i
});return[2]}}))}))).apply(this,arguments)}function E(e,t,n){o.Z.dispatch({type:"LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE",applicationId:e,branchId:t,launchOptionId:n})}},152163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(667294),o=n(294184),a=n.n(o),i=n(973935),l=n(388721),c=n(791462),u=n(730189),s=n(769002),f=n(409271),p=n(300327),d=n(401386),m=n(917870),E=n(641082),h=n(155205);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&T(e,t)}function I(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function N(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}function A(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var R=function(e){O(n,e);var t=C(n);function n(){_(this,n);var e;(e=t.apply(this,arguments)).state={hover:!1};e.key=void 0;e.onError=function(){var t=e.getSrc();null!=t&&(e.cancelLoadImage=(0,s.po)(t,(function(t){if(!t){e.key=Date.now();e.forceUpdate()}})))};e.onMouseEnter=function(t){e.setState({hover:!0});var n=e.props.onMouseEnter;null!=n&&n(t)};e.onMouseLeave=function(t){e.setState({hover:!1});var n=e.props.onMouseLeave;null!=n&&n(t)};return e}var o=n.prototype;o.componentWillUnmount=function(){var e;null===(e=this.cancelLoadImage)||void 0===e||e.call(this)};o.getSrc=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.src,n=e.emojiId,r=e.emojiName,o=e.animated,a=e.shouldAnimate,i=e.isFocused,l=e.isInteracting,c=e.size,u=void 0===c?"default":c,s=this.state.hover;if(null!=t)return t;if(null!=n){var f=44;switch(u){case"jumbo":f=96;break;case"reaction":f=32;break;default:f=44}return m.ZP.getEmojiURL({id:n,animated:i&&!0===o&&(!0===a||s||!0===l),size:f})}return null!=r?E.ZP.getURL(r):void 0};o.render=function(){var e,t,n=this.props,o=n.emojiName,i=n.animated,l=n.className,c=n.size,u=void 0===c?"default":c,s=n.alt,f=(n.shouldAnimate,n.isFocused,n.emojiId),p=(n.autoplay,n.isInteracting,I(n,["emojiName","animated","className","size","alt","shouldAnimate","isFocused","emojiId","autoplay","isInteracting"])),d=this.getSrc();if(null==d||""===d)return r.createElement("span",{className:a()("emoji","emoji-text")},o);i&&(e={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave});return r.createElement("img",g({},p,{key:this.key,
src:d,alt:null!==(t=null!=s?s:o)&&void 0!==t?t:void 0,draggable:!1},e,{className:a()("emoji",l,{jumboable:"jumbo"===u}),onError:this.onError},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}({"data-type":"emoji"},null!=f&&""!==f?{"data-id":f}:{"data-name":o})))};return n}(r.PureComponent);R.defaultProps={isInteracting:!1};var P=function(e){var t=function(e){var t=i.findDOMNode(e);if((0,l.k)(t)){c.push([t,e]);u.observe(t)}else 0},n=function(e){var t=i.findDOMNode(e);u.unobserve(t);var n=c.findIndex((function(t){var n=A(t,2);n[0];return n[1]===e}));if(-1!==n){c.splice(n,1);if(-1!==(n=a.indexOf(e))){a.splice(n,1);n<o&&a.length>=o&&a[o-1].forceUpdate()}}else 0};if(null==window.IntersectionObserver)return function(t){
return r.createElement(e,g({},t,{shouldAnimate:t.animated}))};var o=100,a=[],c=[],u=new window.IntersectionObserver((function(e){e.forEach((function(e){var t=c.find((function(t){return A(t,1)[0]===e.target}));if(null!=t){var n=t[1];if(e.intersectionRatio>=.7){var r,i;if(-1!==a.indexOf(n)){0;return}var l=Math.abs(e.intersectionRect.bottom-Number(null===(r=e.rootBounds)||void 0===r?void 0:r.bottom))<Math.abs(e.intersectionRect.top-Number(null===(i=e.rootBounds)||void 0===i?void 0:i.top));l?a.unshift(n):a.push(n);n.forceUpdate();l&&a.length>o&&a[o].forceUpdate()}else{var u=a.indexOf(n);if(-1!==u){a.splice(u,1);n.forceUpdate();u<o&&a.length>=o&&a[o-1].forceUpdate()}}}else 0}))}),{threshold:.7});return function(i){O(c,i);var l=C(c);function c(){_(this,c);return l.apply(this,arguments)}var u=c.prototype;u.shouldAutoplay=function(e){return e.animated&&e.autoplay};u.componentDidMount=function(){this.shouldAutoplay(this.props)&&t(this)};u.componentDidUpdate=function(e){
var r=this.shouldAutoplay(e),o=this.shouldAutoplay(this.props);o!==r&&(o?t(this):n(this))};u.componentWillUnmount=function(){this.shouldAutoplay(this.props)&&n(this)};u.render=function(){var t=a.indexOf(this),n=this.props,i=n.autoplay,l=n.reduceMotion,c=I(n,["autoplay","reduceMotion"]);return r.createElement(d.G.Consumer,null,(function(n){return r.createElement(e,g({},c,{autoplay:i||!1,shouldAnimate:-1!==t&&t<o&&!n.disableAnimations&&!l}))}))};return c}(r.Component)}(R);function L(e){var t=f.Yk.useSetting(),n=(0,c.cj)([u.Z],(function(){return{autoplay:null==e.autoplay?t:e.autoplay,reduceMotion:u.Z.useReducedMotion}})),o=__OVERLAY__?(0,c.e7)([p.Z],(function(){return p.Z.isInstanceFocused()})):(0,h.n)();return r.createElement(P,g({},e,n,{isFocused:o}))}},401246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(667294),o=n(163585),a=n.n(o);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function p(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var v=n(182765),_=function(e){s(o,e);var t=h(o);function o(){i(this,o);var e;(e=t.apply(this,arguments)).QRRef=r.createRef();return e}var a=o.prototype;a.componentDidMount=function(){var e=this;n.e(95951).then(n.t.bind(n,295951,23)).then((function(t){var n=t.default;new n(e.QRRef.current,p(f({},e.props),{correctLevel:n.CorrectLevel.M}))}))};a.componentDidUpdate=function(){var e=this;n.e(95951).then(n.t.bind(n,295951,23)).then((function(t){var n=t.default;new n(e.QRRef.current,p(f({},e.props),{correctLevel:n.CorrectLevel.M}))}))};a.render=function(){var e=this.props,t=e.colorLight,n=e.className;return r.createElement("div",{ref:this.QRRef,style:{padding:8,borderRadius:4,background:t},className:n})};return o}(r.PureComponent)
;_.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000"};(function(e){s(n,e);var t=h(n);function n(){i(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return r.createElement("div",{className:a().qrCodeContainer},r.createElement(_,c({},this.props)),r.createElement("div",{className:a().qrCodeOverlay},r.createElement("img",{src:v,alt:""})))};return n}(r.PureComponent)).defaultProps={width:144,height:144,colorLight:"#ffffff",colorDark:"#000000"};const y=_},855553:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>ya});var r=n(667294),o=n(517563),a=n(506884),i=n(606076),l=n(791462),c=n(173436),u=n(822567),s=n(981171),f=n(671018),p=n(675860),d=n(476575),m=n(584268),E=n(737949),h=n(932847),v=n(245189),_=n(461061);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return g(e)}function b(e,t){
return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var I=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function T(e,t){h.default.track(_.rMx.BROWSER_HANDOFF_SUCCEEDED,{authenticated:e,handoff_source:t})}var A=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=N(n);function n(){y(this,n);var e;(e=t.apply(this,arguments)).handleEnd=function(t){var n=t.handoffToken,r=t.fingerprint,o=E.Z.key;if(null!=o&&E.Z.isHandoffAvailable())e.handleHandoff({handoffKey:o,handoffToken:n,fingerprint:r,handoffSource:void 0});else{u.Z.setFingerprint(null);(0,d.by)()}};return e}var r=n.prototype;r._initialize=function(){c.Z.subscribe("BROWSER_HANDOFF_END",this.handleEnd);c.Z.subscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)};r._terminate=function(){c.Z.unsubscribe("BROWSER_HANDOFF_END",this.handleEnd);c.Z.unsubscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)};r.handleHandoff=function(e){var t=e.handoffKey,n=e.handoffToken,r=e.fingerprint,o=e.handoffSource;if(null!=n)p.Z.post({url:_.ANM.HANDOFF_EXCHANGE,body:{key:t,handoff_token:n}
}).then((function(e){var t=e.body;(0,d.Vb)(t.user);u.Z.loginToken(t.token,!1);T(!0,o)}),(function(e){null!=r&&T(!1,o);u.Z.setFingerprint(r);(0,d.lx)();if(o===m.F.ROLE_SUBSCRIPTION){var t;h.default.track(_.rMx.MOBILE_WEB_HANDOFF_FAILURE,{reason:null!==(t=e.message)&&void 0!==t?t:e.text,handoff_source:o})}}));else if(null!=r){u.Z.setFingerprint(r);T(!1,o);(0,d.lx)()}else{u.Z.setFingerprint(r);(0,d.by)()}};r.__getLocalVars=function(){return{}};return n}(v.Z);const S=new A;var C=n(725749);function R(e){c.Z.dispatch({type:"AUTH_INVITE_UPDATE",invite:e})}var P=n(294184),L=n.n(P),M=n(99918),w=n(190335),Z=n(614503),D=n(363419),x=n(908570),U=n(449953),k=n(330665),G=n(959797),B=n(3066),j=n.n(B),F=n(380203),H=n.n(F);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function K(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){z(a,r,o,i,l,"next",e)}function l(e){z(a,r,o,i,l,"throw",e)}i(void 0)}))}}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){
i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};const q=function(){var e,t=W(r.useState(""),2),o=t[0],a=t[1],i=W(r.useState(""),2),c=i[0],u=i[1],s=W(r.useState(!1),2),f=s[0],p=s[1],d=W(r.useState(!1),2),m=d[0],E=d[1],h=W(r.useState(null),2),v=h[0],_=h[1],y=W(r.useState(null),2),g=y[0],b=y[1],O=(0,l.e7)([Z.Z],(function(){return Z.Z.getCountryCode()})),I=O.code.split(" ")[0],N=(e=K((function(){var e;return Y(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,M.Z.resendCode(o)];case 1:t.sent();return[3,3];case 2:e=t.sent();b(e.body.message);return[3,3];case 3:return[2]}}))})),function(){return e.apply(this,arguments)}),T=function(){var e=K((function(){var e,t;return Y(this,(function(n){switch(n.label){case 0:p(!0);n.label=1;case 1:n.trys.push([1,3,4,5])
;return[4,M.Z.verifyPhone(I+o,c)];case 2:e=n.sent().token;_(null);b(null);E(!0);M.Z.validatePhoneForSupport(e);return[3,5];case 3:if((t=n.sent()).body.message){_(null);b(t.body.message)}else{_(t.body.phone);b(t.body.code)}return[3,5];case 4:p(!1);return[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),A=r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(882253)}),r.createElement(x.Dx,{className:L()(H().marginTop20,j().flex,j().justifyCenter,j().alignCenter)},G.Z.Messages.MEMBER_VERIFICATION_PHONE_VERIFIED,r.createElement(U.Z,{className:H().marginLeft8})));return m?A:r.createElement(x.ZP,null,r.createElement(x.Dx,null,G.Z.Messages.ENTER_CODE),r.createElement(x.DK,{className:H().marginTop8},G.Z.Messages.VERIFY_PHONE_FOR_SUPPORT),r.createElement(x.gO,{className:H().marginTop20},r.createElement(D.Z,{label:G.Z.Messages.FORM_LABEL_PHONE_NUMBER,alpha2:O.alpha2,countryCode:I,value:o,autoComplete:"off",spellCheck:"false",onChange:a,forceMode:w.Nz.PHONE,error:v
}),r.createElement(x.II,{className:H().marginTop20,label:G.Z.Messages.CONFIRMATION_CODE,value:c,onChange:u,maxLength:k.z,error:g}),r.createElement(x.zx,{size:x.zx.Sizes.SMALL,look:x.zx.Looks.LINK,onClick:N},G.Z.Messages.RESEND_CODE),r.createElement(x.zx,{className:H().marginTop20,onClick:T,submitting:f},G.Z.Messages.DONE)))};var X=n(722792),Q=n(58226),$=n(154637);function J(e){var t=null!=e.hash&&""!==e.hash?(0,o.parse)(e.hash):null;if(null!=(null==t?void 0:t.token))return t.token;var n=null!=e.search&&""!==e.search?(0,o.parse)(e.search):null;return null!=(null==n?void 0:n.token)?n.token:null}var ee=n(655695),te=n(324954);function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e){re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return re(e)}function oe(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}var ie=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}var ce=!1,ue=null,se=null;var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&ae(e,t)}(n,e);var t=le(n);function n(){ne(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(){return{verifySuccess:ce,verifyErrors:ue,redirectGuildId:se}};r.__getLocalVars=function(){return{verifySuccess:ce,verifyErrors:ue,redirectGuildId:se}};return n}(l.ZP.Store);fe.displayName="HubEmailVerificationStore";const pe=new fe(c.Z,{HUB_VERIFY_EMAIL_SUCCESS:function(e){var t=e.guildId;ce=!0;ue=null;se=t},HUB_VERIFY_EMAIL_FAILURE:function(e){var t=e.errors;ce=!1;ue=t}});var de=n(441143),me=n.n(de),Ee=n(131795),he=n.n(Ee),ve=n(951660),_e=n(531286),ye=n(865622),ge=n(631134),be=n(18700),Oe=n(618468);function Ie(e){var t=function(e){var t,n=null===(t=he().os)||void 0===t?void 0:t.family;if("Android"===n||"iOS"===n){var r=ge.default.getFingerprint(),o=(0,_e.WS)();me()(null!=e,"generateAppPath: guildId cannot be null");return(0,_e.ZP)((0,ve.z0)(e),{utmSource:"verify_hub_email",fingerprint:r,attemptId:o})}return"discord://"}(e),n=(0,_e.zS)(t)
;null!=n&&h.default.track(_.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,ye.K)(n.fingerprint),attempt_id:n.attemptId,source:n.utmSource});Oe.Z.launch(t,(function(e){e||(0,ee.dL)(be.Z.fallbackRoute)}))}var Ne=n(920032),Te=n.n(Ne);function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}l.ZP.initialize();var Ce=n(46323),Re=n(505977),Pe=n(248088),Le=n(159065),Me=n(840502),we=n(624387),Ze=n(487502),De=n(685351),xe=n(566991),Ue=n.n(xe);function ke(e){var t=e.text,o=e.buttonCta,a=e.onClick;return r.createElement(r.Fragment,null,r.createElement(x.Ee,{src:n(819361)}),r.createElement(x.Dx,{className:L()(H().marginTop20,H().marginBottom8,j().flexCenter)},G.Z.Messages.DISCORD_DESC_SHORT),r.createElement(x.DK,{className:H().marginBottom40},G.Z.Messages.DISCORD_DESC_LONG),r.createElement(we.Z,{className:Ue().card,type:we.Z.Types.CUSTOM},r.createElement("img",{alt:"",className:Ue().cardAccentLeft,src:n(637849)}),r.createElement("img",{alt:"",className:Ue().cardAccentRight,src:n(837307)}),r.createElement(Ze.Z,{
className:Ue().cardContents,direction:Ze.Z.Direction.VERTICAL,align:Ze.Z.Align.STRETCH,grow:0},r.createElement(De.x,{tag:"strong",className:Ue().buttonTitle,variant:"text-md/normal",style:{color:_.wL4.PRIMARY_DARK_300}},t),r.createElement(x.zx,{className:Ue().button,onClick:a},o))))}function Ge(e){var t=e.text,n=e.buttonCta,o=e.theme,a=void 0===o?_.BRd.DARK:o,i=e.onClick;return r.createElement(x.ZP,{theme:a},r.createElement(ke,{text:t,buttonCta:n,onClick:i}))}var Be=n(314540),je=n(222419),Fe=n(730381),He=n.n(Fe),Ve=n(553494),ze=(0,Ve.B)({kind:"user",id:"2021-03_expiration_notice_mobile_web",label:"Show expiration notice on mobile web invite",defaultConfig:{showExpirationNotice:!1},treatments:[{id:1,label:"Show expiration notice",config:{showExpirationNotice:!0}}]}),Ke=((0,Ve.B)({kind:"user",id:"2021-03_expiration_notice_ios",label:"Show expiration notice on ios invite",defaultConfig:{showExpirationNotice:!1},treatments:[{id:1,label:"Show expiration notice",config:{
showExpirationNotice:!0}}]}),(0,Ve.B)({kind:"user",id:"2021-03_expiration_notice_ios_embed",label:"Show expiration notice on ios invite embed",defaultConfig:{showExpirationNotice:!1},treatments:[{id:1,label:"Show expiration notice",config:{showExpirationNotice:!0}}]}),(0,Ve.B)({kind:"user",id:"2021-03_expiration_notice_ios_placeholder",label:"Update invite placholder to invoke urgency",defaultConfig:{useUrgentPlaceholder:!1,useLinkPlaceholder:!1},treatments:[{id:1,label:"Update placeholder to invoke urgency",config:{useUrgentPlaceholder:!0,useLinkPlaceholder:!1}},{id:2,label:"Update placeholder to link only",config:{useUrgentPlaceholder:!1,useLinkPlaceholder:!0}}]}),n(443429)),We=n(653772);const Ye=function(e){var t=null==e?void 0:e.expires_at,n=!function(e){switch(null==e?void 0:e.state){case _.r2o.EXPIRED:case _.r2o.BANNED:case _.r2o.ERROR:case _.r2o.RESOLVING:return!1;default:return!0}}(e);return(0,l.e7)([We.Z],(function(){var t
;return null!=We.Z.getGuild(null==e||null===(t=e.guild)||void 0===t?void 0:t.id)}))||n||null==t?null:t};var qe=n(730367),Xe=n(961576),Qe=n.n(Xe),$e=function(e){var t=e.expiredAt,n=e.className;ze.trackExposure({});if(!ze.useExperiment({}).showExpirationNotice)return null;var o=He()(t).fromNow(!0);return r.createElement("div",{className:L()(Qe().container,n)},r.createElement("div",{className:Qe().expirationContainer},r.createElement(Ke.Z,{color:qe.wL.WHITE,width:14,height:14,className:Qe().clock}),r.createElement(De.x,{variant:"text-sm/normal",color:"header-primary"},G.Z.Messages.INVITE_EXPIRATION_NOTICE.format({duration:o}))))};const Je=function(e){var t=e.invite,n=e.className,o=Ye(t);return null==o?null:r.createElement($e,{expiredAt:o,className:n})};var et=n(891164),tt=n(998591),nt=n(817513),rt=n(202552),ot=n(142583),at=n(82961),it=n(559159),lt=n(917870),ct=n(90816),ut=n(693518),st=n(709990),ft=n(757987),pt=n(462428),dt=n(848545),mt=n(225691),Et=n(995434),ht=n.n(Et),vt=function(e){
var t,n,r={onlineCount:null!==(t=e.approximate_presence_count)&&void 0!==t?t:0,memberCount:null!==(n=e.approximate_member_count)&&void 0!==n?n:0};return 0===r.memberCount&&0===r.memberCount?null:r},_t=function(e){return e.target_type===dt.Iq.STREAM&&null!=e.target_user},yt=function(e){var t;return(null===(t=e.channel)||void 0===t?void 0:t.type)===_.d4z.GROUP_DM},gt=function(e){return null==e.channel&&null==e.guild&&null!=e.inviter},bt=function(e){return e.state===_.r2o.ACCEPTED},Ot=function(e){return null!=e.guild_scheduled_event},It=function(e){return!Ot(e)&&(!!gt(e)||null!=e.inviter&&!bt(e)&&!function(e){var t,n=vt(e);return(null!==(t=null==n?void 0:n.memberCount)&&void 0!==t?t:0)>100}(e))},Nt=function(e){var t=e.guild,n=e.user,o=e.application;return null!=o?r.createElement(ut.Z,{className:ht().appIcon,game:o,size:ht().appIconSize}):null!=n?r.createElement(x.qE,{src:n.getAvatarURL(void 0,100),size:x.qE.Sizes.DEPRECATED_SIZE_100,className:ht().avatar}):null!=t?r.createElement(x.Vj,{
guild:t,size:x.Vj.Sizes.LARGER,className:ht().guildIcon,animate:!0}):null};function Tt(e){var t,n=e.invite,o=e.textClassName,a=e.className,i=vt(n);return null==i||It(n)||(null==n||null===(t=n.guild)||void 0===t?void 0:t.id)===mt.fQ?null:r.createElement(x.EJ,{className:L()(ht().activityCount,a),online:i.onlineCount,total:i.memberCount,textClassName:o,flat:!0})}function At(e){var t=e.invite,n=e.showBigUserIcon,o=r.useMemo((function(){return n?null:_t(t)&&null!=t.target_user?lt.ZP.getUserAvatarURL(t.target_user):It(t)&&null!=t.inviter?lt.ZP.getUserAvatarURL(t.inviter):null}),[t,n]),a=G.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN;if(yt(t)){var i,l;a=null!=(null===(i=t.channel)||void 0===i?void 0:i.name)&&null!=(null===(l=t.inviter)||void 0===l?void 0:l.username)?G.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM_BY_USER.format({username:t.inviter.username}):G.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM
}else _t(t)&&null!=t.target_user?a=G.Z.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:t.target_user.username}):bt(t)?a=G.Z.Messages.INSTANT_INVITE_YOU_ARE_ALREADY_A_MEMBER_OF:It(t)&&null!=t.inviter&&(a=G.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_BY_USER.format({username:t.inviter.username}));return r.createElement("div",{className:ht().inviteJoinContainer},null!=o&&r.createElement("div",{className:ht().inviterIconWrapper},r.createElement(x.qE,{src:o,size:x.qE.Sizes.SIZE_24})),r.createElement(x.DK,{className:ht().inviteJoinSubTitle},a))}function St(e){var t,n,o,a=e.user,i=e.guild,l=e.channel,c=e.application,u=e.showBigUserIcon;if(null!=i){u&&null==c&&(t=r.createElement(x.Vj,{guild:i,size:x.Vj.Sizes.SMALL}));n=i.name;if(null!=c){n=c.name;o=r.createElement("div",{className:ht().inviteJoinContainer},r.createElement(x.DK,{className:ht().appIn},G.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_IN),r.createElement("div",{className:ht().guildContainer},r.createElement(x.Vj,{
guild:i,size:x.Vj.Sizes.SMALL}),r.createElement(pt.Z,{className:ht().appGuildName,color:pt.Z.Colors.CUSTOM,tag:"span",size:pt.Z.Sizes.SIZE_24},i.name)))}}else if(null!=l){if(null==a)throw new Error("no inviter in group DM invite");var s=a.username;if(null!=l.name&&""!==l.name){n=l.name;null!=l.icon&&(t=r.createElement(x.MC,{channel:l,size:x.qE.Sizes.SIZE_32}))}else n=s}else if(null!=a){var f=a.username;n=G.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_CHAT.format({username:f});o=r.createElement(x.DK,{className:ht().directInviteSubTitle},G.Z.Messages.INSTANT_INVITE_DIRECT_FRIEND_DESCRIPTION.format({username:"".concat(f,"#").concat(a.discriminator)}))}return r.createElement(r.Fragment,null,r.createElement(x.Dx,{className:ht().title},null!=i?r.createElement(st.Z,{guild:i,className:ht().guildBadge,tooltipPosition:ft.ZP.Positions.LEFT}):null,t,n),o)}
var Ct=n(733730),Rt=n(53551),Pt=n(989232),Lt=n(948571),Mt=n(191940),wt=n(613258),Zt=n(666872),Dt=n(993317),xt=n(969225),Ut=n(48843),kt=n(622680),Gt=n.n(kt);function Bt(e){var t,n=e.guildScheduledEvent,o=e.channel,a=e.onAcceptInvite,i=e.isSubmitting,l=(0,wt.xt)(n),c=(0,wt.Z2)(n);return r.createElement("div",{className:Gt().guildEventCard},r.createElement(Zt.ZP,{userCount:n.user_count,startTime:n.scheduled_start_time,name:n.name,description:null!==(t=n.description)&&void 0!==t?t:void 0,isActive:l,isEnded:c,headerVariant:"heading-md/medium",descriptionClassName:Gt().channelDescription,guildId:n.guild_id,eventType:n.entity_type}),null!=o&&r.createElement("div",{className:Gt().channelInfo},r.createElement(Dt.Z,{guildScheduledEvent:n,channel:o})),r.createElement(Mt.Co,{className:Gt().acceptButton,color:Mt.Co.Colors.GREEN,onClick:a,submitting:i},G.Z.Messages.GUILD_PROFILE_JOIN_SERVER_BUTTON))}function jt(e){var t,n=e.invite,o=null!=n.guild?new Pt.Z(n.guild):null;if(null==o)return null
;var a=null!==(t=o.description)&&void 0!==t?t:"";return r.createElement("div",{className:Gt().guildInfoCard},r.createElement(Ut.X,{className:Gt().presentedBy,variant:"text-sm/medium"},G.Z.Messages.STAGE_INVITE_GUILD_HEADER),r.createElement("div",{className:Gt().guildContainer},r.createElement(xt.Z,{guild:o,active:!0,size:xt.Z.Sizes.MEDIUM}),r.createElement("div",{className:Gt().guildDetailsContanier},r.createElement(De.x,{className:Gt().guildName,color:"header-primary",variant:"text-sm/medium",tag:"span"},o.name,r.createElement(st.Z,{guild:o,className:Gt().guildBadge,tooltipPosition:ft.ZP.Positions.LEFT})),r.createElement(Tt,{invite:n,textClassName:Gt().guildInfoMemberCountText,className:Gt().guildInfoMemberCount}))),a.length>0&&r.createElement("details",{className:Gt().guildDescriptionContainer},r.createElement(De.x,{color:"header-secondary",variant:"text-sm/normal"},a)))}function Ft(e){var t=e.invite,n=e.channel,o=e.isSubmitting,a=e.onAcceptInvite,i=t.guild_scheduled_event
;return null!=i?r.createElement(Bt,{guildScheduledEvent:i,channel:n,isSubmitting:o,onAcceptInvite:a}):null}var Ht=n(747973),Vt=n.n(Ht);function zt(){zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return zt.apply(this,arguments)}function Kt(e){var t=e.invite,n=e.onAcceptInvite,o=e.disableUser,a=void 0!==o&&o;if(null==t)return null;var i=null!=t.guild?new Pt.Z(t.guild):null,l=null!=t.channel?new Rt.ZP(t.channel):null,c=null!=t.target_application?new Ct.Z(t.target_application):null,u=a||null==t.inviter?null:new Lt.Z(t.inviter),s=!(null!=t.approximate_member_count&&t.approximate_member_count>100||null!=i&&i.hasFeature(_.oNc.COMMUNITY))&&null!=u&&yt(t),f=function(e){switch(e.state){case _.r2o.ACCEPTING:case _.r2o.APP_OPENING:return!0;default:return!1}}(t),p={invite:t,user:u,guild:i,channel:l,application:c};return Ot(t)?r.createElement(Ft,{invite:t,channel:l,isSubmitting:f,
onAcceptInvite:n}):r.createElement("div",{className:Vt().container},r.createElement(Nt,{application:c,guild:i,user:s||gt(t)?u:null}),gt(t)?null:r.createElement(At,zt({},p,{showBigUserIcon:s})),r.createElement(St,zt({},p,{showBigUserIcon:s})),r.createElement(Tt,zt({},p)),r.createElement(Mt.Co,{onClick:n,submitting:f,className:Vt().acceptButton},G.Z.Messages.INSTANT_INVITE_ACCEPT))}var Wt=n(35628),Yt=n.n(Wt);function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xt(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function Qt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $t(){$t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return $t.apply(this,arguments)}function Jt(e,t){
if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tn,nn=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,
o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function rn(){return r.createElement("div",{className:Yt().centerFlex},r.createElement(at.Z,null))}!function(e){e[e.LOADING=0]="LOADING";e[e.DETAILS=1]="DETAILS";e[e.ERROR=2]="ERROR"}(tn||(tn={}));var on,an=function(e){var t=null==(null==e?void 0:e.state)&&null==(null==e?void 0:e.channel);if(null==e||null==e.state||t)return tn.LOADING;var n=e.state;switch(n){case _.r2o.RESOLVED:case _.r2o.ACCEPTED:case _.r2o.APP_NOT_OPENED:case _.r2o.APP_OPENED:case _.r2o.ACCEPTING:case _.r2o.APP_OPENING:return tn.DETAILS;case _.r2o.EXPIRED:case _.r2o.BANNED:case _.r2o.ERROR:return tn.ERROR;case _.r2o.RESOLVING:
return tn.LOADING;default:(0,ct.vE)(n)}};function ln(e){var t=e.invite,n=e.onAcceptInvite;return(null==t?void 0:t.state)===_.r2o.BANNED?r.createElement(ke,{text:G.Z.Messages.AUTH_BANNED_INVITE_BODY,buttonCta:G.Z.Messages.INVITE_INVALID_CTA,onClick:n}):r.createElement(ke,{text:G.Z.Messages.INVITE_INVALID_ERROR,buttonCta:G.Z.Messages.INVITE_INVALID_CTA,onClick:n})}function cn(e){var t=e.children,n=e.cardChildren,o=e.startAnimHeightPx,a=e.innerStyle,i=Jt(e,["children","cardChildren","startAnimHeightPx","innerStyle"]).invite,l=en(r.useState(an(i)),2),c=l[0],u=l[1],s=r.useRef(null),f=(0,it.Z)(s,!0,[c]),p=(0,Pe.useSpring)({height:null!=(null==f?void 0:f.height)&&0!==(null==f?void 0:f.height)?"".concat(f.height,"px"):"".concat(o,"px"),config:Pe.config.stiff});r.useEffect((function(){var e=an(i);e!==c&&u(e)}),[i,c]);return r.createElement(Pe.animated.div,{className:Yt().inviteCard,style:p},r.createElement(Pe.animated.div,{className:Yt().inviteChildContainer,style:p},r.createElement("section",{
ref:s,className:null==a?void 0:a(c)},t(c))),n)}function un(e){var t=e.invite;if(null==t||!Ot(t))return null;return r.createElement(cn,$t({startAnimHeightPx:0,innerStyle:function(){return Yt().guildInfoInner},cardChildren:r.createElement(Je,{invite:t,className:Yt().expirationNotice})},e),(function(e){return function(e){return null==t?null:e===tn.DETAILS?r.createElement(jt,{invite:t}):null}(e)}))}function sn(e){var t,n=e.invite,o=null!=n&&Ot(n),a=(Qt(t={},tn.DETAILS,Yt().inviteCardInner),Qt(t,tn.ERROR,Yt().inviteCardInnerError),Qt(t,tn.LOADING,Yt().inviteCardInnerLoading),t);return r.createElement(cn,$t({startAnimHeightPx:200,innerStyle:function(e){return a[e]},cardChildren:o?null:r.createElement(Je,{invite:n,className:Yt().expirationNotice})},e),(function(t){return function(t){if(null==n)return r.createElement(rn,null);switch(t){case tn.DETAILS:return r.createElement(Kt,$t({},e,{invite:n}));case tn.ERROR:return r.createElement(ln,$t({},e,{invite:n}));default:
return r.createElement(rn,null)}}(t)}))}!function(e){e[e.Invite=0]="Invite";e[e.PreRegistrationInterstitial=1]="PreRegistrationInterstitial";e[e.Register=2]="Register"}(on||(on={}));function fn(e){var t=e.invite,n=e.inviteKey,o=e.isRegister,a=e.onAcceptInvite,i=en(r.useState(o?on.Register:on.Invite),2),c=i[0],u=i[1],s=et.$.useExperiment({}),f=s.isEnabled,p=s.interstitial,d=(0,l.e7)([rt.Z],(function(){return rt.Z.hasLoadedExperiments})),m=(0,l.e7)([ge.default],(function(){return ge.default.isAuthenticated()})),E=(0,Re.k6)();r.useEffect((function(){u(o&&f?"before-register"===p?on.PreRegistrationInterstitial:on.Register:on.Invite)}),[o,f,p]);var h=(null!=t?t:{}).guild,v={};if(null!=(null==h?void 0:h.splash)){var y=lt.ZP.getGuildSplashURL({id:h.id,splash:h.splash});if(null!=y){v.backgroundImage="url(".concat(y,")");v.backgroundSize="cover"}}var g,b,O=(b=(g=function(e){var r;return nn(this,(function(o){switch(o.label){case 0:r=null!=t&&Ot(t);return!d||r||m?[3,2]:[4,et.$.trackExposure({})]
;case 1:o.sent();if(f){E.push(_.Z5c.INVITE_REGISTER((0,Ce.jX)(n)));return[2]}o.label=2;case 2:a(e);return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=g.apply(e,t);function a(e){Xt(o,n,r,a,i,"next",e)}function i(e){Xt(o,n,r,a,i,"throw",e)}a(void 0)}))}),function(e){return b.apply(this,arguments)});return r.createElement(x.ZP,{theme:_.BRd.DARK,className:Yt().splashBackground,style:v,contentClassName:Yt().centerAuthBoxContent},c===on.Invite?r.createElement(sn,$t({},e,{onAcceptInvite:O})):null,null!=t&&c===on.PreRegistrationInterstitial?r.createElement(cn,$t({startAnimHeightPx:200,innerStyle:function(){return Yt().downloadAppAuthBoxInner}},e),(function(){return r.createElement(tt.l,{invite:t,variant:"before-register",onContinueInBrowser:function(){return u(on.Register)},onDownloadApp:e.onAcceptInvite})})):null,null!=t&&c===on.Register?r.createElement(cn,$t({startAnimHeightPx:200,innerStyle:function(){return Yt().downloadAppAuthBoxInner}
},e),(function(){var o;return r.createElement(Be.Z,{transitionTo:e.transitionTo,authBoxClassName:Yt().inviteRegisterAuthBox,onLoginStart:e.onAcceptInvite,invite:null!=t?t:void 0,inviteKey:n,redirectTo:_.Z5c.CHANNEL(null==t||null===(o=t.guild)||void 0===o?void 0:o.id),onClickDownloadApp:e.onAcceptInvite,isMobileWebInviteRegistration:!0})})):null,r.createElement(un,$t({},e)))}var pn=new Le.Z;et.$.trackExposure=function(e){var t=je.Z.getUserExperimentDescriptor(et.$.definition.id);if(null!=t){var n={"X-Discord-Locale":nt.default.locale,"Content-Type":"application/json"},r=ge.default.getToken();null!=r&&(n.Authorization=r);var o=h.default.getSuperPropertiesBase64();null!=o&&(n["X-Super-Properties"]=o);var a=ge.default.getFingerprint();null!=a&&(n["X-Fingerprint"]=a);var i=(0,Me.zO)(),l=h.default.expandEventProperties({name:et.$.definition.id,revision:t.revision,population:t.population,bucket:t.bucket,location:"unknown",client_send_timestamp:i,client_track_timestamp:i});if(null!=a){
var c=(0,ye.s)(a);null!=c&&(l.client_uuid=pn.generate(c))}return fetch(p.Z.getAPIBaseURL()+_.ANM.TRACK,{method:"POST",headers:n,body:JSON.stringify({events:[{type:"experiment_user_triggered",properties:l}]})})}};var dn=n(447887),mn=n(137861),En=n(743221),hn=n(175782);const vn=function(){return Date.now()-hn.mb};var _n=n(323097),yn=n(590499),gn=n(98109);function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e){On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return On(e)}function In(e,t){return!t||"object"!==Tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e,t){Nn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Nn(e,t)}var Tn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function An(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=On(e);if(t){var o=On(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return In(this,n)}}l.ZP.initialize();var Sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Nn(e,t)}(o,e);var t=An(o);function o(){bn(this,o);return t.apply(this,arguments)}var a=o.prototype;a.componentDidMount=function(){var e=J(this.props.location);null!=e&&u.Z.authorizeIPAddress(e);(0,te.e)("authorize_ip")};a.renderLoginButton=function(){if("Android"===he().os.family||"iOS"===he().os.family)return null
;var e=this.props.transitionTo;return r.createElement(x.zx,{onClick:function(){return e(_.Z5c.LOGIN)}},G.Z.Messages._LOGIN)};a.renderFailed=function(){return r.createElement(x.ZP,null,r.createElement("img",{alt:"",src:n(955568),className:H().marginBottom20}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.AUTHORIZATION_EXPIRED),r.createElement(x.DK,{className:H().marginBottom40},G.Z.Messages._AUTH_EXPIRED_SUGGESTION),this.renderLoginButton())};a.renderSucceeded=function(){return r.createElement(x.ZP,null,r.createElement("img",{alt:"",src:n(230978),className:H().marginBottom20}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.IP_AUTHORIZATION_SUCCEEDED),r.createElement(x.DK,{className:H().marginBottom40},G.Z.Messages._AUTH_IP_AUTH_SUCCEEDED_SUGGESTION),this.renderLoginButton())};a.renderDefault=function(){return r.createElement(x.ZP,null,r.createElement(x.Hh,null),r.createElement(x.Dx,null,G.Z.Messages.AUTHORIZING))};a.render=function(){
var e=this.props,t=e.verifyFailed,n=e.verifySucceeded;return t?this.renderFailed():n?this.renderSucceeded():this.renderDefault()};return o}(r.PureComponent);Sn.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Cn=l.ZP.connectStores([ge.default],(function(){return{verifyFailed:ge.default.didVerifyFail(),verifySucceeded:ge.default.didVerifySucceed()}}))(Sn);const Rn=function(e){var t=e.location,o=(0,l.cj)([ge.default],(function(){return{verifyFailed:ge.default.didVerifyFail(),verifySucceeded:ge.default.didVerifySucceed()}})),a=o.verifyFailed,i=o.verifySucceeded;r.useEffect((function(){var e=J(t);null!=e&&u.Z.authorizePayment(e);(0,te.e)("authorize_payment")}),[t]);return a?r.createElement(x.ZP,null,r.createElement("img",{alt:"",src:n(639915),className:H().marginBottom20}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.PAYMENT_AUTHORIZATION_EXPIRED),r.createElement(x.DK,{className:H().marginBottom40
},G.Z.Messages.PAYMENT_AUTH_EXPIRED_SUGGESTION)):i?r.createElement(x.ZP,null,r.createElement("img",{alt:"",src:n(143613),className:H().marginBottom20}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.PAYMENT_AUTHORIZATION_SUCCEEDED),r.createElement(x.DK,{className:H().marginBottom40},G.Z.Messages.PAYMENT_AUTH_SUCCEEDED_SUGGESTION)):r.createElement(x.ZP,null,r.createElement(x.Hh,null),r.createElement(x.Dx,null,G.Z.Messages.PAYMENT_AUTHORIZING))};var Pn=n(772731),Ln=n(402232),Mn=n(99456);function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zn(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value)
;if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xn,Un=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,
r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};!function(e){e[e.INITIAL=0]="INITIAL";e[e.RPC_CONNECTED=1]="RPC_CONNECTED";e[e.APP_OPENING=2]="APP_OPENING";e[e.APP_OPENED=3]="APP_OPENED"}(xn||(xn={}));const kn=function(e){var t=e.match,n=e.location,o=Dn(r.useState(xn.INITIAL),2),a=o[0],i=o[1];r.useEffect((function(){
Pn.default.once("connected",(function(){i(xn.RPC_CONNECTED)}));Pn.default.once("disconnected",(function(){(0,ee.uL)((0,Ln.M)())}));Pn.default.connect()}),[]);r.useEffect((function(){if(a===xn.INITIAL){var e=setTimeout((function(){return(0,ee.uL)((0,Ln.M)())}),3e3);return function(){return clearTimeout(e)}}}),[a]);var l,c,u=r.useCallback((c=(l=function(e,t,n,r){var o;return Un(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);i(xn.APP_OPENING);return[4,(0,Mn.s)(_.jEp.CHANNEL,{guildId:e,channelId:t,messageId:n,search:r})];case 1:a.sent();i(xn.APP_OPENED);return[3,3];case 2:o=a.sent();console.error("Error opening deeplink",o);return[3,3];case 3:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=l.apply(e,t);function a(e){Zn(o,n,r,a,i,"next",e)}function i(e){Zn(o,n,r,a,i,"throw",e)}a(void 0)}))}),function(e,t,n,r){return c.apply(this,arguments)}),[]);if((0,ee.DB)())return null;switch(a){case xn.RPC_CONNECTED:
return r.createElement(x.ZP,null,r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.DEEPLINK_BROWSER_TITLE),r.createElement(x.DK,null,G.Z.Messages.DEEPLINK_BROWSER_PROMPT),r.createElement(x.zx,{className:H().marginTop40,onClick:function(){return u(t.params.guildId,t.params.channelId,t.params.messageId,n.search)}},G.Z.Messages.OPEN_IN_APP),r.createElement(x.zx,{className:L()(H().marginTop8,H().marginCenterHorz),color:x.zx.Colors.LINK,look:x.zx.Looks.LINK,onClick:function(){return(0,ee.uL)((0,Ln.M)())}},G.Z.Messages.CONTINUE_IN_BROWSER));case xn.INITIAL:case xn.APP_OPENING:return r.createElement(x.ZP,null,r.createElement(x.Dx,null,G.Z.Messages.APP_OPENING),r.createElement(x.Hh,null));case xn.APP_OPENED:return r.createElement(x.ZP,null,r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.APP_OPENED_TITLE),r.createElement(x.DK,null,G.Z.Messages.DEEPLINK_BROWSER_APP_OPENED))}};var Gn=n(333999);function Bn(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e){jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return jn(e)}function Fn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e,t){Hn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Hn(e,t)}var Vn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=jn(e);if(t){var o=jn(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return Fn(this,n)}}l.ZP.initialize();var Kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Hn(e,t)}(a,e);var t=zn(a);function a(){Bn(this,a);var e;(e=t.apply(this,arguments)).state={busy:!0,success:!1,user:null,category:null};return e}var i=a.prototype;i.componentDidMount=function(){var e=this,t=J(this.props.location),n=(0,o.parse)(this.props.location.search);p.Z.post({url:_.ANM.DISABLE_EMAIL_NOTIFICATIONS,body:{token:t,pixel_uuid:n.hash,category:n.category,email_type:n.email_type},oldFormErrors:!0}).then((function(t){var r=t.body.user,o=new Lt.Z(r);e.setState({success:!0,busy:!1,user:o,category:n.category})}),(function(){return e.setState({success:!1,busy:!1})}));(0,te.e)("disable_email_notifications")};i.renderBusy=function(){
return r.createElement(x.ZP,null,r.createElement(x.Hh,null))};i.renderCategorySuccess=function(e,t){var n=this.props,o=n.defaultRoute,a=n.transitionTo,i=G.Z.Messages.EMAIL_CATEGORY_UNSUBSCRIBE_EMAIL_BODY.format({category:t});return r.createElement(x.ZP,null,r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.EMAIL_CATEGORY_UNSUBSCRIBE_HEADER),r.createElement(x.DK,null,i),r.createElement(x.zx,{className:H().marginTop20,onClick:function(){return a(o)}},G.Z.Messages.CONTINUE_TO_WEBAPP),r.createElement(x.zx,{className:H().marginTop8,color:x.zx.Colors.LINK,look:x.zx.Looks.LINK,onClick:function(){return a(_.Z5c.SETTINGS("notifications",Gn.vG))}},G.Z.Messages.EMAIL_CATEGORY_MANAGE_SETTING_LABEL))};i.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,o=this.state,a=o.user,i=o.category;if(null!=i){var l=Gn.Od.find((function(e){return e.category===i}));if(null!=l)return this.renderCategorySuccess(i,l.label())}
return r.createElement(x.ZP,null,r.createElement(x.qE,{src:null==a?void 0:a.getAvatarURL(void 0,100),size:x.qE.Sizes.DEPRECATED_SIZE_100,className:H().marginBottom20}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_HEADER),r.createElement(x.DK,null,G.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_BODY),r.createElement(x.zx,{className:H().marginTop40,onClick:function(){return n(t)}},G.Z.Messages.CONTINUE_TO_WEBAPP))};i.renderError=function(){var e=this.props,t=e.defaultRoute,o=e.transitionTo;return r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(709989),className:H().marginBottom20}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER),r.createElement(x.DK,null,G.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY),r.createElement(x.zx,{className:H().marginTop40,onClick:function(){return o(t)}},G.Z.Messages.CONTINUE_TO_WEBAPP))};i.render=function(){
var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()};return a}(r.PureComponent);Kn.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Wn=l.ZP.connectStores([be.Z],(function(){return{defaultRoute:be.Z.defaultRoute}}))(Kn);var Yn=n(450700),qn=n(478695);function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qn(e){Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Qn(e)}function $n(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jn(e,t){Jn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Jn(e,t)}var er=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function tr(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Qn(e);if(t){var o=Qn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $n(this,n)}}var nr={};var rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Jn(e,t)}(n,e);var t=tr(n);function n(){Xn(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(e){return nr[e]};r.__getLocalVars=function(){return{states:nr}};return n}(l.ZP.Store);rr.displayName="CodedLinkNativeAppStateStore";const or=new rr(c.Z,{NATIVE_APP_MODAL_OPENING:function(e){var t=e.code;nr[t]=_.kEZ.OPENING},
NATIVE_APP_MODAL_OPENED:function(e){var t=e.code;nr[t]=_.kEZ.OPEN},NATIVE_APP_MODAL_OPEN_FAILED:function(e){var t=e.code;nr[t]=_.kEZ.OPEN_FAIL}});var ar=n(800539),ir=n(512238),lr=n(202036),cr=n(95467),ur=n(882923),sr=n(989434),fr=n(298716);function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function mr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){dr(a,r,o,i,l,"next",e)}function l(e){dr(a,r,o,i,l,"throw",e)}i(void 0)}))}}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function vr(e){
vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return vr(e)}function _r(e,t){return!t||"object"!==gr(t)&&"function"!=typeof t?pr(e):t}function yr(e,t){yr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yr(e,t)}var gr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=vr(e);if(t){var o=vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _r(this,n)}}var Or,Ir=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};l.ZP.initialize();!function(e){e.REGISTER="register";e.LOGIN="login"}(Or||(Or={}))
;var Nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yr(e,t)}(o,e);var t=br(o);function o(){Er(this,o);var e;(e=t.apply(this,arguments)).state={error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1};e.refreshUser=function(){e.setState({fetchingUser:!0});qn.k({withAnalyticsToken:!0}).then((function(t){return e.setState({currentUser:t,fetchingUser:!1})})).catch((function(){return e.setState({fetchingUser:!1})}))};e.handleContinue=function(){(0,e.props.transitionTo)(_.Z5c.APPLICATION_LIBRARY)};e.handleLogout=function(){var t=e.props.match.params.giftCode;u.Z.logout(_.Z5c.GIFT_CODE_LOGIN(t))};e.handleResendVerification=function(){u.Z.verifyResend();e.setState({sentVerification:!0})};var n=pr(e);e.handleAccept=mr((function(){var e,t,r,o,a;return Ir(this,(function(i){
switch(i.label){case 0:e=n.props,t=e.transitionTo;if(null==(r=e.giftCode))throw new Error("Trying to accept gift before resolve");o=n.getCode();i.label=1;case 1:i.trys.push([1,3,,4]);n.setState({error:null});return[4,s.Z.redeemGiftCode(o)];case 2:i.sent();r.premiumSubscriptionType===fr.p9.TIER_2?t(_.Z5c.APPLICATION_STORE):r.premiumSubscriptionType===fr.p9.TIER_1?t(_.Z5c.ACTIVITY):t(_.Z5c.APPLICATION_LIBRARY);return[3,4];case 3:a=i.sent();n.setState({error:a});return[3,4];case 4:return[2]}}))}));e.resolveGiftCode=function(){var t=e.props.transitionTo,n=e.getCode();s.Z.resolveGiftCode(n,!0,!0).then((function(e){null!=e&&null!=e.giftCode.promotion&&t(_.Z5c.BILLING_PROMOTION_REDEMPTION(n))}))};return e}var a=o.prototype;a.componentDidMount=function(){var e=this.props,t=e.authenticated,n=e.isResolved;t&&this.handleAuthenticated();n||this.resolveGiftCode();(0,te.e)("gift_code")};a.componentDidUpdate=function(e){var t=this,n=this.props,r=n.authenticated;n.isResolved||c.Z.wait((function(){
t.resolveGiftCode()}));r&&!e.authenticated&&this.handleAuthenticated();!r&&e.authenticated&&this.setState({currentUser:null})};a.handleAuthenticated=function(){var e=this.state.currentUser;Yn.b8();null==e&&this.refreshUser()};a.getCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.match.params.giftCode};a.getMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.login?Or.LOGIN:Or.REGISTER};a.getErrorMessage=function(e){var t=this.props.libraryApplication,n=this.state.error,r=null!=n?n.code:null;return r===_.evJ.INVALID_GIFT_SELF_REDEMPTION?G.Z.Messages.GIFT_CONFIRMATION_BODY_SELF_GIFT_NO_PAYMENT:null!=t||r===_.evJ.INVALID_GIFT_REDEMPTION_OWNED?G.Z.Messages.GIFT_CODE_AUTH_HELP_TEXT_OWNED.format({libraryLink:_.Z5c.APPLICATION_LIBRARY
}):e.isClaimed||r===_.evJ.INVALID_GIFT_REDEMPTION_EXHAUSTED?G.Z.Messages.GIFT_CODE_AUTH_HELP_TEXT_CLAIMED:r===_.evJ.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED?G.Z.Messages.GIFT_CODE_SMITE_REJECT_HELP_TEXT:void 0};a.renderSpinner=function(e){return r.createElement(x.ZP,null,r.createElement(x.Dx,null,e),r.createElement(x.Hh,null))};a.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,o=e.transitionTo;return r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(211086),className:H().marginBottom8}),r.createElement(x.Dx,{className:L()(H().marginTop8,H().marginBottom8)},G.Z.Messages.GIFT_CODE_AUTH_INVALID_TITLE),r.createElement(x.DK,null,G.Z.Messages.GIFT_CODE_AUTH_INVALID_BODY),r.createElement(x.zx,{className:L()(H().marginTop40,H().marginBottom8),onClick:function(){return o(t)}},G.Z.Messages.CONTINUE_TO_WEBAPP),r.createElement(x.zx,{onClick:function(){return window.open(cr.Z.getArticleURL(_.BhN.GIFTING),"_blank")},look:x.zx.Looks.LINK,color:x.zx.Colors.LINK
},G.Z.Messages.GIFT_CODE_AUTH_INVALID_TIP))};a.renderAppOpened=function(){var e=this;return r.createElement(x.ZP,null,r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.APP_OPENED_TITLE),r.createElement(x.DK,null,G.Z.Messages.APP_OPENED_BODY),r.createElement(x.zx,{className:H().marginTop40,onClick:function(){return e.setState({continueOnWeb:!0})}},G.Z.Messages.GIFT_CODE_AUTH_CONTINUE_IN_BROWSER))};a.renderVerification=function(e){var t=this.state.sentVerification;return r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(100539),className:H().marginBottom8}),r.createElement(x.Dx,null,G.Z.Messages.GIFT_CODE_AUTH_VERIFICATION_TITLE.format({username:e.username})),r.createElement(x.DK,{className:H().marginTop20},G.Z.Messages.GIFT_CODE_AUTH_HELP_TEXT_VERIFICATION_REQUIRED),r.createElement(x.zx,{disabled:t,className:H().marginTop40,onClick:this.handleResendVerification
},t?G.Z.Messages.GIFT_CODE_AUTH_VERIFICATION_SENT:G.Z.Messages.RESEND_VERIFICATION_EMAIL),r.createElement(x.zx,{look:x.zx.Looks.LINK,color:x.zx.Colors.LINK,onClick:this.refreshUser,className:H().marginTop8},G.Z.Messages.GIFT_CODE_AUTH_CHECK_VERIFICATION_AGAIN))};a.renderAuthenticated=function(e,t){var n=this.getErrorMessage(e),o=null!=n;return r.createElement(x.ZP,null,r.createElement(ur.Z,{giftCode:e}),r.createElement(x.zx,{disabled:o,className:H().marginTop40,onClick:this.handleAccept},G.Z.Messages.GIFT_CODE_AUTH_ACCEPT),null!=n?r.createElement(x.DK,{className:H().marginTop20},n):r.createElement(x.i_,{className:H().marginTop20},G.Z.Messages.GIFT_CODE_AUTH_LOGGED_IN_AS.format({userTag:t.tag,onLogoutClick:this.handleLogout})))};a.render=function(){var e=this.props,t=e.nativeAppState,n=e.sku,o=e.authenticated,a=e.giftCode,i=e.isResolved,l=e.isAccepting,c=e.transitionTo,u=e.location,s=this.state,f=s.fetchingUser,p=s.continueOnWeb;if(t===_.kEZ.OPEN&&!p)return this.renderAppOpened()
;if(t===_.kEZ.OPENING)return this.renderSpinner(G.Z.Messages.APP_OPENING);if(l)return this.renderSpinner(G.Z.Messages.GIFT_CODE_AUTH_ACCEPTING);if(null==a)return i?this.renderExpiredInvite():this.renderSpinner(G.Z.Messages.GIFT_CODE_AUTH_RESOLVING);if(i){if(o){var d=this.state.currentUser;return f||null==d?this.renderSpinner(G.Z.Messages.GIFT_CODE_AUTH_FETCHING_USER):this.requiresVerification&&null!=d?this.renderVerification(d):this.renderAuthenticated(a,d)}return this.getMode()===Or.LOGIN?r.createElement(sr.Z,{giftCodeSKU:n,giftCode:a,transitionTo:c,location:u}):r.createElement(Be.Z,{giftCodeSKU:n,giftCode:a,transitionTo:c,location:u})}return null};!function(e,t,n){t&&hr(e.prototype,t);n&&hr(e,n)}(o,[{key:"requiresVerification",get:function(){var e=this.state.currentUser;return null!=e&&!e.verified}}]);return o}(r.PureComponent);const Tr=l.ZP.connectStores([dn.Z,ar.Z,ge.default,ir.Z,be.Z,or],(function(e){var t=e.match.params.giftCode,n=dn.Z.get(t),r=null!=n?ir.Z.get(n.skuId):null
;return{giftCode:n,sku:r,libraryApplication:null!=r&&null!=n?lr.z2(n,r,ar.Z):null,authenticated:ge.default.isAuthenticated(),defaultRoute:be.Z.defaultRoute,isResolved:dn.Z.getIsResolved(t),isAccepting:dn.Z.getIsAccepting(t),libraryApplicationsFetched:ar.Z.fetched,nativeAppState:or.getState(t)}}))(Nr);var Ar=n(258858),Sr=n(88468),Cr=n(509954),Rr=n(677523),Pr=n(162917),Lr=n(969376),Mr=n(517845),wr=n(714392),Zr=n(111775),Dr=n(386010),xr=n(84405),Ur=n.n(xr);function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gr(){Gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Gr.apply(this,arguments)}function Br(e){Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Br(e)}function jr(e,t){return!t||"object"!==Hr(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fr(e,t){Fr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fr(e,t)}var Hr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Br(e);if(t){var o=Br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}l.ZP.initialize();var zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fr(e,t)
}(o,e);var t=Vr(o);function o(){kr(this,o);var e;(e=t.apply(this,arguments)).handleContinue=function(){var t=e.props,n=t.defaultRoute;(0,t.transitionTo)(n)};return e}var a=o.prototype;a.componentDidMount=function(){(0,te.e)("guildTemplate");Dr.KO||Oe.Z.launch("discord://"+_.Z5c.GUILD_TEMPLATE(this.props.code),(function(){}))};a.componentDidUpdate=function(e){this.props.code!==e.code&&Q.Z.resolveGuildTemplate(this.props.code)};a.renderButton=function(e,t){return Dr.KO?r.createElement(x.zx,{className:H().marginTop40,onClick:t},e):r.createElement(x.v6,{className:H().marginTop40})};a.renderSpinner=function(e){return r.createElement(x.ZP,null,r.createElement(x.Dx,null,e),r.createElement(x.Hh,null))};a.renderInvalidGuildTemplate=function(){return r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(211086),className:H().marginBottom8}),r.createElement(x.Dx,{className:L()(H().marginTop8,H().marginBottom8)
},G.Z.Messages.GUILD_TEMPLATE_INVALID_TITLE),r.createElement(x.DK,null,G.Z.Messages.GUILD_TEMPLATE_INVALID_SUBTITLE),this.renderButton(G.Z.Messages.CONTINUE_TO_WEBAPP,this.handleContinue))};a.renderAppOpened=function(){return r.createElement(x.ZP,null,r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.APP_OPENED_TITLE),r.createElement(x.DK,null,G.Z.Messages.APP_OPENED_BODY),this.renderButton(G.Z.Messages.CONTINUE_TO_WEBAPP,this.handleContinue))};a.renderAuthenticatedOrDownload=function(){var e=this.props.guildTemplate;me()(null!=e,"guild template must not be null");return e.state===Mr.Rj.RESOLVING?r.createElement(x.ZP,{className:Ur().authBox},r.createElement(Cr.Z,{guildTemplate:e})):r.createElement(Kr,{guildTemplate:e})};a.renderContinue=function(){return r.createElement(x.ZP,null,r.createElement(x.Dx,null,G.Z.Messages.APP_NOT_OPENED),this.renderButton(G.Z.Messages.CONTINUE_TO_WEBAPP,this.handleContinue))};a.render=function(){
var e=this.props,t=e.guildTemplate,n=e.nativeAppState,o=e.authenticated,a=e.transitionTo,i=e.location;if(null==t)return this.renderSpinner(G.Z.Messages.LOADING);if(n===_.kEZ.OPEN)return this.renderAppOpened();if(n===_.kEZ.OPENING)return this.renderSpinner(G.Z.Messages.APP_OPENING);switch(t.state){case Mr.Rj.RESOLVING:return this.renderSpinner(G.Z.Messages.APP_OPENING);case Mr.Rj.RESOLVED:return o||!Dr.KO?this.renderAuthenticatedOrDownload():this.props.login?r.createElement(sr.Z,{guildTemplate:t,transitionTo:a,location:i}):r.createElement(Be.Z,{guildTemplate:t,transitionTo:a,location:i,onRegister:function(){(0,Rr.c)(wr.M5.ORGANIC_REGISTERED_GUILD_TEMPLATE);Pr.Z.flowStart(Zr.MK.ORGANIC_GUILD_TEMPLATES,Zr.EW.NUF_STARTED)}});case Mr.Rj.EXPIRED:return this.renderInvalidGuildTemplate();default:return null}};return o}(r.PureComponent);function Kr(e){var t=e.guildTemplate,n=(0,Ar.Z)(t,!1),o=n.form,a=n.handleSubmit;Pr.Z.flowStep(Zr.MK.ORGANIC_GUILD_TEMPLATES,Zr.X2.GUILD_CREATE)
;var i=r.createElement(r.Fragment,null,r.createElement(x.Dx,{className:Ur().header},G.Z.Messages.GUILD_TEMPLATE_SETUP_DISCORD),o,r.createElement(x.zx,{className:Ur().createButton,onClick:a},G.Z.Messages.GUILD_TEMPLATE_CREATE_DISCORD));return r.createElement(Lr.Z,{className:Ur().authBox},(function(){return[r.createElement(Sr.Z,{guildTemplate:t}),r.createElement("div",{className:Ur().formContainer},i)]}))}l.ZP.initialize();function Wr(e,t,n){e.preventDefault();h.default.track(_.rMx.GUILD_TEMPLATE_APP_OPENED,{guild_template_code:t,guild_template_name:n.name,guild_template_description:n.description,guild_template_guild_id:n.sourceGuildId});var r=ge.default.getFingerprint(),o=null!=r?r:ge.default.getId();Q.Z.openMobileApp(n.state===Mr.Rj.RESOLVED?t:void 0,o)}function Yr(e){var t=e.code,n=(0,l.e7)([X.Z],(function(){return X.Z.getGuildTemplate(t)}));r.useEffect((function(){(0,te.e)("guild_template_mobile")}),[])
;return null==n||n.state===Mr.Rj.RESOLVING?r.createElement(x.ZP,null,r.createElement(at.Z,null)):n.state===Mr.Rj.RESOLVED?r.createElement(x.ZP,null,r.createElement(Cr.Z,{guildTemplate:n,tall:!0}),r.createElement(x.zx,{onClick:function(e){return Wr(e,t,n)},className:H().marginTop20},G.Z.Messages.GUILD_TEMPLATE_OPEN)):r.createElement(Ge,{text:G.Z.Messages.GUILD_TEMPLATE_MOBILE_INVALID_ERROR,buttonCta:G.Z.Messages.GUILD_TEMPLATE_MOBILE_INVALID_CTA,onClick:function(e){return Wr(e,t,n)}})}var qr=n(168831),Xr=n(348855),Qr=n(355184),$r=n(361963),Jr=n(50151),eo=n(101577),to=n(32733);function no(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function ro(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){no(a,r,o,i,l,"next",e)}function l(e){no(a,r,o,i,l,"throw",e)}i(void 0)}))}}function oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function ao(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function io(e){io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return io(e)}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ao(e,t,n[t])}))}return e}function co(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uo(e,t){uo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return uo(e,t)}var so=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fo(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=io(e);if(t){var o=io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return co(this,n)}}var po=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:
i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};l.ZP.initialize();var mo="Accept Invite Page",Eo="register",ho="login";function vo(){return(vo=ro((function(e){var t;return po(this,(function(n){switch(n.label){case 0:return[4,f.Z.resolveInvite(e,mo)];case 1:if(null==(t=n.sent().invite))return[2];R(t);return[2]}}))}))).apply(this,arguments)}var _o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&uo(e,t)}(o,e);var t=fo(o);function o(){oo(this,o);var e;(e=t.apply(this,arguments)).state={error:null};e.getAcceptInviteContext=function(t){return f.Z.getInviteContext(t,e.props.invite)};e.handleContinue=function(t){var n=e.props,r=n.invite,o=n.transitionTo;if(null!=r.channel||null!=(null==t?void 0:t.channel)){var a;null!=(null===(a=r.guild)||void 0===a?void 0:a.id)?o(_.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(r.code)):f.Z.transitionToInvite(null!=t?t:r,o)}};e.handleAccept=function(){e.setState({error:null});var t=e.getInviteKey();f.Z.acceptInvite({inviteKey:t,context:e.getAcceptInviteContext(mo),skipOnboarding:!0,callback:function(e){R(e);null!=e.channel&&f.Z.openApp(t,e.channel.id)}}).catch((function(t){if(t instanceof qr.Z){var n=(0,Jr.O)(t.code);e.setState({error:{code:t.code,message:n}})}else e.setState({error:{code:t.code,message:G.Z.Messages.INVITE_MODAL_ERROR_DEFAULT}})}))};e.handleDefaultTransition=function(){var t=e.props,n=t.defaultRoute;(0,
t.transitionTo)(n)};e.renderButton=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.handleDefaultTransition,o=e.props.invite,a=null!=o.stage_instance||null!=o.guild_scheduled_event;return Dr.KO?r.createElement(x.zx,{className:a?H().marginTop20:H().marginTop40,onClick:n,color:a?x.zx.Colors.GREEN:x.zx.Colors.BRAND},t):r.createElement(x.v6,{className:H().marginTop40})};return e}var a=o.prototype;a.componentDidMount=function(){var e=this.props,t=e.isUnderage,n=e.login;h.default.track(_.rMx.INVITE_VIEWED,{},{flush:!0});(0,te.e)("invite");if(!Dr.KO){var r=this.getInviteKey();Oe.Z.launch("discord://"+_.Z5c.INVITE(r),(function(){}))}if(!n&&t){var o=this.getInviteKey(),a=(0,Ce.fU)(o).baseCode;(0,ee.dL)(_.Z5c.INVITE_LOGIN(a))}};a.componentDidUpdate=function(e){var t=this.props,n=t.invite,r=t.nativeAppState,o=t.authenticated,a=t.transitionTo,i=this.getInviteKey();if(i!==this.getInviteKey(e))!function(e){vo.apply(this,arguments)
}(i);else if(n.state===_.r2o.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===ho&&o!==e.authenticated&&o){var l=ge.default.getFingerprint();if(null!=l){var c=(0,ye.s)(l);this.track(_.rMx.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:c})}f.Z.acceptInvite({inviteKey:i,context:this.getAcceptInviteContext(mo),skipOnboarding:!0,callback:this.handleContinue})}r!==e.nativeAppState&&r===_.kEZ.OPEN&&this.track(_.rMx.INVITE_APP_INVOKED,!1);if(this.getMode()===Eo&&o&&!e.authenticated){if(null!=n.channel){(0,Rr.c)(wr.M5.INVITE_UNCLAIMED);null!=n.guild?a(_.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(n.code)):f.Z.transitionToInvite(n,a)}}};a.getInviteKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.inviteKey};a.getMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return to.a?Eo:e.login?ho:Eo};a.track=function(e,t){
var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.props.invite,o=this.getInviteKey(),a=(0,Ce.jX)(o),i=t?{guild_id:null!=r.guild?r.guild.id:null,channel_id:null!=r.channel?r.channel.id:null,inviter_id:null!=r.inviter?r.inviter.id:null,invite_code:a}:{invite_code:a};h.default.track(e,lo({},i,n))};a.renderSpinner=function(e){return r.createElement(x.ZP,null,r.createElement(x.Dx,null,e),r.createElement(x.Hh,null))};a.renderInvalidInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(211086),className:H().marginBottom8}),r.createElement(x.Dx,{className:L()(H().marginTop8,H().marginBottom8)},G.Z.Messages.AUTH_INVALID_INVITE_TITLE),r.createElement(x.DK,null,e?G.Z.Messages.AUTH_BANNED_INVITE_BODY:G.Z.Messages.AUTH_INVALID_INVITE_BODY),this.renderButton(G.Z.Messages.CONTINUE_TO_WEBAPP),r.createElement(x.zx,{onClick:function(){
return window.open(cr.Z.getArticleURL(_.BhN.INVALID_INVITES),"_blank")},look:x.zx.Looks.LINK,color:x.zx.Colors.LINK,className:H().marginTop8},G.Z.Messages.AUTH_INVALID_INVITE_TIP))};a.renderErrorInvite=function(){var e,t;return r.createElement(x.ZP,null,r.createElement(eo.Z,{invite:this.props.invite,error:null===(e=this.state.error)||void 0===e?void 0:e.message}),(null===(t=this.state.error)||void 0===t?void 0:t.code)===_.evJ.INVALID_CANNOT_FRIEND_SELF?this.renderButton(G.Z.Messages.CONTINUE_TO_WEBAPP):this.renderButton(G.Z.Messages.INSTANT_INVITE_ACCEPT,this.handleAccept))};a.renderExpiredInvite=function(){return this.renderInvalidInvite(!1)};a.renderBannedInvite=function(){return this.renderInvalidInvite(!0)};a.renderAppOpened=function(){var e=this;return r.createElement(x.ZP,null,r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.APP_OPENED_TITLE),r.createElement(x.DK,null,G.Z.Messages.APP_OPENED_BODY),this.renderButton(G.Z.Messages.CONTINUE_TO_WEBAPP,(function(){
return e.handleContinue()})))};a.renderAuthenticatedHeader=function(){var e=this.props.invite;return null!=e.stage_instance&&null!=e.guild?r.createElement($r.Z,{stageInstance:e.stage_instance,guild:e.guild}):null!=e.guild_scheduled_event?r.createElement(Qr.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):r.createElement(eo.Z,{invite:e})};a.renderAuthenicatedFooter=function(){var e=this.props.invite;return null==e.stage_instance&&null==e.guild_scheduled_event||null==e.guild?null:r.createElement(x.ZP,{className:H().marginTop20},r.createElement($r.y,{guild:e.guild,onlineCount:e.approximate_presence_count}))};a.renderAuthenticatedOrDownload=function(){var e=null!=this.props.invite.stage_instance?G.Z.Messages.INSTANT_INVITE_ACCEPT_STAGE:G.Z.Messages.INSTANT_INVITE_ACCEPT;return r.createElement("div",null,r.createElement(x.ZP,null,this.renderAuthenticatedHeader(),this.renderButton(e,this.handleAccept)),this.renderAuthenicatedFooter())};a.renderContinue=function(){
return r.createElement(x.ZP,null,r.createElement(x.Dx,null,G.Z.Messages.APP_NOT_OPENED),this.renderButton(G.Z.Messages.CONTINUE_TO_WEBAPP))};a.render=function(){var e=this,t=this.props,n=t.invite,o=t.nativeAppState,a=t.authenticated,i=t.transitionTo,l=t.location;if(o===_.kEZ.OPEN)return this.renderAppOpened();switch(n.state){case _.r2o.APP_OPENED:return this.renderAppOpened();case _.r2o.APP_NOT_OPENED:return this.renderContinue();case _.r2o.RESOLVING:return to.a?this.renderSpinner(G.Z.Messages.DEFAULT_INPUT_PLACEHOLDER):this.renderSpinner(G.Z.Messages.APP_OPENING);case _.r2o.APP_OPENING:return this.renderSpinner(G.Z.Messages.APP_OPENING);case _.r2o.RESOLVED:return a||!Dr.KO?this.renderAuthenticatedOrDownload():this.getMode()===ho?r.createElement(sr.Z,{invite:n,transitionTo:i,location:l}):r.createElement(Be.Z,{invite:n,onLoginStart:function(){return e.track(_.rMx.INVITE_LOGIN,!0)},location:l,transitionTo:i});case _.r2o.ACCEPTING:
return this.renderSpinner(G.Z.Messages.INSTANT_INVITE_ACCEPTING);case _.r2o.EXPIRED:return this.renderExpiredInvite();case _.r2o.BANNED:return this.renderBannedInvite();case _.r2o.ERROR:return this.renderErrorInvite();case _.r2o.ACCEPTED:default:return null}};return o}(r.PureComponent);const yo=l.ZP.connectStores([ot.Z,be.Z,ge.default,or,Xr.Z],(function(e){var t,n=e.inviteKey;return{invite:null!==(t=ot.Z.getInvite(n))&&void 0!==t?t:{},nativeAppState:or.getState(n),authenticated:ge.default.isAuthenticated(),defaultRoute:be.Z.defaultRoute,isUnderage:Xr.Z.isUnderageAnonymous()}}))(_o);var go=n(489898),bo=n(744),Oo=n(882699);function Io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function To(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){
No(a,r,o,i,l,"next",e)}function l(e){No(a,r,o,i,l,"throw",e)}i(void 0)}))}}function Ao(e){Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ao(e)}function So(e,t){return!t||"object"!==Ro(t)&&"function"!=typeof t?Io(e):t}function Co(e,t){Co=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Co(e,t)}var Ro=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ao(e);if(t){var o=Ao(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return So(this,n)}}var Lo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},
trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};l.ZP.initialize()
;var Mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Co(e,t)}(a,e);var t=Po(a);function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n,r,l=Io(n=t.call(this,e));n.handleSubmit=(r=To((function(e){var t,n,r,o,a;return Lo(this,(function(i){switch(i.label){case 0:t=l.props.location;n=l.state,r=n.password,o=n.error;null!=e&&e.preventDefault();if(0===r.length){l.setState({error:G.Z.Messages.PASSWORD_REQUIRED});Oo.S.dispatch(_.CkL.WAVE_EMPHASIZE);return[2]}null!=o&&l.setState({error:null});if(null==(a=J(t)))return[2];l.setState({working:!0});i.label=1;case 1:i.trys.push([1,3,,4]);return[4,u.Z.resetPassword(a,r)];case 2:i.sent()&&l.handlePasswordChangeSuccess();return[3,4];case 3:i.sent();return[3,4];case 4:l.setState({working:!1});return[2]}}))
})),function(e){return r.apply(this,arguments)});var c=Io(n);n.handleTokenSubmit=function(){var e=To((function(e){var t,n,r,o,a,i,l,s;return Lo(this,(function(f){switch(f.label){case 0:t=c.props,n=t.location,r=t.mfaTicket;o=c.state,a=o.code,i=o.password,l=o.error;null!=e&&e.preventDefault();if(0===i.length){c.setState({error:G.Z.Messages.PASSWORD_REQUIRED});Oo.S.dispatch(_.CkL.WAVE_EMPHASIZE);return[2]}null!=l&&c.setState({error:null});if(null==(s=J(n)))return[2];c.setState({working:!0});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,u.Z.resetPasswordMFA(a,r,i,s)];case 2:f.sent();c.handlePasswordChangeSuccess();return[3,4];case 3:f.sent();return[3,4];case 4:c.setState({working:!1});return[2]}}))}));return function(t){return e.apply(this,arguments)}}();n.handlePasswordChangeSuccess=function(){var e=n.props.replaceWith;i.Em||i.tq?n.setState({success:!0}):e(_.Z5c.APP)};n.handleGoToLogin=function(){var e=n.props.transitionTo;u.Z.loginReset();e(_.Z5c.LOGIN)};n.isSubmitting=function(){
var e=n.props.loginStatus;return n.state.working||e===_.u34.LOGGING_IN_MFA};n.handleOpenApp=function(){(0,bo.Z)("password_reset")};n.hasError=function(e){return null!=n.props.errors[e]||null!=n.state.error};n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var r=t[e];return Array.isArray(r)?r[0]:r}return null};var s=null!=n.props.location.search&&""!==n.props.location.search?(0,o.parse)(n.props.location.search):null;n.state={password:"",code:"",error:null,hasCancel:null!=s&&null!=s.from_login,working:!1,success:!1};return n}var l=a.prototype;l.componentDidMount=function(){(0,te.e)("reset_password")};l.renderPasswordReset=function(){var e=this,t=this.state,o=t.password,a=t.error,i=t.hasCancel,l=this.isSubmitting(),c=null!=a?a:this.renderError("password");return r.createElement(x.ZP,{onSubmit:this.handleSubmit,tag:"form"},r.createElement("img",{alt:"",src:n(null==c?359074:396679),className:H().marginBottom20
}),r.createElement(x.Dx,null,G.Z.Messages.RESET_PASSWORD_TITLE),r.createElement(x.gO,{className:H().marginTop20},r.createElement(x.II,{label:G.Z.Messages.FORM_LABEL_NEW_PASSWORD,className:H().marginBottom20,name:"password",value:o,onChange:function(t){return e.setState({password:t})},error:c,type:"password"}),r.createElement(x.zx,{type:"submit",submitting:l},G.Z.Messages.CHANGE_PASSWORD),i?r.createElement(x.zx,{className:H().marginTop8,onClick:this.handleGoToLogin,submitting:l,color:x.zx.Colors.PRIMARY},G.Z.Messages.CANCEL):null))};l.renderMFA=function(){var e=this,t=this.state.error,o=null!=t?t:this.renderError("code");return r.createElement(x.ZP,{onSubmit:this.handleTokenSubmit,tag:"form"},r.createElement("img",{alt:"",src:n(null==o?359074:396679),className:L()(H().marginBottom20,i.tq?H().marginTop20:"")}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.TWO_FA_ENTER_TOKEN_LABEL),r.createElement(x.DK,null,G.Z.Messages.TWO_FA_ENTER_TOKEN_BODY),r.createElement(x.gO,{
className:H().marginTop20},r.createElement(x.II,{className:H().marginBottom8,error:o,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:G.Z.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,value:this.state.code}),r.createElement(x.zx,{type:"submit",submitting:this.isSubmitting()},G.Z.Messages._LOGIN)))};l.renderSucceeded=function(){return r.createElement(x.ZP,null,r.createElement("img",{alt:"",src:n(359074),className:L()(H().marginBottom20,i.tq?H().marginTop20:"")}),r.createElement(x.Dx,{className:H().marginBottom40},G.Z.Messages.RESET_PASSWORD_SUCCESS_TITLE),r.createElement(x.zx,{onClick:this.handleOpenApp},G.Z.Messages.VERIFICATION_OPEN_DISCORD))};l.render=function(){return this.state.success?this.renderSucceeded():null!=this.props.mfaTicket&&""!==this.props.mfaTicket?this.renderMFA():this.renderPasswordReset()};return a}(r.PureComponent);Mo.defaultProps={transitionTo:function(e){return n.g.location.assign(e)},
replaceWith:function(e){return n.g.location.replace(e)}};const wo=l.ZP.connectStores([ge.default],(function(){return{loginStatus:ge.default.getLoginStatus(),mfaTicket:ge.default.getMFATicket(),errors:ge.default.getErrors()}}))(Mo);var Zo=n(796667),Do=n(560221),xo=n(83129),Uo=n.n(xo);function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Go(e){Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Go(e)}function Bo(e,t){return!t||"object"!==Fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jo(e,t){jo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return jo(e,t)}var Fo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Go(e);if(t){var o=Go(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bo(this,n)}}l.ZP.initialize();var Vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&jo(e,t)}(o,e);var t=Ho(o);function o(){ko(this,o);var e;(e=t.apply(this,arguments)).handleVerify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=J(e.props.location);null!=n&&u.Z.verify(n,t)};e.handleLogin=function(){(0,e.props.transitionTo)(_.Z5c.LOGIN)};e.handleOpenApp=function(){var t=e.props.verifyingUserId;h.default.track(_.rMx.VERIFY_ACCOUNT_APP_OPENED,{
verifying_user_id:t});(0,bo.Z)("verify_email")};return e}var a=o.prototype;a.componentDidMount=function(){this.handleVerify();(0,te.e)("verify_email")};a.renderVerifyCaptcha=function(){var e=this.props.verifyErrors;return r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(143613),className:L()(Uo().image,H().marginBottom20)}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.VERIFICATION_VERIFYING),r.createElement(x.DK,{className:H().marginBottom40},G.Z.Messages.VERIFICATION_BODY_ALT),r.createElement("div",{className:j().flexCenter},r.createElement(Zo.Z,{captchaService:(0,Do.B)(e.captcha_service),sitekey:e.captcha_sitekey,className:Uo().recaptcha,theme:qe.BR.DARK,onVerify:this.handleVerify})))};a.renderVerifyFailed=function(){return r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(639915),className:L()(Uo().image,H().marginBottom20)}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.VERFICATION_EXPIRED),r.createElement(x.DK,{
className:H().marginBottom40},G.Z.Messages._AUTH_VERFICATION_EXPIRED_SUGGESTION),r.createElement(x.zx,{onClick:this.handleLogin},G.Z.Messages._LOGIN))};a.renderVerifySucceeded=function(){return r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(143613),className:L()(Uo().image,H().marginBottom20)}),r.createElement(x.Dx,{className:H().marginBottom40},G.Z.Messages.VERIFICATION_VERIFIED),r.createElement(x.zx,{onClick:this.handleOpenApp},G.Z.Messages.VERIFICATION_OPEN_DISCORD))};a.renderVerifying=function(){return r.createElement(x.ZP,null,r.createElement(x.Ee,{src:n(100539),className:L()(Uo().image,H().marginBottom20)}),r.createElement(x.Dx,{className:H().marginBottom8},G.Z.Messages.VERIFICATION_VERIFYING),r.createElement(x.DK,{className:H().marginBottom40},G.Z.Messages.ACTION_MAY_TAKE_A_MOMENT),r.createElement(x.zx,{submitting:!0,color:x.zx.Colors.PRIMARY}))};a.render=function(){var e=this.props,t=e.verifyErrors,n=e.verifyFailed,r=e.verifySucceeded
;return null!=t&&null!=t.captcha_key&&""!==t.captcha_key?this.renderVerifyCaptcha():n?this.renderVerifyFailed():r?this.renderVerifySucceeded():this.renderVerifying()};return o}(r.PureComponent);Vo.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const zo=l.ZP.connectStores([ge.default],(function(){return{verifyFailed:ge.default.didVerifyFail(),verifyErrors:ge.default.getVerifyErrors(),verifySucceeded:ge.default.didVerifySucceed(),fingerprint:ge.default.getFingerprint(),verifyingUserId:ge.default.getVerifyingUserId()}}))(Vo);n(639472);function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wo(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qo(){qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return qo.apply(this,arguments)}function Xo(e){Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Xo(e)}function Qo(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $o(e,t){$o=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $o(e,t)}function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ko(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ea=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Xo(e);if(t){var o=Xo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qo(this,n)}}var na=function(e,t){var n,r,o,a,i={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{
value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};l.ZP.initialize();var ra=(0,yn.Z)(sr.Z),oa=(0,yn.Z)(go.Z),aa=(0,yn.Z)(yo),ia=(0,yn.Z)((function(e){var t={guildTemplate:(0,l.e7)([X.Z],(function(){return X.Z.getGuildTemplate(e.code)})),nativeAppState:(0,l.e7)([or],(function(){return or.getState(e.code)})),authenticated:(0,l.e7)([ge.default],(function(){return ge.default.isAuthenticated()})),defaultRoute:(0,l.e7)([be.Z],(function(){return be.Z.defaultRoute}))};return r.createElement(zr,Gr({},e,t))})),la=(0,yn.Z)(Tr),ca=(0,yn.Z)((function(e){var t=e.inviteKey,n=e.isRegister,o=e.transitionTo,a=(0,l.e7)([ot.Z],(function(){return ot.Z.getInvite(t)}));r.useEffect((function(){h.default.track(_.rMx.INVITE_VIEWED,{},{flush:!0});(0,te.e)("invite_mobile")}),[]);return r.createElement(fn,{inviteKey:t,invite:a,isRegister:n,onAcceptInvite:function(e){!function(e,t,n){var r,o,a;e.preventDefault();h.default.track(_.rMx.INVITE_APP_OPENED,{invite_code:(0,Ce.jX)(t),
guild_id:null==n||null===(r=n.guild)||void 0===r?void 0:r.id,channel_id:null==n||null===(o=n.channel)||void 0===o?void 0:o.id,inviter_id:null==n||null===(a=n.inviter)||void 0===a?void 0:a.id});var i=null!=n&&n.state!==_.r2o.EXPIRED&&n.state!==_.r2o.BANNED?t:void 0,l=ge.default.getFingerprint(),c=null!=l?l:ge.default.getId();f.Z.openApp(i,void 0,c)}(e,t,a)},transitionTo:o})})),ua=(0,yn.Z)(Be.Z),sa=(0,yn.Z)(Cn),fa=(0,yn.Z)(Rn),pa=(0,yn.Z)(zo),da=(0,yn.Z)(q),ma=(0,yn.Z)(wo),Ea=(0,yn.Z)(Wn),ha=(0,yn.Z)((function(e){var t=e.location,o=Se(r.useState(!1),2),a=o[0],i=o[1],c=(0,l.e7)([pe],(function(){return pe.getState()})),u=c.verifySuccess,s=c.verifyErrors,f=c.redirectGuildId;r.useEffect((function(){var e=J(t);$.Z.verify(e);(0,te.e)("verify_hub_email")}),[t]);var p=function(){Ie(f);i(!0)};return a?r.createElement(x.ZP,null,r.createElement(x.Dx,{className:Te().title},G.Z.Messages.APP_OPENED_TITLE),r.createElement(x.DK,{className:Te().subtitle
},G.Z.Messages.APP_OPENED_BODY),r.createElement(x.zx,{className:Te().spacedButton,onClick:function(){return(0,ee.uL)(_.Z5c.CHANNEL(f))}},G.Z.Messages.CONTINUE_TO_WEBAPP)):u?r.createElement(x.ZP,null,r.createElement(x.Ee,{className:Te().image,src:n(143613)}),r.createElement(x.Dx,{className:Te().title},G.Z.Messages.VERIFICATION_VERIFIED),r.createElement(x.zx,{onClick:p},G.Z.Messages.VERIFICATION_OPEN_DISCORD)):null!=s?r.createElement(x.ZP,null,r.createElement(x.Ee,{className:Te().image,src:n(639915)}),r.createElement(x.Dx,{className:Te().title},G.Z.Messages.VERFICATION_EXPIRED),r.createElement(x.DK,{className:Te().subtitle},G.Z.Messages._AUTH_VERFICATION_EXPIRED_SUGGESTION),r.createElement(x.zx,{onClick:p},G.Z.Messages.VERIFICATION_OPEN_DISCORD)):r.createElement(x.ZP,null,r.createElement(x.Ee,{className:Te().image,src:n(100539)}),r.createElement(x.Dx,{className:Te().title},G.Z.Messages.VERIFICATION_VERIFYING),r.createElement(x.DK,{className:Te().subtitle
},G.Z.Messages.ACTION_MAY_TAKE_A_MOMENT),r.createElement(x.zx,{submitting:!0,color:x.zx.Colors.PRIMARY}))})),va=(0,yn.Z)(kn),_a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&$o(e,t)}(n,e);var t=ta(n);function n(){Yo(this,n);var e;(e=t.apply(this,arguments)).state={splash:null,redirectTo:null,backgroundId:null};return e}var l=n.prototype;l.componentDidMount=function(){var e=this.props,t=e.inviteKey,n=e.hasLoadedExperiments,r=e.isAuthenticated;if(null!=t){!n&&r&&u.Z.getExperiments(!0);h.default.track(_.rMx.INVITE_OPENED,{invite_code:(0,Ce.jX)(t),load_time:vn()},{flush:!0})}(n||to.a)&&this.resolveInvite();this.resolveGiftCode();this.resolveGuildTemplate();S.initialize()};l.componentDidUpdate=function(e){var t,n;e.hasLoadedExperiments||!this.props.hasLoadedExperiments||to.a||this.resolveInvite()
;(null===(t=e.invite)||void 0===t?void 0:t.state)!==(null===(n=this.props.invite)||void 0===n?void 0:n.state)&&this.maybeFetchApplicationSplash()};l.componentWillUnmount=function(){S.terminate()};l.maybeFetchApplicationSplash=function(){var e=this,t=this.props.invite;if((null==t?void 0:t.state)===_.r2o.RESOLVED){var n=t.target_application;null!=n&&(0,mn.GR)(n.id,["embedded_splash"]).then((function(t){var n=Jo(t,1)[0];return e.setState({backgroundId:n})}))}};l.resolveInvite=function(){var e=this.props.inviteKey;if(null!=e){var t,n,r=(n=(t=function(){var t;return na(this,(function(n){switch(n.label){case 0:return[4,f.Z.resolveInvite(e,_.Usc.INVITE)];case 1:null!=(t=n.sent().invite)&&R(t);return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){Wo(a,r,o,i,l,"next",e)}function l(e){Wo(a,r,o,i,l,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)});r();f.Z.openNativeAppModal(e)}};l.resolveGuildTemplate=function(){
var e=this.props.guildTemplateCode;if(null!=e){h.default.track(_.rMx.GUILD_TEMPLATE_OPENED,{guild_template_code:e,load_time:vn()},{flush:!0});Q.Z.resolveGuildTemplate(e);Q.Z.openNativeAppModal(e)}};l.resolveGiftCode=function(){var e=this.props.giftCode;null!=e&&s.Z.resolveGiftCode(e,!0,!0).then((function(t){null!=t&&null==t.giftCode.promotion&&c.Z.wait((function(){return s.Z.openNativeGiftCodeModal(e)}))}))};l.render=function(){var e=this.state,t=e.splash,n=e.redirectTo,o=this.props.inviteKey;return r.createElement(gn.Z,{splash:t,redirectTo:n},r.createElement(C.Z,{path:_.Z5c.LOGIN_HANDOFF,render:function(e){return r.createElement(oa,qo({},e,{redirectTo:n}))}}),r.createElement(C.Z,{impressionName:a.zs.USER_LOGIN,path:_.Z5c.LOGIN,render:function(e){return r.createElement(ra,qo({},e,{redirectTo:n}))}}),r.createElement(C.Z,{impressionName:a.zs.USER_REGISTRATION,path:_.Z5c.REGISTER,render:function(e){return to.a?r.createElement(aa,qo({},e,{redirectTo:n,inviteKey:o
})):r.createElement(ua,qo({},e,{redirectTo:n}))}}),r.createElement(C.Z,{path:_.Z5c.GIFT_CODE_LOGIN(":giftCode"),render:function(e){return r.createElement(la,qo({login:!0},e))}}),r.createElement(C.Z,{path:_.Z5c.GIFT_CODE(":giftCode"),render:function(e){return r.createElement(la,qo({},e))}}),r.createElement(C.Z,{path:[_.Z5c.INVITE_LOGIN(":inviteCode"),_.Z5c.INVITE_REGISTER(":inviteCode"),_.Z5c.INVITE(":inviteCode")],render:function(e){var t=e.match,n=t.params.inviteCode,o=t.path,a=e.location,l=e.transitionTo,c=(0,Ce.mb)(n,a.search);return i.tq||i.Em?r.createElement(ca,{inviteKey:c,key:c,transitionTo:l,isRegister:o===_.Z5c.INVITE_REGISTER(":inviteCode")}):r.createElement(aa,{inviteKey:c,location:a,transitionTo:l,login:o===_.Z5c.INVITE_LOGIN(":inviteCode")})}}),r.createElement(C.Z,{path:[_.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode"),_.Z5c.GUILD_TEMPLATE(":guildTemplateCode")],render:function(e){var t=e.match,n=t.params.guildTemplateCode,o=t.path,a=e.location,l=e.transitionTo
;return i.tq||i.Em?r.createElement(Yr,{code:n,key:n}):r.createElement(ia,{code:n,location:a,transitionTo:l,login:o===_.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode")})}}),r.createElement(C.Z,{path:_.Z5c.VERIFY,render:function(e){return r.createElement(pa,qo({},e))}}),r.createElement(C.Z,{path:_.Z5c.VERIFY_HUB_EMAIL,render:function(e){return r.createElement(ha,qo({},e))}}),r.createElement(C.Z,{path:_.Z5c.VERIFY_REQUEST,render:function(e){return r.createElement(da,qo({},e))}}),r.createElement(C.Z,{path:_.Z5c.DISABLE_EMAIL_NOTIFICATIONS,render:function(e){return r.createElement(Ea,qo({},e))}}),r.createElement(C.Z,{path:_.Z5c.AUTHORIZE_IP,render:function(e){return r.createElement(sa,qo({},e))}}),r.createElement(C.Z,{path:_.Z5c.AUTHORIZE_PAYMENT,render:function(e){return r.createElement(fa,qo({},e))}}),r.createElement(C.Z,{path:_.Z5c.RESET,render:function(e){return r.createElement(ma,qo({},e))}}),r.createElement(C.Z,{path:_.Z5c.CHANNEL(":guildId",":channelId?",":messageId?"),
render:function(e){return r.createElement(va,qo({},e))}}))};n.getDerivedStateFromProps=function(e,t){var n,r=e.invite,a=e.location,i=t.backgroundId,l=null!==(n=(0,o.parse)(a.search).redirect_to)&&void 0!==n?n:null;null!=l&&""!==l&&(0,_n.B)(l)&&!l.startsWith(_.Z5c.ME)||(l=null);var c=null;if(null==r)c=(0,En.gK)(l);else if((null==r?void 0:r.state)===_.r2o.RESOLVED){var u=r.guild,s=r.target_application;null!=s?null!=i&&(c=(0,mn.xF)(s.id,i,1024)):null!=u&&"string"==typeof u.splash&&(c=lt.ZP.getGuildSplashURL({id:u.id,splash:u.splash}))}return{redirectTo:l,splash:c}};return n}(r.PureComponent);const ya=l.ZP.connectStores([ge.default,ot.Z,dn.Z,rt.Z,X.Z],(function(e){var t,n,r,o=e.match,a=e.location,i=null==o||null===(t=o.params)||void 0===t?void 0:t.inviteCode,l=to.a?to.Y:void 0,c=null!=i?(0,Ce.mb)(i,a.search):l,u=null==o||null===(n=o.params)||void 0===n?void 0:n.giftCode,s=null==o||null===(r=o.params)||void 0===r?void 0:r.guildTemplateCode;return{inviteKey:c,
isAuthenticated:ge.default.isAuthenticated(),giftCode:u,guildTemplateCode:s,gift:null!=u?dn.Z.get(u):null,invite:null!=c?ot.Z.getInvite(c):null,guildTemplate:null!=s?X.Z.getGuildTemplate(s):null,hasLoadedExperiments:rt.Z.hasLoadedExperiments}}))(_a)},590499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(667294),o=n(23279),a=n.n(o),i=n(738017),l=n(606076),c=n(39802),u=n(912551),s=n(152804),f=n.n(s),p=n(724647),d=n.n(p);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function _(e,t){
return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}var O=(0,u.Mg)(d().responsiveWidthMobile),I=0,N=1,T={friction:10,tension:130};const A=function(e){return function(t){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&y(e,t)}(o,t);var n=b(o);function o(){m(this,o);var e;(e=n.apply(this,arguments)).anim=new i.Z.Value(I);e.state={shouldAnimate:!l.tq};e.handleResize=function(){var t=window.innerWidth>O;!e.state.shouldAnimate&&t&&e.anim.setValue(N);e.setState({shouldAnimate:t})};e.handleResizeDebounced=a()(e.handleResize,60);return e}var u=o.prototype;u.componentDidMount=function(){if(!l.tq){window.addEventListener("resize",this.handleResizeDebounced);this.handleResize()}};u.componentWillUnmount=function(){clearTimeout(this.timeout);window.removeEventListener("resize",this.handleResizeDebounced)};u.componentWillAppear=function(e){this.state.shouldAnimate?this.animateTo(N,e):e()};u.componentWillEnter=function(e){var t=this;if(this.state.shouldAnimate){clearTimeout(this.timeout)
;this.timeout=setTimeout((function(){return t.animateTo(N,e)}),40)}else e()};u.componentWillLeave=function(e){this.state.shouldAnimate?this.animateTo(I,e):e()};u.animateTo=function(e,t){i.Z.spring(this.anim,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}({toValue:e},T)).start(t)};u.getAnimatedStyle=function(e){return this.state.shouldAnimate?{opacity:this.anim,transform:e?void 0:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null};u.render=function(){var t=this;return r.createElement("div",{className:f().wrapper},r.createElement(c.S.Consumer,null,(function(n){var o=n.reducedMotion
;return r.createElement(i.Z.div,{style:t.getAnimatedStyle(o.enabled)},r.createElement(e,h({},t.props)))})))};return o}(r.Component)}},869488:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(667294),o=n(227440),a=n(796667),i=n(908570),l=n(730367),c=n(959797),u=n(3066),s=n.n(u),f=n(380203),p=n.n(f);const d=function(e){var t=e.title,u=e.onVerify,f=e.authBoxClassName,d=e.captchaService,m=void 0===d?o.hP.RECAPTCHA:d,E=e.sitekey;return r.createElement(i.ZP,{className:f},r.createElement("img",{alt:"",src:n(148267),className:p().marginBottom20}),null!=t?r.createElement(i.Dx,{className:p().marginBottom8},t):null,r.createElement(i.DK,{className:p().marginBottom40},c.Z.Messages.BEEP_BOOP),r.createElement("div",{className:s().flexCenter},r.createElement(a.Z,{onVerify:u,theme:l.BR.DARK,captchaService:m,sitekey:E})))}},98109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var r=n(667294),o=n(294184),a=n.n(o),i=n(606076),l=n(505977),c=n(589175);function u(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function h(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=y(n);function n(){u(this,n);return t.apply(this,arguments)}n.prototype.render=function(){
var e=this.props,t=e.children,n=e.location,o=e.history,a=e.staticContext,i=(e.match,E(e,["children","location","history","staticContext","match"])),u=null,s=null;r.Children.forEach(t,(function(e){if(null==u&&r.isValidElement(e)){var t=e.props,i=t.component,c=t.render,f=E(t,["component","render"]),p=f.path||f.from;if(null==(u=null!=p?(0,l.LX)(n.pathname,m(d({},f),{path:p})):null))return;f=m(d({},f),{key:p,location:n,match:u,history:o,staticContext:a});null!=i?s=r.createElement(i,f):null!=c&&(s=c(f))}}));return r.createElement(c.Z,f({},i),s)};return n}(r.Component);const b=(0,l.EN)(g);var O=n(655695),I=n(94813),N=n(4659),T=n(699685),A=n(912551),S=n(706908),C=n(461061),R=n(863684),P=n.n(R);function L(e){L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return L(e)}function M(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}var Z=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}var x=(0,
A.Mg)(P().responsiveWidthMobile),U=[C.Z5c.LOGIN,C.Z5c.LOGIN_HANDOFF,C.Z5c.REGISTER,C.Z5c.INVITE(""),C.Z5c.GIFT_CODE(""),C.Z5c.GUILD_TEMPLATE_LOGIN(""),C.Z5c.GUILD_TEMPLATE(""),C.Z5c.DISABLE_EMAIL_NOTIFICATIONS,C.Z5c.BILLING_PREMIUM_SUBSCRIBE,C.Z5c.BILLING_PAYMENT_SOURCES_CREATE,C.Z5c.BILLING_PAYMENTS,C.Z5c.BILLING_PREMIUM_SWITCH_PLAN,C.Z5c.BILLING_GUILD_SUBSCRIPTIONS_PURCHASE,C.Z5c.VERIFY,C.Z5c.VERIFY_HUB_EMAIL,C.Z5c.AUTHORIZE_IP,C.Z5c.AUTHORIZE_PAYMENT,C.Z5c.RESET,C.Z5c.HANDOFF];function k(e){return U.some((function(t){return e.startsWith(t)}))}const G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&w(e,t)}(n,e);var t=D(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleResize=function(){r.setState({
isMobileWidth:window.innerWidth<=x})};r.state={isMobileWidth:window.innerWidth<=x};return r}var o=n.prototype;o.componentDidMount=function(){window.addEventListener("resize",this.handleResize)};o.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize)};o.mobileTransitionTo=function(e,t){if(k(e))(0,O.uL)(e,t);else{var n=null!=t&&null!=t.search?t.search:null;window.location=null==n?e:"".concat(e,"?").concat(n)}};o.mobileReplaceWith=function(e){k(e)?(0,O.dL)(e):window.location=e};o.renderDefault=function(){var e=this.props.splash,t=r.createElement(b,{component:r.Fragment},r.Children.map(this.props.children,(function(e){return r.cloneElement(e,{transitionTo:O.uL,replaceWith:O.dL})})));return r.createElement("div",{className:P().characterBackground},r.createElement(I.y,{forceLevel:1},null!=e?r.createElement(r.Fragment,null,r.createElement(N.Z,{show:!0,className:a()(P().logo)}),r.createElement(T.h,{splash:e
},t)):r.createElement(r.Fragment,null,r.createElement(S.Z,{className:P().artwork,preserveAspectRatio:"xMinYMin slice"}),t)))};o.renderMobile=function(){var e=this;return r.createElement(b,{component:r.Fragment},r.Children.map(this.props.children,(function(t){return r.cloneElement(t,{transitionTo:e.mobileTransitionTo,replaceWith:e.mobileReplaceWith})})))};o.render=function(){var e=this.state.isMobileWidth,t=navigator.userAgent.includes("GameLauncher");return e||i.tq||i.Em||t?this.renderMobile():this.renderDefault()};return n}(r.Component)},882923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(667294),o=n(294184),a=n.n(o),i=n(791462),l=n(182102),c=n(367124),u=n(859023),s=n(916957),f=n(512238),p=n(693518),d=n(908570),m=n(862325),E=n(298716),h=n(959797),v=n(889710),_=n.n(v),y=n(3066),g=n.n(y),b=n(380203),O=n.n(b);const I=i.ZP.connectStores([f.Z,c.Z,s.Z,u.default],(function(e){var t=e.giftCode,n=f.Z.get(t.skuId),r=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=r?(0,m.oE)(r):null,
application:c.Z.getGame(n.applicationId),gifter:u.default.getUser(t.userId)}}))((function(e){var t=e.error,n=e.giftCode,o=e.gifter,i=e.sku,c=e.application,u=e.subscriptionPlan,s=null==o?h.Z.Messages.GIFT_CODE_AUTH_GIFTED:h.Z.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:o.username}),f=i.name;null!=u&&(f=(u.interval===E.rV.MONTH?h.Z.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:h.Z.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:i.name,intervalCount:u.intervalCount}));return r.createElement(r.Fragment,null,null!=n.giftStyle?r.createElement(l.Z,{giftStyle:n.giftStyle,className:_().seasonalIcon}):r.createElement(d.qE,{src:null!=o?o.getAvatarURL(void 0,100):null,size:d.qE.Sizes.DEPRECATED_SIZE_100,className:O().marginBottom20}),null!=t?r.createElement(r.Fragment,null,r.createElement(d.DK,null,h.Z.Messages.INVITE_MODAL_ERROR_TITLE),r.createElement(d.Dx,null,t)):r.createElement(r.Fragment,null,r.createElement(d.DK,null,s),r.createElement(d.Dx,{
className:a()(O().marginTop8,g().flexCenter)},r.createElement(p.Z,{size:p.Z.Sizes.MEDIUM,className:_().applicationIcon,game:c,skuId:i.id}),f)))}))},101577:(e,t,n)=>{"use strict";n.d(t,{R:()=>I,Z:()=>T});var r=n(667294),o=n(791462),a=n(370149),i=n(733730),l=n(53551),c=n(989232),u=n(948571),s=n(859023),f=n(693518),p=n(709990),d=n(685351),m=n(757987),E=n(908570),h=n(440455),v=n(461061),_=n(225691),y=n(848545),g=n(959797),b=n(256813),O=n.n(b),I=function(){return r.createElement(r.Fragment,null,r.createElement(E.qE,{src:null,size:E.qE.Sizes.DEPRECATED_SIZE_100,className:O().avatar}),r.createElement(E.DK,null,g.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),r.createElement(E.Dx,{className:O().inviteResolvingGuildName},g.Z.Messages.LOADING))},N=function(e){var t=e.guild,n=e.user,o=e.application,a=e.compact;return null!=o?r.createElement(f.Z,{className:O().appIcon,game:o,size:O().appIconSize}):null!=n?r.createElement(E.qE,{src:null!=n?n.getAvatarURL(void 0,80):null,
size:E.qE.Sizes.SIZE_80,className:a?O().compactAvatar:O().avatar}):null!=t?r.createElement(h.ZP,{mask:h.ZP.Masks.SQUIRCLE,width:64,height:64,className:O().guildIcon},r.createElement(E.Vj,{guild:t,size:E.Vj.Sizes.LARGER,animate:!0})):null};const T=function(e){var t,n=e.invite,f=e.disableUser,h=void 0!==f&&f,b=e.error,I=e.flatActivityCount,T=void 0!==I&&I,A=e.isRegister,S=void 0!==A&&A,C=(0,o.cj)([a.Z,s.default],(function(){return{currentUser:s.default.getCurrentUser(),multiAccounts:a.Z.getUsers()}})),R=C.currentUser,P=C.multiAccounts;if(null==n)return null;var L,M,w,Z=null!=n.guild?new c.Z(n.guild):null,D=null!=n.channel?new l.ZP(n.channel):null,x=null!=n.target_application?new i.Z(n.target_application):null,U=h||null==n.inviter?null:new u.Z(n.inviter),k=!(null!=n.approximate_member_count&&n.approximate_member_count>100||null!=Z&&Z.hasFeature(v.oNc.COMMUNITY))&&null!=U,G=null,B=!1;if(null!=Z){
G=null==U?g.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:g.Z.Messages.AUTH_MESSAGE_INVITED_BY.format({username:U.username});n.target_type===y.Iq.STREAM&&null!=n.target_user&&(G=g.Z.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:n.target_user.username}));n.target_type===y.Iq.EMBEDDED_APPLICATION&&null!=n.target_application&&(G=null!=U?g.Z.Messages.AUTH_MESSAGE_INVITED_TO_PLAY_USERNAME.format({username:U.username}):g.Z.Messages.AUTH_MESSAGE_INVITED_TO_PLAY);k&&null==x&&(L=r.createElement(E.Vj,{guild:Z,size:E.Vj.Sizes.SMALL}));M=Z.name;if(null!=x){M=x.name;w=r.createElement("div",null,r.createElement(E.DK,{className:O().appIn},g.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_IN),r.createElement("div",{className:O().guildContainer},r.createElement(E.Vj,{guild:Z,size:E.Vj.Sizes.SMALL}),r.createElement(d.x,{tag:"span",variant:"text-lg/normal",color:"header-primary",className:O().appGuildName},Z.name)))}}else if(null!=D){if(null==U)throw new Error("no inviter in group DM invite")
;var j=U.username;if(null!=D.name&&""!==D.name){G=g.Z.Messages.AUTH_MESSAGE_INVITED_BY.format({username:j});M=D.name;null!=D.icon&&(L=r.createElement(E.MC,{channel:D,size:E.qE.Sizes.SIZE_32}))}else{G=g.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM;M=j}}else if(null!=U){M=g.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_CHAT.format({username:U.username});B=!0;w=null!=b?null:r.createElement(E.DK,{className:O().directInviteSubTitle},S?g.Z.Messages.INSTANT_INVITE_DIRECT_FRIEND_DESCRIPTION_REGISTER.format({username:"".concat(U.username,"#").concat(U.discriminator)}):g.Z.Messages.INSTANT_INVITE_DIRECT_FRIEND_DESCRIPTION.format({username:"".concat(U.username,"#").concat(U.discriminator)}))}return r.createElement("div",{className:O().container},r.createElement(N,{application:x,guild:Z,user:k?U:null,compact:B
}),null!=b?r.createElement(r.Fragment,null,r.createElement(E.DK,null,g.Z.Messages.INVITE_MODAL_ERROR_TITLE),r.createElement(E.Dx,null,b)):r.createElement(r.Fragment,null,r.createElement(E.DK,null,G),r.createElement(E.Dx,{className:O().title},null!=Z?r.createElement(p.Z,{guild:Z,className:O().guildBadge,tooltipPosition:m.ZP.Positions.LEFT}):null,L,M)),w,null!=x||B||(null==n||null===(t=n.guild)||void 0===t?void 0:t.id)===_.fQ?null:r.createElement(E.EJ,{className:O().activityCount,online:n.approximate_presence_count,total:n.approximate_member_count,flat:T}),P.length>1?r.createElement(E.jQ,{user:R}):null)}},989434:(e,t,n)=>{"use strict";n.d(t,{q:()=>Gt,Z:()=>Ft});var r=n(667294),o=n(970112),a=n(294184),i=n.n(a),l=n(517563),c=n(606076),u=n(791462),s=n(173436),f=n(822567),p=n(476575),d=n(584268),m=n(191940),E=n(774481),h=n(487502),v=n(685351),_=n(908570),y=n(959797),g=n(400353),b=n.n(g),O=n(380203),I=n.n(O);function N(e){var t=e.title,n=e.subtitle,o=e.error,a=e.onSubmit,i=e.onCancel
;return r.createElement(h.Z,{direction:h.Z.Direction.VERTICAL},r.createElement(_.Dx,{className:I().marginBottom8},t),r.createElement(_.DK,{className:b().subTitle},n),r.createElement("div",null,r.createElement(E.Z,{inputClassName:b().codeInput,onSubmit:a}),null!=o?r.createElement(v.x,{className:b().error,variant:"text-sm/normal"},o):null),r.createElement(m.Co,{className:b().button,onClick:i,color:m.Co.Colors.PRIMARY},y.Z.Messages.CANCEL))}var T=n(674500),A=n(88468),S=n(865622),C=n(675860),R=n(444450),P=n(901991),L=n(631134),M=n(932847),w=n(468811),Z=n.n(w),D=n(461061);function x(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){x(a,r,o,i,l,"next",e)}function l(e){x(a,r,o,i,l,"throw",e)}i(void 0)}))}}var k=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function G(){return(G=U((function(e){
var t,n,r;return k(this,(function(o){switch(o.label){case 0:return[4,C.Z.post({url:D.ANM.HANDOFF,body:{key:e},oldFormErrors:!0,retries:1})];case 1:t=o.sent(),n=t.body;if(null!=(r=n.handoff_token))return[2,r];throw new Error("Missing handoff token!")}}))}))).apply(this,arguments)}const B={generateNonce:function(){return Z().v4()},createHandoffToken:function(e){return G.apply(this,arguments)}};var j=n(813292),F=n.n(j);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z,K="mweb_handoff_nonce",W="mweb_handoff_nonce_expiration";!function(e){e.NONCE_MISSING="nonce_missing";e.NONCE_EXPIRED="nonce_expired";e.NULL_HANDOFF_TOKEN="deep_link_failed";e.HANDOFF_EXCHANGE="handoff_exchange"}(z||(z={}));var Y=new Set([z.NONCE_MISSING,z.NONCE_EXPIRED,z.HANDOFF_EXCHANGE]),q=new Set([z.NULL_HANDOFF_TOKEN]),X=function(){R.Z.remove(K);R.Z.remove(W)};const Q=function(){var e=(0,u.e7)([L.default],(function(){return L.default.getFingerprint()})),t=(0,
l.parse)(window.location.search),n=t.fingerprint,o=t.handoff_token,a=Array.isArray(n)?n.length>1?n[0]:null:n,i=null!=a?a:null!==e?e:void 0;r.useEffect((function(){null!==a&&e!==a&&s.Z.dispatch({type:"FINGERPRINT",fingerprint:a})}),[a,e]);var c=V(r.useState(null),2),p=c[0],d=c[1],E=r.useCallback((function(e){d(e);M.default.track(D.rMx.MOBILE_WEB_HANDOFF_FAILURE,{reason:e,fingerprint:(0,S.K)(i)},{fingerprint:i})}),[d,i]),h=R.Z.get(K);"null"===o&&null===p&&E(z.NULL_HANDOFF_TOKEN);null!=o&&"null"!==o&&null==h&&null===p&&E(z.NONCE_MISSING);r.useEffect((function(){if(null!=h){var e=R.Z.get(W);if(null==e||Date.now()>=e){E(z.NONCE_EXPIRED);X()}}}),[h,E]);r.useEffect((function(){if(null!=o&&"null"!==o&&null!=h){if(null!=p)return;C.Z.post({url:D.ANM.HANDOFF_EXCHANGE,body:{key:h,handoff_token:o}}).then((function(e){return f.Z.loginToken(e.body.token,!1)})).then((function(){M.default.track(D.rMx.LOGIN_SUCCESSFUL,{source:D.uRl.MOBILE_WEB_HANDOFF,is_new_user:!1,fingerprint:(0,S.K)(i)})
;var e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("handoff_token");t.delete("fingerprint");e.search=t.toString();window.history.pushState(null,"",e)})).catch((function(){E(z.HANDOFF_EXCHANGE)})).finally((function(){X()}))}}),[o,h,p,i,E]);if(null==i)return null;var _=null==p?r.createElement(r.Fragment,null,P.MOBILE_WEB_HANDOFF_EXPLANATION_TEXT_LINE_1,r.createElement("br",null),P.MOBILE_WEB_HANDOFF_EXPLANATION_TEXT_LINE_2):q.has(p)?P.MOBILE_WEB_HANDOFF_ERROR_NO_TRY_AGAIN:Y.has(p)?P.MOBILE_WEB_HANDOFF_ERROR_TRY_AGAIN:void 0;return null!=p&&q.has(p)?r.createElement("div",{className:F().errorContainer},r.createElement(v.x,{color:"interactive-normal",variant:"text-sm/semibold"},_)):r.createElement("div",{className:F().container},r.createElement(v.x,{variant:"text-sm/semibold"},_),r.createElement(m.Co,{look:m.Co.Looks.INVERTED,color:m.Co.Colors.BRAND_NEW,onClick:function(){var e=B.generateNonce();R.Z.set(K,e);R.Z.set(W,Date.now()+6e4)
;var t=new URL(D.x0X),n=new URLSearchParams(window.location.search);n.delete("fingerprint");n.delete("handoff_token");var r=new URLSearchParams;r.set("redirect",encodeURIComponent(window.location.pathname+n.toString()));r.set("key",e);r.set("fingerprint",i);t.search=r.toString();M.default.track(D.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,S.K)(i),source:"mobile_web_handoff",destination:D.x0X},{fingerprint:i,flush:!0});window.location.href=t.toString()}},r.createElement(v.x,{className:F().buttonText,variant:"text-sm/semibold"},P.MOBILE_WEB_HANDOFF_BUTTON_TEXT)))};var $=n(370149),J=n(506884),ee=n(383689),te=n(674945),ne=n(177704),re=n.n(ne);function oe(e){var t=e.onDismiss;(0,ee.Z)({type:J.nv.MODAL,name:J.zs.MULTI_ACCOUNT_SWITCH_LANDING});return r.createElement(_.ZP,{className:re().chooseAccountAuthBox},r.createElement(_.Dx,null,y.Z.Messages.SWITCH_ACCOUNTS_CHOOSE_ACCOUNT),r.createElement(v.x,{className:re().chooseAccountHelpText,variant:"text-md/normal",color:"header-secondary"
},y.Z.Messages.SWITCH_ACCOUNTS_CHOOSE_ACCOUNT_HELPER),r.createElement(te.Z,{actionText:y.Z.Messages.SWITCH_ACCOUNTS_ACTION_LOG_IN,onAction:function(e){e===te.W.LOGIN_REQUIRED&&t()}}),r.createElement("div",{className:re().actions},r.createElement(m.Co,{className:re().chooseAccountButton,look:m.Co.Looks.LINK,color:m.Co.Colors.PRIMARY,onClick:t,size:m.Co.Sizes.MEDIUM},r.createElement(v.x,{variant:"text-sm/normal"},y.Z.Messages.SWITCH_ACCOUNTS_ADD_AN_ACCOUNT_BUTTON))))}var ae=n(99918),ie=n(614503),le=n(363419),ce=n(324954),ue=n(737949),se=n(18700),fe=n(94813),pe=n(82961),de=n(360240),me=n(30741),Ee=n(897576),he=n(560221),ve=n(882699),_e=n(742269),ye=n(869488),ge=n(882923),be=n(101577),Oe=n(681178),Ie=n(401246),Ne=n(688087);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(){return"undefined"==typeof document||"visible"===document.visibilityState}var Ce=n(838478),Re=n(538796),Pe=n(832691),Le=n(40188),Me=n(766936),we=n(441143),Ze=n.n(we),De=n(948571);function xe(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ue(a,r,o,i,l,"next",e)}function l(e){Ue(a,r,o,i,l,"throw",e)}i(void 0)}))}}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e){
return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}var Fe=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,
r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function He(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=ke((function(e){var t,n;return Fe(this,(function(r){switch(r.label){case 0:Ze()(null!=e.publicKey,"public key cannot be null");return[4,window.crypto.subtle.exportKey("spki",e.publicKey)];case 1:n=r.sent()
;return[2,btoa((t=String).fromCharCode.apply(t,Be(new Uint8Array(n))))]}}))}))).apply(this,arguments)}function ze(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=ke((function(e){return Fe(this,(function(t){switch(t.label){case 0:Ze()(null!=e.publicKey,"public key cannot be null");return[4,window.crypto.subtle.exportKey("spki",e.publicKey)];case 1:return[2,We(t.sent())]}}))}))).apply(this,arguments)}function We(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=ke((function(e){var t,n;return Fe(this,(function(r){switch(r.label){case 0:return[4,window.crypto.subtle.digest({name:"SHA-256"},e)];case 1:n=r.sent();return[2,btoa((t=String).fromCharCode.apply(t,Be(new Uint8Array(n)))).replace(/\//g,"_").replace(/\+/g,"-").replace(/={1,2}$/,"")]}}))}))).apply(this,arguments)}function qe(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function Xe(e,t){Ze()(null!=e.privateKey,"private key cannot be null");return window.crypto.subtle.decrypt({
name:"RSA-OAEP",hash:"SHA-256"},e.privateKey,t)}function Qe(e,t){return $e.apply(this,arguments)}function $e(){return($e=ke((function(e,t){var n,r;return Fe(this,(function(o){switch(o.label){case 0:n=new TextDecoder;return[4,Xe(e,qe(t))];case 1:r=o.sent();return[2,n.decode(r)]}}))}))).apply(this,arguments)}function Je(e,t){return et.apply(this,arguments)}function et(){return(et=ke((function(e,t){return Fe(this,(function(n){switch(n.label){case 0:return[4,Xe(e,qe(t))];case 1:return[2,We(n.sent())]}}))}))).apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=ke((function(e,t){var n,r,o,a,i,l,c;return Fe(this,(function(u){switch(u.label){case 0:return[4,Qe(e,t)];case 1:t=u.sent();n=/^(\d+):(\d{4}):([a-zA-Z0-9_]+):(.*)$/;if(null==(r=t.match(n)))throw new Error("Invalid encoded user record.");o=Ge(r,5),a=o[1],i=o[2],l=o[3],c=o[4];return[2,new De.Z({id:a,discriminator:i,avatar:"0"===l?null:l,username:c})]}}))}))).apply(this,arguments)}
var rt=n(730367),ot=n(702533),at=n.n(ot);function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function ct(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){lt(a,r,o,i,l,"next",e)}function l(e){lt(a,r,o,i,l,"throw",e)}i(void 0)}))}}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var st,ft,pt=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:
a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};!function(e){e[e.INITIALIZING=0]="INITIALIZING";e[e.PENDING_REMOTE_INIT=1]="PENDING_REMOTE_INIT";e[e.PENDING_FINISH=2]="PENDING_FINISH";e[e.PENDING_TICKET=3]="PENDING_TICKET";e[e.PENDING_LOGIN=4]="PENDING_LOGIN";e[e.FINISH=5]="FINISH"}(st||(st={}));!function(e){e[e.QR_CODE=0]="QR_CODE";e[e.CONFIRM=1]="CONFIRM"}(ft||(ft={}));var dt=n(182765),mt=new Pe.Z("LoginQRSocket");function Et(e){var t=ut(r.useState(0),2),n=t[0],o=t[1],a=ut(r.useState(!1),2),i=a[0],l=a[1],c=ut(r.useState({step:st.INITIALIZING
}),2),u=c[0],s=c[1],f=ut(r.useState(null),2),p=f[0],d=f[1],m=function(){var e=Ae((0,r.useState)(Se()),2),t=e[0],n=e[1];(0,r.useEffect)((function(){var e=function(){n(Se())};window.addEventListener("visibilitychange",e);return function(){window.removeEventListener("visibilitychange",e)}}),[n]);return t}(),E=r.useMemo((function(){return new Oe.Z(1500,3e4)}),[]),h=r.useRef();h.current=r.useCallback((function(){s({step:st.INITIALIZING});if(m)o((function(e){return e+1}));else{mt.info("document is not visible, will defer reconnection when document becomes visible.");l(!0)}}),[m]);var v=r.useCallback((function(){!function(e){var t=e.current;if(void 0===t)throw new Error("tried to unwrap an undefined value.");return t}(h)()}),[h]),_=r.useCallback((function(){mt.error("Could not complete QR code login, trying to restart with a new QR code.");s({step:st.INITIALIZING});E.pending||E.fail(v)}),[v,E]);r.useEffect((function(){if(m&&i&&u.step===st.INITIALIZING){
mt.info("reconnecting, now that document is visible");l(!1);o((function(e){return e+1}))}}),[u,m,i,l]);r.useEffect((function(){var t=function(){if(null!=l)return l;throw new Error("No key pair set")},n=Date.now(),r="wss:".concat(window.GLOBAL_ENV.REMOTE_AUTH_ENDPOINT,"/?v=2"),o=new WebSocket(r);mt.info("[0ms] connecting to ".concat(r));var a,i=function(e){return mt.info("[".concat("".concat(Date.now()-n,"ms"),"] ").concat(e))},l=null,c=null,u=null,f=null,p=!0,m=function(){if(p){p=!1;o.send(JSON.stringify({op:"heartbeat"}))}else{i("heartbeat timeout, reconnecting.");o.close();_()}};o.onmessage=(a=ct((function(n){var r,a,l,c,d,h,y,g,b,O,I,N,T;return pt(this,(function(A){switch(A.label){case 0:r=n.data;switch((a=JSON.parse(r)).op){case"nonce_proof":return[3,1];case"pending_remote_init":return[3,3];case"pending_login":return[3,5];case"pending_ticket":return[3,6];case"pending_finish":return[3,8];case"finish":return[3,10];case"cancel":return[3,12];case"hello":return[3,13]
;case"heartbeat_ack":return[3,14]}return[3,15];case 1:l=a.encrypted_nonce;return[4,Je(t(),l)];case 2:c=A.sent();i("computed nonce proof");o.send(JSON.stringify({op:"nonce_proof",proof:c}));return[2];case 3:E.succeed();ve.S.dispatch(D.CkL.WAVE_EMPHASIZE);return[4,ze(t())];case 4:if((d=A.sent())!==a.fingerprint)throw new Error("bad fingerprint ".concat(d," !== ").concat(a.fingerprint));i("handshake complete awaiting remote auth.");s({step:st.PENDING_REMOTE_INIT,fingerprint:d});return[2];case 5:null==(h=a.ticket)&&_();s({step:st.PENDING_LOGIN,ticket:h});return[2];case 6:ve.S.dispatch(D.CkL.WAVE_EMPHASIZE);i("remote auth handshake started, awaiting ticket/cancel.");y=a.encrypted_user_payload;return[4,tt(t(),y)];case 7:g=A.sent();s({step:st.PENDING_TICKET,user:g});return[2];case 8:ve.S.dispatch(D.CkL.WAVE_EMPHASIZE);i("remote auth handshake started, awaiting finish/cancel.");b=a.encrypted_user_payload;return[4,tt(t(),b)];case 9:O=A.sent();s({step:st.PENDING_FINISH,user:O});return[2]
;case 10:ve.S.dispatch(D.CkL.WAVE_EMPHASIZE);i("remote auth handshake finished.");I=a.encrypted_token;s({step:st.FINISH});return[4,Qe(t(),I)];case 11:N=A.sent();e(N);return[2];case 12:i("remote auth handshake cancelled.");v();return[2];case 13:i("got hello, auth timeout=".concat(a.timeout_ms,"ms"));T=a.heartbeat_interval;f=setTimeout((function(){f=null;m();u=setInterval(m,T)}),Math.floor(T*Math.random()));return[2];case 14:p=!0;A.label=15;case 15:return[2]}}))})),function(e){return a.apply(this,arguments)});o.onopen=ct((function(){var e;return pt(this,(function(t){switch(t.label){case 0:return[4,window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["decrypt"])];case 1:return[4,He(l=t.sent())];case 2:c=t.sent();return[4,ze(l)];case 3:e=t.sent();i("connected, handshaking with fingerprint: ".concat(e));o.send(JSON.stringify({op:"init",encoded_public_key:c}));d(l);return[2]}}))}));o.onclose=function(e){
i("disconnected, code: ".concat(e.code," ").concat(e.reason));_()};o.onerror=function(e){i("disconnected, error: ".concat(JSON.stringify(e)));_()};return function(){i("cleaning up");o.onopen=function(){return null};o.onmessage=function(){return null};o.onclose=function(){return null};o.onerror=function(){return null};o.close(1e3);E.cancel();null!=f&&clearTimeout(f);null!=u&&clearInterval(u)}}),[v,e,n,E,_]);return{state:u,rsaKeyPair:p,cancel:v,handleFailure:_}}function ht(e){var t=e.text,n=void 0===t?"":t,o=dt,a=ut(r.useState(!1),2),i=a[0],l=a[1];r.useEffect((function(){var e=new Image;e.src=o;e.onload=function(){return l(!0)};e.onerror=function(){return l(!0)}}),[o]);r.useEffect((function(){i&&Ce.Z.announce(y.Z.Messages.LOGIN_WITH_QR_LOADING_FINISHED_LABEL)}),[i]);return r.createElement("div",{className:at().qrCodeContainer},""!==n&&i?r.createElement(r.Fragment,null,r.createElement(Ie.Z,{className:at().qrCode,width:160,height:160,text:n}),r.createElement("div",{
className:at().qrCodeOverlay},r.createElement("img",{src:o,alt:""}))):r.createElement("div",{className:at().qrCodeOverlay,"aria-label":y.Z.Messages.LOGIN_WITH_QR_LOADING_LABEL,"aria-busy":!0},r.createElement(pe.Z,{className:at().qrCode,type:pe.Z.Type.WANDERING_CUBES,"aria-hidden":!0})))}var vt=function(e){var t=e.className,n=e.children;return r.createElement(v.x,{variant:"text-md/normal",color:"text-danger",className:t},n)};function _t(e){var t=e.state,n=e.cancel,o=e.errorMessage;switch(t.step){case st.INITIALIZING:case st.PENDING_REMOTE_INIT:return r.createElement(r.Fragment,null,r.createElement(ht,{text:t.step===st.PENDING_REMOTE_INIT?"https://discordapp.com/ra/".concat(t.fingerprint):""}),r.createElement(_.Dx,{className:I().marginBottom8},y.Z.Messages.LOGIN_WITH_QR),null!=o?r.createElement(vt,null,o):r.createElement(_.DK,null,y.Z.Messages.LOGIN_WITH_QR_DESCRIPTION.format()));case st.PENDING_TICKET:case st.PENDING_FINISH:var a=t.user
;return r.createElement(r.Fragment,null,r.createElement(Ne.Z,{className:at().qrAvatar,user:a,size:Me.ZP.Sizes.SIZE_120,isMobile:!0,status:rt.Sk.ONLINE}),r.createElement(_.Dx,{className:I().marginBottom8},y.Z.Messages.CONFIRM_QR_CHECK_YOUR_PHONE),r.createElement(_.DK,null,y.Z.Messages.LOGIN_AS.format({username:"".concat(a.username,"#").concat(a.discriminator)})),r.createElement(m.Co,{look:m.Co.Looks.BLANK,color:m.Co.Colors.LINK,size:m.Co.Sizes.MIN,onClick:n,className:at().startOverButton},y.Z.Messages.QR_CODE_LOGIN_START_OVER));case st.PENDING_LOGIN:case st.FINISH:return r.createElement(pe.Z,{type:pe.Z.Type.WANDERING_CUBES})}}function yt(e){var t=e.authTokenCallback,o=Et(t),a=o.state,i=o.rsaKeyPair,l=o.cancel,c=o.handleFailure,u=ut(r.useState({}),2),s=u[0],f=u[1],p=function(e){switch(e){case st.INITIALIZING:case st.PENDING_REMOTE_INIT:return ft.QR_CODE;case st.PENDING_TICKET:case st.PENDING_FINISH:case st.PENDING_LOGIN:case st.FINISH:return ft.CONFIRM}
}(a.step),d=ut(r.useState(null),2),m=d[0],E=d[1];a.step===st.INITIALIZING&&Object.keys(s).length>0&&f({});r.useEffect((function(){a.step===st.PENDING_LOGIN&&null!=a.ticket&&C.Z.post({url:D.ANM.REMOTE_AUTH_LOGIN,body:{ticket:a.ticket,captcha_key:null==s?void 0:s.captcha_key,captcha_rqtoken:null==s?void 0:s.captcha_rqtoken},oldFormErrors:!0}).then((e=ct((function(e){var n;return pt(this,(function(r){switch(r.label){case 0:if(null==i)return[3,5];r.label=1;case 1:r.trys.push([1,3,,4]);return[4,Qe(i,e.body.encrypted_token)];case 2:n=r.sent();t(n);return[3,4];case 3:r.sent();c();return[3,4];case 4:return[3,6];case 5:c();r.label=6;case 6:return[2]}}))})),function(t){return e.apply(this,arguments)})).catch((function(e){var t;if(null!=(null===(t=e.body)||void 0===t?void 0:t.captcha_key)){if(Array.isArray(e.body.captcha_key)&&e.body.captcha_key.includes("invalid-response")){E(y.Z.Messages.LOGIN_WITH_QR_ERROR_SUBTITLE);c();return}n.e(41704).then(n.bind(n,141704)).then((function(t){
t.default.showCaptchaAsync((0,Re.z)(e.body)).then((function(e){f(e)})).catch((function(e){return c()}))}))}else c()}));var e}),[a,s,t,i,c]);return r.createElement(r.Fragment,null,r.createElement("div",{className:at().verticalSeparator}),r.createElement(Le.Z,{fillParent:!0,className:at().qrLogin,step:p,steps:[ft.QR_CODE,ft.CONFIRM]},r.createElement("div",{className:at().qrLoginInner},r.createElement(_t,{state:a,cancel:l,errorMessage:m}))))}var gt=n(969376),bt=n(971994),Ot=n.n(bt);function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function At(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Tt(a,r,o,i,l,"next",e)}function l(e){
Tt(a,r,o,i,l,"throw",e)}i(void 0)}))}}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Ct(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Rt(){Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Rt.apply(this,arguments)}function Pt(e){Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Pt(e)}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ct(e,t,n[t])}))}return e}
function Mt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wt(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?Nt(e):t}function Zt(e,t){Zt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Zt(e,t)}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o
}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Pt(e);if(t){var o=Pt(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return wt(this,n)}}var kt=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}
a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function Gt(){return r.createElement(_.ZP,null,r.createElement(pe.Z,null))}function Bt(e){var t=e.authBoxClassName,a=e.loginStatus,i=e.handleReset,l=Dt(r.useState(!1),2),c=l[0],u=l[1];return r.createElement(_.ZP,{className:t},r.createElement("img",{alt:"",src:n(148267),className:I().marginBottom20}),r.createElement(_.Dx,{className:I().marginBottom8},y.Z.Messages.TWO_FA),r.createElement(_.DK,null,y.Z.Messages.TWO_FA_WEBAUTHN_BODY),r.createElement(_.gO,{className:I().marginTop40},r.createElement(_.zx,{submitting:c||a===D.u34.LOGGING_IN_MFA_WEBAUTHN,onClick:function(){u(!0);var e=L.default.getWebAuthnChallenge();null!=e?o.U2(JSON.parse(e)).then((function(e){u(!1);f.Z.loginMFA({code:JSON.stringify(e),ticket:L.default.getMFATicket(),isWebAuthn:!0});ve.S.dispatch(D.CkL.WAVE_EMPHASIZE)})).catch((function(e){u(!1);s.Z.dispatch({type:"LOGIN_MFA_FAILURE",message:e.message})
})):s.Z.dispatch({type:"LOGIN_MFA_WEBAUTHN_TO_TOTP"})}},y.Z.Messages.TWO_FA_WEBAUTHN_ACTION),r.createElement(_.zx,{look:_.zx.Looks.OUTLINED,className:I().marginTop8,disabled:a===D.u34.LOGGING_IN_MFA_WEBAUTHN,onClick:function(){s.Z.dispatch({type:"LOGIN_MFA_WEBAUTHN_TO_TOTP"})}},y.Z.Messages.TWO_FA_WEBAUTHN_SWITCH_TOTP),r.createElement(_.zx,{look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,className:I().marginTop8,onClick:i},y.Z.Messages.TWO_FA_LOGIN_FOOTER)))}var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Zt(e,t)}(o,e);var t=Ut(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n,a,i=Nt(n=t.call(this,e));n.handleAuthToken=(a=At((function(e){return kt(this,(function(t){switch(t.label){case 0:return[4,f.Z.loginToken(e,!1)];case 1:
t.sent();M.default.track(D.rMx.LOGIN_SUCCESSFUL,{source:D.uRl.QR_CODE,login_source:i.loginSource,gift_code_sku_id:i.giftCodeSKUId,is_new_user:!1});return[2]}}))})),function(e){return a.apply(this,arguments)});n.setLoginRef=function(e){n.loginRef=e};n.setPasswordRef=function(e){n.passwordRef=e};n.setCodeRef=function(e){n.codeRef=e};n.getFullLogin=function(){var e=n.state;return e.loginPrefix+e.login};n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var r=t[e];return Array.isArray(r)?r[0]:r}return null};n.handleLogin=function(e){var t=n.state,r=t.password,o=t.captchaKey,a=t.undelete;null!=e&&e.preventDefault();n.setState({captchaCallback:n.handleLogin,captchaKey:null});f.Z.login({login:n.getFullLogin(),password:r,undelete:a,captchaKey:o,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId,invite:n.props.invite});ve.S.dispatch(D.CkL.WAVE_EMPHASIZE)};var u=Nt(n);n.handleIPAuthorize=function(){var e=At((function(e){var t,n,r,o,a,i,l;return kt(this,(function(c){switch(c.label){
case 0:t=u.state,n=t.password,r=t.captchaKey,o=t.undelete;u.setState({phoneVerifyError:null,captchaKey:null});a=u.getFullLogin();c.label=1;case 1:c.trys.push([1,4,,5]);return[4,ae.Z.verifyPhone(a,e,!1)];case 2:i=c.sent().token;return[4,f.Z.authorizeIPAddress(i)];case 3:c.sent();f.Z.login({login:a,password:n,undelete:o,captchaKey:r,source:u.loginSource,giftCodeSKUId:u.giftCodeSKUId});ve.S.dispatch(D.CkL.WAVE_EMPHASIZE);return[3,5];case 4:null!=(l=c.sent()).body&&null!=l.body.message&&u.setState({phoneVerifyError:l.body.message});return[3,5];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var s=Nt(n);n.handlePasswordReset=function(){var e=At((function(e){var t,n,r;return kt(this,(function(o){switch(o.label){case 0:t=s.props.transitionTo;s.setState({phoneVerifyError:null});o.label=1;case 1:o.trys.push([1,3,,4]);return[4,ae.Z.verifyPhone(s.getFullLogin(),e,!1)];case 2:n=o.sent().token;t(D.Z5c.RESET,{search:(0,l.stringify)({token:n,from_login:"true"})})
;return[3,4];case 3:null!=(r=o.sent()).body&&null!=r.body.message&&s.setState({phoneVerifyError:r.body.message});return[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();n.handleTokenSubmit=function(e){var t=n.state.code,r=n.props.mfaTicket;null!=e&&e.preventDefault();f.Z.loginMFA({code:t.replace(/ /g,""),ticket:r,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId});ve.S.dispatch(D.CkL.WAVE_EMPHASIZE)};n.handleSMSTokenSubmit=function(e){var t=n.state.smsCode,r=n.props.mfaTicket;null!=e&&e.preventDefault();f.Z.loginSMS({code:t.replace(/ /g,""),ticket:r});ve.S.dispatch(D.CkL.WAVE_EMPHASIZE)};n.handleToggleSMSLogin=function(e){var t=n.props.mfaTicket;null!=e&&e.preventDefault();f.Z.requestSMSToken(t);ve.S.dispatch(D.CkL.WAVE_EMPHASIZE)};var p=Nt(n);n.handleForgotPassword=function(){var e=At((function(e){var t,n;return kt(this,(function(o){switch(o.label){case 0:null!=e&&e.preventDefault();null!=p.loginRef&&p.loginRef.focus();t=p.getFullLogin()
;n=p.state.captchaKey;p.setState({captchaCallback:p.handleForgotPassword,captchaKey:null});o.label=1;case 1:o.trys.push([1,3,,4]);ve.S.dispatch(D.CkL.WAVE_EMPHASIZE);return[4,f.Z.forgotPassword(t,n)];case 2:o.sent();(0,Ee.h7)((function(e){return r.createElement(me.default,Rt({header:y.Z.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:y.Z.Messages.OKAY,confirmButtonColor:_.zx.Colors.BRAND,className:c.tq?Ot().mobile:""},e),r.createElement(v.x,{variant:"text-md/normal"},y.Z.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:t})))}));return[3,4];case 3:o.sent();return[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();n.handleResendCode=function(){ae.Z.resendCode(n.getFullLogin())};n.handleReset=function(e){null!=e&&e.preventDefault();f.Z.loginReset();n.setState({password:"",loginPrefix:"",login:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1,redirecting:!1})};n.handleCancelAccountDeletion=function(){n.setState({
undelete:!0},n.handleLogin)};n.handleCaptchaVerify=function(e){var t=n.state.captchaCallback;n.setState({captchaKey:e},t)};n.handleGotoRegister=function(){var e,t=n.state.login,r=n.props,o=r.invite,a=r.giftCode,i=r.guildTemplate,c=r.location,u=r.transitionTo,s=r.redirectTo,p=null!=c?(0,l.parse)(c.search):{};""!==t&&(p.email=t);if(null!=o){p.mode="register";e=D.Z5c.INVITE(o.code)}else if(null!=a){p.mode="register";e=D.Z5c.GIFT_CODE(a.code)}else if(null!=i)e=D.Z5c.GUILD_TEMPLATE(i.code);else if(null!=s){e=D.Z5c.REGISTER;p.redirect_to=s}else e=D.Z5c.REGISTER;f.Z.loginReset();u(e,{search:(0,l.stringify)(p)});ve.S.dispatch(D.CkL.WAVE_EMPHASIZE)};var d,m,E=null!=e.location?(0,l.parse)(e.location.search):{};n.state={redirecting:e.authenticated,checkingHandoff:e.handoffAvailable,loginPrefix:"",login:null!==(m=null!==(d=E.email)&&void 0!==d?d:E.login)&&void 0!==m?m:"",password:"",code:"",smsCode:"",captchaKey:null,captchaCallback:n.handleLogin,undelete:!1,phoneVerifyError:null,
dismissedChooseAccount:!1};return n}var a=o.prototype;a.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,r=e.giftCodeSKU,o=e.invite,a=e.location;t&&!n?(0,p.is)():n&&this.loginOrSSO(n,a,!0);M.default.track(D.rMx.LOGIN_VIEWED,Lt({location:null!=o?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource,authenticated:n},null!=r?(0,T.Z)(r,!1,!1):{}),{flush:!0});f.Z.getLocationMetadata();(0,ce.e)("login")};a.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,r=t.location,o=this.state.checkingHandoff;!n||e.authenticated||o||this.loginOrSSO(n,r);if(e.errors!==this.props.errors)if(this.hasError("password")){var a;null===(a=this.passwordRef)||void 0===a||a.focus()}else if(this.hasError("email")||this.hasError("login")){var i;null===(i=this.loginRef)||void 0===i||i.focus()}else if(this.hasError("code")){var l;null===(l=this.codeRef)||void 0===l||l.focus()}};a.loginOrSSO=function(e,t){
var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;if(e&&null!=t){this.setState({redirecting:!0});n?f.Z.verifySSOToken().then((function(){return r.transitionSSO(t)})):this.transitionSSO(t)}};a.transitionSSO=function(e){var t=this.props,n=t.transitionTo,r=t.redirectTo,o=null!=e?(0,l.parse)(e.search):{};delete o.redirect_to;if(null!=r)n(r);else if(null==o.service)n(D.Z5c.APP);else{var a=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+D.ANM.SSO,i=Mt(Lt({},o),{token:L.default.getToken()});window.location="".concat(a,"?").concat((0,l.stringify)(i))}};a.hasError=function(e){return null!=this.props.errors[e]};a.renderHandOffAvailable=function(){var e=this.props.authBoxClassName;return r.createElement(_.ZP,{className:e},r.createElement(_.Hh,null),r.createElement(_.Dx,{className:I().marginBottom8},y.Z.Messages.BROWSER_HANDOFF_DETECTING_TITLE),r.createElement(_.DK,null,y.Z.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))};a.renderHandOffContinue=function(){
var e=this.props,t=e.user,n=e.transitionTo,o=e.authBoxClassName;return null==t?null:r.createElement(_.ZP,{className:o},r.createElement(_.qE,{src:t.getAvatarURL(void 0,100),size:_.qE.Sizes.DEPRECATED_SIZE_100,className:I().marginBottom20}),r.createElement(_.Dx,{className:I().marginBottom8},y.Z.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),r.createElement(_.DK,{className:I().marginBottom40},y.Z.Messages._BROWSER_HANDOFF_SUCCESS_BODY),r.createElement(_.gO,null,r.createElement(_.zx,{onClick:function(){return n(D.Z5c.APP)},className:I().marginBottom8},y.Z.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),r.createElement(_.zx,{look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,onClick:this.handleReset},y.Z.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))};a.renderDisabledAccount=function(){
var e=this.props.authBoxClassName,t=this.props.loginStatus===D.u34.ACCOUNT_DISABLED,n=t?y.Z.Messages.ACCOUNT_DISABLED_TITLE:y.Z.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,o=t?y.Z.Messages.ACCOUNT_DISABLED_DESCRIPTION:y.Z.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return r.createElement(_.ZP,{tag:"form",onSubmit:this.handleReset,className:e},r.createElement(fe.y,{component:r.createElement(_.Dx,{className:I().marginBottom8},n)},r.createElement(_.DK,{className:I().marginBottom20},o),r.createElement(_.gO,null,r.createElement(_.zx,{color:_.zx.Colors.BRAND,type:"submit"},y.Z.Messages._RETURN_TO_LOGIN),r.createElement("div",{className:i()(I().marginTop8,Ot().needAccount)},y.Z.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion})))))};a.renderResolving=function(){var e=this,t=this.props,n=t.authBoxClassName,o=t.country;return r.createElement(_.ZP,{className:n},r.createElement(be.R,null),r.createElement(_.gO,{className:I().marginTop20
},r.createElement(le.Z,{className:I().marginBottom20,alpha2:o.alpha2,countryCode:o.code.split(" ")[0],label:y.Z.Messages.FORM_LABEL_EMAIL_OR_PHONE_NUMBER,onChange:function(t,n){return e.setState({login:t,loginPrefix:n})},setRef:this.setLoginRef,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:this.state.login,autoFocus:!0,required:!0}),r.createElement(_.II,{className:I().marginBottom20,label:y.Z.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password,required:!0}),r.createElement(_.zx,{className:I().marginBottom8,type:"submit",disabled:!0},y.Z.Messages._LOGIN),r.createElement(_.zx,{disabled:!0,look:_.zx.Looks.LINK,color:_.zx.Colors.LINK},y.Z.Messages.FORGOT_PASSWORD),r.createElement(_.zx,{disabled:!0,className:I().marginTop4,look:_.zx.Looks.LINK,color:_.zx.Colors.LINK},y.Z.Messages.NEED_ACCOUNT)))}
;a.renderDefaultForm=function(e){var t,n,o=this,a=this.props,l=a.invite,c=a.giftCode,u=a.loginStatus,s=a.country,f=a.showMobileWebHandoff,p=a.disableAutofocusOnDefaultForm,d=!this.hasError("email")&&this.hasError("password"),m=null!=(null==l?void 0:l.stage_instance);t=null==l||m?null!=c?r.createElement(ge.Z,{giftCode:c}):r.createElement("div",{className:Ot().header},r.createElement(_.Dx,{key:"title",className:I().marginBottom8},y.Z.Messages.LOGIN_TITLE),!1===(0,_e.eL)()?r.createElement(_.DK,{key:"subtitle"},y.Z.Messages.AUTH_LOGIN_BODY):null):r.createElement(be.Z,{invite:l});return r.createElement(h.Z,{direction:h.Z.Direction.HORIZONTAL,align:h.Z.Align.CENTER},r.createElement("div",{className:Ot().mainLoginContainer},this.canShowChooseAccount&&this.state.dismissedChooseAccount&&r.createElement(_.zx,{onClick:function(){o.setState((function(e){return Mt(Lt({},e),{dismissedChooseAccount:!1})}))},look:_.zx.Looks.LINK,color:_.zx.Colors.PRIMARY,className:Ot().goBackButton
},r.createElement("div",{className:Ot().content},r.createElement(de.Z,{width:16,height:16,className:Ot().caret}),r.createElement(v.x,{variant:"text-md/normal"},y.Z.Messages.AGE_GATE_GO_BACK))),t,r.createElement(fe.y,null,r.createElement(_.gO,{className:I().marginTop20},r.createElement(le.Z,{alpha2:s.alpha2,countryCode:s.code.split(" ")[0],className:I().marginBottom20,label:y.Z.Messages.FORM_LABEL_EMAIL_OR_PHONE_NUMBER,error:null!==(n=this.renderError("login"))&&void 0!==n?n:this.renderError("email"),onChange:function(e,t){return o.setState({login:e,loginPrefix:t})},setRef:this.setLoginRef,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:this.state.login,autoFocus:!d&&!f&&!p,required:!0}),r.createElement(_.II,{label:y.Z.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(e){return o.setState({password:e})},name:"password",type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:d&&!f&&!p,
value:this.state.password,required:!0}),r.createElement(_.zx,{onClick:this.handleForgotPassword,look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,className:i()(I().marginBottom20,I().marginTop4)},y.Z.Messages.FORGOT_PASSWORD),r.createElement(_.zx,{type:"submit",submitting:u===D.u34.LOGGING_IN,color:m?_.zx.Colors.GREEN:_.zx.Colors.BRAND,className:I().marginBottom8},m?y.Z.Messages._LOGIN_STAGE:y.Z.Messages._LOGIN),r.createElement("div",{className:I().marginTop4},r.createElement("span",{className:Ot().needAccount},y.Z.Messages.NEED_ACCOUNT),r.createElement(_.zx,{onClick:this.handleGotoRegister,look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,className:Ot().smallRegisterLink},y.Z.Messages.REGISTER))))),r.createElement(fe.y,null,e?r.createElement(yt,{authTokenCallback:this.handleAuthToken}):null))};a.renderDefault=function(){var e=this.props,t=e.authBoxClassName,n=e.showMobileWebHandoff;return r.createElement("div",{className:Ot().pageContainer},r.createElement(_.ZP,{onSubmit:this.handleLogin,
tag:"form",className:t,expanded:!0},this.renderDefaultForm(!0)),n&&r.createElement(Q,null))};a.renderGuildTemplate=function(e){var t=this;return r.createElement(gt.Z,{onSubmit:this.handleLogin,tag:"form",className:i()(this.props.authBoxClassName,Ot().horizontalAuthBox)},(function(){return[r.createElement(A.Z,{guildTemplate:e}),t.renderDefaultForm(!1)]}))};a.renderMFA=function(){var e=this,t=this.props,o=t.loginStatus,a=t.mfaSMS,i=t.authBoxClassName;return r.createElement(_.ZP,{onSubmit:this.handleTokenSubmit,tag:"form",className:i},r.createElement("img",{alt:"",src:n(148267),className:I().marginBottom20}),r.createElement(_.Dx,{className:I().marginBottom8},y.Z.Messages.TWO_FA),r.createElement(_.DK,null,y.Z.Messages.TWO_FA_ENTER_TOKEN_BODY),r.createElement(_.gO,{className:I().marginTop40},r.createElement(_.II,{className:I().marginBottom20,error:this.renderError("code"),key:"totpCode",setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"one-time-code",
placeholder:y.Z.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:y.Z.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code,required:!0}),r.createElement(_.zx,{type:"submit",submitting:o===D.u34.LOGGING_IN_MFA},y.Z.Messages._LOGIN),a?r.createElement(_.zx,{onClick:this.handleToggleSMSLogin,submitting:o===D.u34.LOGGING_IN_MFA_SMS,className:I().marginTop8,look:_.zx.Looks.LINK,color:_.zx.Colors.LINK},y.Z.Messages.MFA_SMS_RECEIVE_CODE):null,r.createElement(_.zx,{look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,className:I().marginTop4,onClick:this.handleReset},y.Z.Messages._TWO_FA_LOGIN_FOOTER)))};a.renderMFASMS=function(){var e=this,t=this.props,o=t.loginStatus,a=t.maskedPhone,i=t.authBoxClassName,l=o===D.u34.LOGGING_IN_MFA_SMS||""===a;return r.createElement(_.ZP,{onSubmit:this.handleSMSTokenSubmit,tag:"form",className:i},r.createElement("img",{alt:"",src:n(148267),className:I().marginBottom20}),r.createElement(_.Dx,{className:I().marginBottom8
},y.Z.Messages.TWO_FA),r.createElement(_.DK,{className:I().marginBottom8},l?y.Z.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:y.Z.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:a})),r.createElement(_.gO,{className:I().marginTop40},r.createElement(_.II,{className:I().marginBottom20,error:this.renderError("code"),key:"smsCode",setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:y.Z.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:y.Z.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode,required:!0}),r.createElement(_.zx,{type:"submit",submitting:l,color:l?_.zx.Colors.TRANSPARENT:_.zx.Colors.BRAND},y.Z.Messages._LOGIN),l?null:r.createElement(_.zx,{onClick:this.handleToggleSMSLogin,className:I().marginTop8,look:_.zx.Looks.LINK,color:_.zx.Colors.LINK},y.Z.Messages.MFA_SMS_RESEND),r.createElement(_.zx,{look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,className:I().marginTop4,onClick:this.handleReset
},y.Z.Messages._TWO_FA_LOGIN_FOOTER)))};a.renderMFAWebAuthn=function(){var e=this.props,t=e.authBoxClassName,n=e.loginStatus;return r.createElement(Bt,{authBoxClassName:t,loginStatus:n,handleReset:this.handleReset})};a.renderIPAuthorization=function(){var e=this.props.authBoxClassName,t=this.state.phoneVerifyError;return r.createElement(_.ZP,{tag:"form",className:e},r.createElement(N,{title:y.Z.Messages.PHONE_IP_AUTHORIZATION_TITLE,subtitle:y.Z.Messages.PHONE_IP_AUTHORIZATION_SUBTITLE_RESEND.format({onResendClick:this.handleResendCode}),error:t,onSubmit:this.handleIPAuthorize,onCancel:f.Z.loginReset}))};a.renderPasswordRecovery=function(){var e=this.props.authBoxClassName,t=this.state.phoneVerifyError;return r.createElement(_.ZP,{tag:"form",className:e},r.createElement(N,{title:y.Z.Messages.PASSWORD_RECOVERY_VERIFY_PHONE_TITLE,subtitle:y.Z.Messages.PASSWORD_RECOVERY_VERIFY_PHONE_SUBTITLE_RESEND.format({onResendClick:this.handleResendCode}),error:t,onSubmit:this.handlePasswordReset,
onCancel:f.Z.loginReset}))};a.renderChooseAccount=function(){var e=this;return r.createElement(oe,{onDismiss:function(){e.setState((function(e){return Mt(Lt({},e),{dismissedChooseAccount:!0})}))}})};a.render=function(){var e=this.props,t=e.authenticated,n=e.invite,o=e.guildTemplate,a=e.loginStatus,i=e.handoffAvailable,l=e.authBoxClassName,c=e.errors,u=this.state,s=u.checkingHandoff;if(u.redirecting||s)return r.createElement(Gt,null);if(this.hasError("captcha_key"))return r.createElement(ye.Z,{authBoxClassName:l,onVerify:this.handleCaptchaVerify,title:y.Z.Messages.LOGIN_TITLE,sitekey:c.captcha_sitekey,captchaService:(0,he.B)(c.captcha_service)});if(i)return this.renderHandOffAvailable();if(t&&s)return this.renderHandOffContinue();switch(a){case D.u34.LOGGING_IN_MFA_SMS:case D.u34.MFA_SMS_STEP:return this.renderMFASMS();case D.u34.LOGGING_IN_MFA:case D.u34.MFA_STEP:return this.renderMFA();case D.u34.MFA_WEBAUTHN_STEP:case D.u34.LOGGING_IN_MFA_WEBAUTHN:return this.renderMFAWebAuthn()
;case D.u34.ACCOUNT_SCHEDULED_FOR_DELETION:case D.u34.ACCOUNT_DISABLED:return this.renderDisabledAccount();case D.u34.PHONE_IP_AUTHORIZATION:return this.renderIPAuthorization();case D.u34.PASSWORD_RECOVERY_PHONE_VERIFICATION:return this.renderPasswordRecovery();case D.u34.LOGGING_IN:case D.u34.NONE:default:return null!=n&&n.state===D.r2o.RESOLVING?this.renderResolving():null!=o?o.state===D.r2o.RESOLVING?this.renderResolving():this.renderGuildTemplate(o):this.canShowChooseAccount&&!this.state.dismissedChooseAccount?this.renderChooseAccount():this.renderDefault()}};o.getDerivedStateFromProps=function(e){var t=e.handoffAvailable,n=e.authenticated;return t||n?null:{checkingHandoff:!1}};!function(e,t,n){t&&St(e.prototype,t);n&&St(e,n)}(o,[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.guildTemplate,r=e.invite,o=e.loginSource,a=e.redirectTo;if(null!=o)return o;if(null!=t)return"gift";if(null!=n)return"guild_template";if(null!=r){if(null!=r.guild)return"guild_invite"
;if(null!=r.channel)return"dm_invite";if(null!=r.inviter)return"friend_invite"}return null!=a?(0,d.L)(a):null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}},{key:"canShowChooseAccount",get:function(){return this.props.hasLoggedInAccounts}}]);return o}(r.PureComponent);jt.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Ft=function(e){var t=(0,u.cj)([ue.Z,se.Z,L.default,$.Z,ie.Z],(function(){return{authenticated:L.default.isAuthenticated(),handoffAvailable:ue.Z.isHandoffAvailable(),user:ue.Z.user,loginStatus:L.default.getLoginStatus(),mfaTicket:L.default.getMFATicket(),mfaSMS:L.default.getMFASMS(),maskedPhone:L.default.getMaskedPhone(),errors:L.default.getErrors(),defaultRoute:se.Z.defaultRoute,country:ie.Z.getCountryCode(),hasLoggedInAccounts:$.Z.getHasLoggedInAccounts()}}));return r.createElement(jt,Rt({},e,t))}},489898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_})
;var r=n(667294),o=n(517563),a=n(505977),i=n(791462),l=n(822567),c=n(476575),u=n(584268),s=n(655695),f=n(631134),p=n(989434),d=n(461061),m=n(35236);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){var t=function(e){var t=e.handoffKey,n=e.handoffToken,r=e.handoffSource;(0,c.Yz)({handoffKey:t,handoffToken:n,handoffSource:r});N(!1)},n=r.useCallback((function(t){if(function(e){var t,n=(0,a.LX)(e,{path:d.Z5c.CHANNEL(":guildId",":channelId")});return(null==n||null===(t=n.params)||void 0===t?void 0:t.channelId)===m.oC.ROLE_SUBSCRIPTIONS}(t))s.dL(t);else{var n;(null!==(n=e.transitionTo)&&void 0!==n?n:s.uL)(t)}}),[e.transitionTo]),E=(0,i.cj)([f.default],(function(){return{isAuthenticated:f.default.isAuthenticated(),loginStatus:f.default.getLoginStatus()}
})),_=E.isAuthenticated,y=E.loginStatus,g=e.location,b=e.redirectTo,O=v(r.useState(_),2),I=O[0],N=O[1];r.useEffect((function(){if(null!=g){var e=(0,o.parse)(g.search),n=e.handoff_key,r=e.handoff_token;if(null!=n&&null!=r){var a=null!=b?(0,u.L)(b):void 0;I?l.Z.logout(null).finally((function(){t({handoffKey:n,handoffToken:r,handoffSource:a})})):t({handoffKey:n,handoffToken:r,handoffSource:a})}}}),[]);return I||y===d.u34.LOGGING_IN?r.createElement(p.q,null):r.createElement(p.Z,h({},e,{transitionTo:n}))}},969376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(667294),o=n(294184),a=n.n(o),i=n(908570),l=n(361796),c=n.n(l);function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function f(e){var t=e.children,n=e.className,o=s(e,["children","className"]),l=t();return r.createElement(i.ZP,u({},o,{className:a()(n,c().container),contentClassName:c().content}),l.map((function(e,t){return r.createElement("div",{key:t,className:c().column,style:{flexBasis:"".concat(100/l.length,"%")}},e)})))}},314540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>qe});var r=n(667294),o=n(294184),a=n.n(o),i=n(517563),l=n(506884),c=n(791462),u=n(365523),s=n(822567),f=n(348855),p=n(655695),d=n(191940),m=n(908570),E=n(95467),h=n(461061),v=n(959797),_=n(478602),y=n.n(_),g=function(){return(0,p.uL)(h.Z5c.LOGIN)};const b=function(e){var t=e.authBoxClassName,o=e.underageMessage;return r.createElement(m.ZP,{className:t},r.createElement("img",{alt:"",src:n(697694),
className:y().img}),r.createElement(m.Dx,{className:y().title},v.Z.Messages.AGE_GATE_UNDERAGE_HEADER),r.createElement(m.DK,{className:y().subtitle},v.Z.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=o?o:v.Z.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:E.Z.getArticleURL(h.BhN.AGE_GATE)})),r.createElement(d.Co,{fullWidth:!0,onClick:g},v.Z.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN))};var O=n(65440),I=n(383689),N=n(682),T=n(553494);const A=(0,T.B)({kind:"user",id:"2022-04_registration_copy_updates",label:"Registration Copy Updates",defaultConfig:{enableNewCopy:!1,hasCopyAboveButton:!1,hasProminentCopy:!1},treatments:[{id:1,label:"Continue / Copy Above Button / High Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!0,hasProminentCopy:!0}},{id:2,label:"Continue / Copy Below Button / High Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!1,hasProminentCopy:!0}},{id:3,label:"Continue / Copy Above Button / Normal Prominence Copy",config:{
enableNewCopy:!0,hasCopyAboveButton:!0,hasProminentCopy:!1}}]});var S=n(730381),C=n.n(S),R=n(173436),P=n(55690),L=n(683801),M=n(631134),w=n(932847),Z=n(666492),D=n(643830);function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function G(e){var t=e.invite,n=void 0===t?null:t,r=e.giftCodeSKUId,o=void 0===r?null:r,a=e.captchaKey,i=void 0===a?null:a;return B(U(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){x(e,t,n[t])}))}return e}({},k(e,["invite","giftCodeSKUId","captchaKey"])),{invite:n,giftCodeSKUId:o,captchaKey:i}))}function B(e){var t=e.email,n=e.phoneToken,r=e.username,o=e.consent,a=e.password,i=e.guildTemplateCode,c=e.birthday,u=e.invite,s=void 0===u?null:u,f=e.giftCodeSKUId,p=void 0===f?null:f,d=e.captchaKey,m=void 0===d?null:d,E=e.multiStep,v=void 0!==E&&E,_=e.promoEmailConsent,y=void 0===_?null:_
;R.Z.dispatch({type:"REGISTER",birthday:v?c:null});if(null!=c){(0,D.Z)(c,h.jXE.REGISTER);!function(e){var t=C()().diff(e,"years");if(!(t<13)){var n;n=t>=13&&t<=17?"13-17":t>=18&&t<=22?"18-22":"23+";w.default.track(h.rMx.USER_AGE_SUBMITTED,{age_bucket:n})}}(c)}return Z.Z.post({url:h.ANM.REGISTER,body:{fingerprint:M.default.getFingerprint(),email:t,username:r,password:a,invite:s,consent:o,phone_token:n,date_of_birth:null==c?void 0:c.format("YYYY-MM-DD"),gift_code_sku_id:p,guild_template_code:i,captcha_key:m,promotional_email_opt_in:null==y?void 0:y.checked},trackedActionData:{event:l.a9.USER_REGISTER,properties:{invite_code:s,promotional_email_opt_in:null==y?void 0:y.checked,promotional_email_pre_checked:null==y?void 0:y.preChecked}}}).then((function(e){R.Z.dispatch({type:"REGISTER_SUCCESS",token:e.body.token})}),(function(e){var t=new P.Z(e);R.Z.dispatch({type:"REGISTER_FAILURE",error:t});null!=t.getFieldErrors("date_of_birth")&&L.wE();throw e}))}
var j=n(146530),F=n(487502),H=n(472499),V=n.n(H),z=n(380203),K=n.n(z);function W(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Y(e){var t=e.value,n=e.onChange,o=e.subText,i=e.muted,l=e.marginTopStyle;return r.createElement(F.Z,{className:null!=l?l:K().marginTop20,align:F.Z.Align.CENTER},r.createElement(j.Z,{value:t,type:j.Z.Types.INVERTED,onChange:function(e,t){return n(t)},className:V().checkbox},r.createElement(m.i_,{className:a()(W({},V().subText,!i))},o)))}var q=n(355184);function X(){var e=(0,N.MD)(),t=e.required,n=e.checked;return t?r.createElement(Y,{value:n,subText:v.Z.Messages.PROMOTIONAL_EMAIL_OPT_IN_CONSENT,onChange:N.ZJ,marginTopStyle:K().marginTop8,muted:!0}):null}var Q=n(361963),$=n(744),J=n(588641);function ee(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function te(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ee(a,r,o,i,l,"next",e)}function l(e){ee(a,r,o,i,l,"throw",e)}i(void 0)}))}}var ne=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}
if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function re(e){return oe.apply(this,arguments)}function oe(){return(oe=te((function(e){return ne(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,J.default.getSetting("USERNAME_PREFIX","")];case 1:return[2,t.sent()+e];case 2:t.sent();return[3,3];case 3:return[2,e]}}))}))).apply(this,arguments)}var ae=n(674500),ie=n(88468),le=n(46323),ce=n(891164),ue=n(606076),se=n(444450),fe=(0,T.B)({kind:"user",id:"2022-02_mweb_marketing_site_registration",label:"Require registration on mweb prior to app download",defaultConfig:{marketingRegExperimentEnabled:!1},treatments:[{id:1,label:"Show Sign Up button in landing CTA",config:{marketingRegExperimentEnabled:!0}},{id:2,label:"Show Sign Up button in top nav",config:{marketingRegExperimentEnabled:!0}},{id:3,
label:"Replace download button with single sign up button in landing CTA",config:{marketingRegExperimentEnabled:!0}}]});var pe,de,me=n(998591),Ee=n(370149),he=n(677523),ve=n(614503),_e=n(324954),ye=n(692410),ge=n(18700),be=n(685351),Oe=n(757987),Ie=n(962271),Ne=n(360240),Te=n(882699),Ae=n(869488),Se=n(882923),Ce=n(101577),Re=n(969376);!function(e){e.VIEWED="viewed";e.SUBMITTED="submitted";e.RESEND_CODE="resend_code";e.INPUT_ERROR="input_error";e.RESPONSE_ERROR="response_error";e.SUCCESS="success"}(pe||(pe={}));!function(e){e.IDENTITY="identity";e.ACCOUNT_INFORMATION="account_information";e.FULL="full";e.AGE_GATE="age_gate";e.CAPTCHA="captcha";e.INVITE="invite";e.SMS_VERIFY="sms_verify"}(de||(de={}));var Pe=n(32733),Le=n(714392),Me=n(487384),we=n.n(Me);function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}
function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Ue(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ke(){ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ke.apply(this,arguments)}function Ge(e){Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ge(e)}function Be(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e,t){je=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return je(e,t)}function Fe(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var He=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}var ze=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue
;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};c.ZP.initialize();var Ke=/\.$/,We=function(e){return Array.isArray(e)?e.map((function(e){return e.replace(Ke,"")})).join(". ").trim():e},Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&je(e,t)}(n,e);var t=Ve(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o;(o=t.call(this,e)).dateOfBirthRef=r.createRef()
;o._retryTimer=new u.V7;o.handleCaptchaVerify=function(e){return o.setState({captchaKey:e},(function(){o.handleRegister()}))};o.handleGotoLogin=function(e){var t=o.state.email,n=o.props,r=n.giftCode,a=n.guildTemplate,l=n.invite,c=n.location,u=n.onLoginStart,f=n.showMarketingSiteRegExperiment,p=n.redirectTo,d=n.transitionTo,m=n.isMobileWebInviteRegistration;if(f)(0,$.Z)("mobile_web_reg");else if(m)null==u||u(e);else{var E,v=null!=c?(0,i.parse)(c.search):{};if(null!=l)E=h.Z5c.INVITE_LOGIN(l.code);else if(null!=r)E=h.Z5c.GIFT_CODE_LOGIN(r.code);else if(null!=a)E=h.Z5c.GUILD_TEMPLATE_LOGIN(a.code);else if(null!=p){E=h.Z5c.LOGIN;v.redirect_to=p}else{E=h.Z5c.LOGIN;""!==t&&(v={email:t})}s.Z.loginReset();d(E,{search:(0,i.stringify)(v)});null==u||u(e);Te.S.dispatch(h.CkL.WAVE_EMPHASIZE)}};o.handleSubmit=function(e){null==e||e.preventDefault();var t=o.state.parsedDateOfBirth,n=o.props,r=n.invite;null!==n.consentRequired&&(null==r&&null==t||o.handleRegister())};o.handleBirthdayChange=function(e){
o.setState({parsedDateOfBirth:e})};o.renderMobileWebInterstitial=function(e,t){var n=o.props,a=n.transitionTo,i=n.redirectTo;return r.createElement(me.l,{invite:e,variant:"after-register",onContinueInBrowser:function(){var n,r,o;w.default.track(h.rMx.USER_CONTINUE_IN_BROWSER_CLICKED,{invite_code:null!=t?(0,le.jX)(t):null,guild_id:null==e||null===(n=e.guild)||void 0===n?void 0:n.id,channel_id:null==e||null===(r=e.channel)||void 0===r?void 0:r.id,inviter_id:null==e||null===(o=e.inviter)||void 0===o?void 0:o.id});a(null!=i?i:ge.Z.defaultRoute)},onDownloadApp:function(e){var t,n;return null===(n=(t=o.props).onClickDownloadApp)||void 0===n?void 0:n.call(t,e)}})};var a,l=null!=e.location?(0,i.parse)(e.location.search):{};o.state={email:null!==(a=l.email)&&void 0!==a?a:"",username:"",password:"",parsedDateOfBirth:null,captchaKey:null,consent:!e.consentRequired,consentRequiredProp:e.consentRequired,isRateLimited:!1,showMobileWebInterstitial:!1};return o}var o=n.prototype
;o.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t};o.componentDidMount=function(){this.redirectIfAuthenticated();A.trackExposure({});var e=this.props,t=e.giftCodeSKU,n=e.invite;w.default.track(h.rMx.REGISTER_VIEWED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ue(e,t,n[t])}))}return e}({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?(0,ae.Z)(t,!1,!1):{}),{flush:!0});null==this.props.consentRequired&&s.Z.getLocationMetadata();(0,_e.e)("register")};o.componentWillUnmount=function(){this._retryTimer.stop()};o.componentDidUpdate=function(e,t){
var n=this,r=this.props,o=r.apiErrors,a=r.authenticated,i=r.isUnderage,l=r.invite,c=r.onChangeStep,u=this.state.parsedDateOfBirth;if(e.apiErrors!==o||t.parsedDateOfBirth!==u)if(this.hasError("email")||this.hasError("phone"))null!=this.emailRef&&this.emailRef.focus();else if(this.hasError("username"))null!=this.usernameRef&&this.usernameRef.focus();else if(this.hasError("password"))null!=this.passwordRef&&this.passwordRef.focus();else if(null==this.state.parsedDateOfBirth)null!=this.dateOfBirthRef.current&&this.dateOfBirthRef.current.focus();else if(this.hasError("retry_after")&&"number"==typeof this.props.apiErrors.retry_after){this.setState({isRateLimited:!0});this._retryTimer.start(1e3*this.props.apiErrors.retry_after,(function(){n.setState({isRateLimited:!1})}))}if(a&&!e.authenticated){(0,he.c)(Le.M5.ORGANIC_REGISTERED);this.redirectIfAuthenticated()}var s=de.FULL
;i||this.hasError("date_of_birth")?s=de.AGE_GATE:this.hasError("captcha_key")?s=de.CAPTCHA:null==l||null==l.guild&&null==l.channel||(s=de.INVITE);c(s)};o.redirectIfAuthenticated=function(){var e=ce.$.getCurrentConfig({}).interstitial,t=this.props,n=t.authenticated,r=t.showMarketingSiteRegExperiment,o=t.transitionTo,a=t.redirectTo,i=t.onClickDownloadApp,l=t.isMobileWebInviteRegistration;n&&(r?(0,$.Z)("mobile_web_reg"):null!=i&&l&&"after-register"===e?this.setState({showMobileWebInterstitial:!0}):o(null!=a?a:ge.Z.defaultRoute))};o.handleRegister=function(){var e,t=this;return(e=function(){var e,n,r,o,a,i,l,c,u,s,f,p,d,m,E,v,_,y;return ze(this,(function(g){switch(g.label){case 0:e=t.state,n=e.email,r=e.username,o=e.password,a=e.captchaKey,i=e.consent,l=e.parsedDateOfBirth;c=t.props,u=c.invite,s=c.guildTemplate,f=c.giftCode,p=c.onRegister,d=c.isMobileWebInviteRegistration;m=null!=u?u.code:null;E=null!=f?f.skuId:null;v=N.MD.getState();return Pe.a?[4,re(r)]:[3,2];case 1:y=g.sent()
;return[3,3];case 2:y=r;g.label=3;case 3:_=y;Te.S.dispatch(h.CkL.WAVE_EMPHASIZE);g.label=4;case 4:g.trys.push([4,9,,10]);return d||null==u?[3,6]:[4,G({username:_,consent:i,invite:m,giftCodeSKUId:E,captchaKey:a})];case 5:g.sent();return[3,8];case 6:return[4,B({email:n,username:_,consent:i,password:o,invite:m,guildTemplateCode:null==s?void 0:s.code,giftCodeSKUId:E,captchaKey:a,birthday:l,promoEmailConsent:v.required?v:null})];case 7:g.sent();g.label=8;case 8:null==p||p();return[3,10];case 9:g.sent();return[3,10];case 10:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){De(a,r,o,i,l,"next",e)}function l(e){De(a,r,o,i,l,"throw",e)}i(void 0)}))})()};o.hasError=function(e){return null!=this.props.apiErrors[e]};o.renderConsentComponents=function(){var e=this,t=this.state.consent,n=this.props,o=n.consentRequired,a=n.registrationCopyExperimentConfig,i=a.enableNewCopy,l=a.hasProminentCopy,c=null,u=null;o?u=r.createElement(Y,{
value:t,onChange:function(t){return e.setState({consent:t})},subText:v.Z.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:h.EYA.TERMS,privacyURL:h.EYA.PRIVACY})}):c=r.createElement(m.i_,{isProminent:!!l,className:K().marginTop20},i?v.Z.Messages.TERMS_PRIVACY_ON_REGISTER.format({buttonText:v.Z.Messages.CONTINUE,termsURL:h.EYA.TERMS,privacyURL:h.EYA.PRIVACY}):v.Z.Messages.TERMS_PRIVACY.format({termsURL:h.EYA.TERMS,privacyURL:h.EYA.PRIVACY}));return{subText:c,consentText:u}};o.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return r.createElement(m.ZP,{className:t},r.createElement(Ce.R,null),r.createElement(m.gO,{className:K().marginTop40},r.createElement(Ie.Z,null,v.Z.Messages.FORM_LABEL_USERNAME),r.createElement(Oe.ZP,{text:v.Z.Messages.AUTH_USERNAME_TOOLTIP,position:Oe.ZP.Positions.RIGHT,color:Oe.ZP.Colors.BRAND},(function(t){var n=t.onMouseEnter,o=t.onMouseLeave;return r.createElement(m.II,{autoFocus:!0,className:K().marginBottom8,name:"username",
value:e.state.username,placeholder:v.Z.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},onMouseEnter:n,onMouseLeave:o})})),r.createElement(m.zx,{className:K().marginTop20,disabled:!0},v.Z.Messages.CONTINUE),Pe.a?null:r.createElement(m.zx,{look:m.zx.Looks.LINK,color:m.zx.Colors.LINK,disabled:!0,className:K().marginTop8},v.Z.Messages.ALREADY_HAVE_ACCOUNT),r.createElement(m.i_,{disabled:!0,className:K().marginTop20},v.Z.Messages.TERMS_PRIVACY.format({termsURL:h.EYA.TERMS,privacyURL:h.EYA.PRIVACY}))))};o.renderInviteHeader=function(){var e=this.props.invite;return null!=(null==e?void 0:e.stage_instance)&&null!=e.guild?r.createElement(Q.Z,{stageInstance:e.stage_instance,guild:e.guild}):null!=(null==e?void 0:e.guild_scheduled_event)?r.createElement(q.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):r.createElement(Ce.Z,{invite:e})};o.renderInviteButton=function(){
var e=this,t=this.props,n=t.invite,o=t.registering,a=t.consentRequired,i=this.state.consent,l=m.zx.Colors.BRAND,c=v.Z.Messages.CONTINUE;if(null!=(null==n?void 0:n.stage_instance)){l=m.zx.Colors.GREEN;c=v.Z.Messages.INSTANT_INVITE_ACCEPT_STAGE}return r.createElement(Oe.ZP,{text:!i&&a?v.Z.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},(function(t){return r.createElement("div",ke({className:K().marginTop20},t),r.createElement(m.zx,{type:"submit",submitting:o,disabled:!e.hasConsent(),color:l},c))}))};o.renderInvite=function(){var e=this,t=this.props,n=t.invite,o=t.authBoxClassName,a=t.apiErrors.username,i=this.renderConsentComponents(),l=i.subText,c=i.consentText,u=null!=(null==n?void 0:n.stage_instance)||null!=(null==n?void 0:n.guild_scheduled_event);return r.createElement("div",null,r.createElement(m.ZP,{onSubmit:this.handleSubmit,tag:"form",className:o},this.renderInviteHeader(),u?r.createElement("div",{className:we().divider}):null,r.createElement(m.gO,{className:u?void 0:K().marginTop40
},r.createElement(Ie.Z,{error:We(a)},v.Z.Messages.FORM_LABEL_USERNAME),r.createElement(Oe.ZP,{text:v.Z.Messages.AUTH_USERNAME_TOOLTIP,position:Oe.ZP.Positions.RIGHT,color:Oe.ZP.Colors.BRAND},(function(t){var n=t.onMouseEnter,o=t.onMouseLeave;return r.createElement(m.II,{autoFocus:!0,className:K().marginBottom8,name:"username",value:e.state.username,placeholder:v.Z.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=a?"":null,onMouseEnter:n,onMouseLeave:o})})),c,this.renderInviteButton(),Pe.a?null:r.createElement(m.zx,{look:m.zx.Looks.LINK,color:m.zx.Colors.LINK,onClick:this.handleGotoLogin,className:K().marginTop8},v.Z.Messages.ALREADY_HAVE_ACCOUNT),l)),null!=n&&u?r.createElement(m.ZP,{className:K().marginTop20},r.createElement(Q.y,{guild:n.guild,onlineCount:n.approximate_presence_count})):null)};o.renderErrorMessage=function(){var e=this.props.apiErrors.message;return"string"!=typeof e?null:r.createElement(m.i_,{
className:a()(K().marginTop20,we().errorMessage)},e)};o.renderFull=function(e,t){var n=this,o=this.state,i=o.email,l=o.username,c=o.password,u=o.consent,s=o.parsedDateOfBirth,f=this.props,p=f.registering,d=f.consentRequired,E=f.isMobileWebInviteRegistration,h=f.authBoxClassName,_=f.apiErrors,y=void 0===_?{}:_,g=y.email,b=y.username,I=y.password,N=y.date_of_birth,T=f.hasLoggedInAccounts,A=f.showMarketingSiteRegExperiment,S=f.registrationCopyExperimentConfig.hasCopyAboveButton,C=this.renderConsentComponents(),R=C.subText,P=C.consentText,L=this.renderErrorMessage(),M=r.createElement(Oe.ZP,{text:!u&&d?v.Z.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},(function(e){return r.createElement("div",ke({className:K().marginTop20},e),r.createElement(m.zx,{type:"submit",submitting:p,disabled:!n.hasConsent()||n.state.isRateLimited},v.Z.Messages.CONTINUE))})),w=null!=e?e():r.createElement(m.Dx,null,v.Z.Messages.REGISTER_TITLE),Z=r.createElement(m.gO,{className:K().marginTop20},r.createElement(m.II,{
autoFocus:!0,className:K().marginBottom20,label:v.Z.Messages.FORM_LABEL_EMAIL,name:"email",value:i,onChange:function(e){return n.setState({email:e})},error:We(g),type:"email",setRef:function(e){n.emailRef=e}}),r.createElement(m.II,{label:v.Z.Messages.FORM_LABEL_USERNAME,className:K().marginBottom20,name:"username",value:l,onChange:function(e){return n.setState({username:e})},error:We(b),setRef:function(e){n.usernameRef=e}}),r.createElement(m.II,{label:v.Z.Messages.FORM_LABEL_PASSWORD,name:"password",value:c,onChange:function(e){return n.setState({password:e})},error:We(I),type:"password",setRef:function(e){n.passwordRef=e}}),r.createElement(O.Z,{label:v.Z.Messages.AGE_GATE_YOUR_BIRTHDAY,wrapperClassName:K().marginTop20,name:"date_of_birth",onChange:this.handleBirthdayChange,ref:this.dateOfBirthRef,error:We(N),value:s}),P,S&&R,r.createElement(X,null),M,L,Pe.a?null:r.createElement(m.zx,{look:E||A?m.zx.Looks.FILLED:m.zx.Looks.LINK,color:E||A?m.zx.Colors.PRIMARY:m.zx.Colors.LINK,
onClick:this.handleGotoLogin,className:K().marginTop8},A?v.Z.Messages.LOG_IN_WITH_APP:v.Z.Messages.ALREADY_HAVE_ACCOUNT),!S&&R);return t?r.createElement(Re.Z,{onSubmit:this.handleSubmit,tag:"form",className:a()(h,we().horizontalAuthBox)},(function(){return[w,r.createElement("div",{className:we().flex},r.createElement(m.Dx,{className:we().createAccountTemplateHeader},v.Z.Messages.REGISTER_TITLE),Z)]})):r.createElement(m.ZP,{onSubmit:this.handleSubmit,tag:"form",className:h},!T||E||A?null:r.createElement(m.zx,{onClick:this.handleGotoLogin,look:m.zx.Looks.LINK,color:m.zx.Colors.PRIMARY,className:we().goBackButton},r.createElement("div",{className:we().content},r.createElement(Ne.Z,{width:16,height:16,className:we().caret}),r.createElement(be.x,{variant:"text-md/normal"},v.Z.Messages.AGE_GATE_GO_BACK))),w,Z)};o.render=function(){var e=this.props,t=e.authenticated,n=e.authBoxClassName,o=e.isUnderage,a=e.apiErrors,i=a.captcha_service,l=a.captcha_sitekey,c=e.isMobileWebInviteRegistration
;if(o||this.hasError("date_of_birth"))return r.createElement(b,null);if(this.hasError("captcha_key")&&"string"==typeof i)return r.createElement(Ae.Z,{authBoxClassName:n,onVerify:this.handleCaptchaVerify,title:v.Z.Messages.REGISTER_TITLE,captchaService:i,sitekey:l});var u=this.state.showMobileWebInterstitial,s=this.props,f=s.invite,p=s.inviteKey,d=s.giftCode,m=s.guildTemplate,E=null!=f&&null==f.guild&&null==f.channel&&null!=f.inviter;return c&&t&&null!=f&&u?this.renderMobileWebInterstitial(f,p):null==f||E||c?null!=m?this.renderFull((function(){return r.createElement(ie.Z,{guildTemplate:m})}),!0):null!=d?this.renderFull((function(){return r.createElement(Se.Z,{giftCode:d})})):null!=f&&E&&f.state===h.r2o.RESOLVED&&!c?this.renderFull((function(){return r.createElement(Ce.Z,{invite:f,isRegister:!0})})):this.renderFull():f.state===h.r2o.RESOLVING?this.renderInviteResolving():this.renderInvite()};n.getDerivedStateFromProps=function(e,t){var n=e.consentRequired
;return null==t.consentRequiredProp&&null!=n?{consent:!n,consentRequiredProp:n}:{consentRequiredProp:n}};!function(e,t,n){t&&xe(e.prototype,t);n&&xe(e,n)}(n,[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.guildTemplate,r=e.invite;if(null!=t)return"gift";if(null!=n)return"guild_template";if(null!=r){if(null!=r.guild)return"guild_invite";if(null!=r.channel)return"dm_invite";if(null!=r.inviter)return"friend_invite"}return null}}]);return n}(r.PureComponent);Ye.defaultProps={giftCodeResolved:!1,transitionTo:function(e){return n.g.location.assign(e)}};function qe(e){var t,n,o=(0,c.cj)([ye.Z,M.default,f.Z,ve.Z,Ee.Z],(function(){return{consentRequired:ye.Z.getAuthenticationConsentRequired(),registering:M.default.getRegisterStatus()===h.$ib.REGISTERING,apiErrors:M.default.getErrors(),authenticated:M.default.isAuthenticated(),isUnderage:f.Z.isUnderageAnonymous(),country:ve.Z.getCountryCode(),hasLoggedInAccounts:Ee.Z.getHasLoggedInAccounts()}
})),a=Fe(r.useState(de.FULL),2),i=a[0],u=a[1];(0,I.Z)({type:l.nv.VIEW,name:l.zs.USER_REGISTRATION,properties:{impression_group:l.AG.USER_REGISTRATION_FLOW,step:i}},{},[i]);return r.createElement(Ye,ke({onChangeStep:function(e){return u(e)},showMarketingSiteRegExperiment:(t=fe.getCurrentConfig({}).marketingRegExperimentEnabled,n=null!=se.Z.get("mweb_from_marketing"),ue.tq&&t&&n),registrationCopyExperimentConfig:A.getCurrentConfig({})},e,o))}},688087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,u:()=>f});var r=n(667294),o=n(180445),a=n(766936),i=n(366236);function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e,t,n,r){return e.getAvatarURL(r,t,n)}const s=r.memo((function(e){var t=e.user,n=e.size,s=void 0===n?a.ZP.Sizes.SIZE_32:n,f=e.animate,p=void 0!==f&&f,d=e["aria-hidden"],m=void 0!==d&&d,E=c(e,["user","size","animate","aria-hidden"]),h=r.useContext(o.Z);return r.createElement(a.ZP,l({src:u(t,i.H8[s].size,p,h),size:s,"aria-label":m?void 0:t.username,"aria-hidden":m},E))}));var f=a.ZP.Sizes},678081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(667294),o=n(193197),a=n(891153),i=n(337823),l=n(742269);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)
}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?c(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function E(e){var t=["openFile"];e.multiple&&t.push("multiSelections");var n=e.filters;a.Z.fileManager.openFiles({properties:t,filters:n}).then((function(t){var n=t.map((function(e){
return i.qF(e)}));null!=n&&e.onChange({stopPropagation:function(){return null},preventDefault:function(){return null},currentTarget:{files:n}})}))}const h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=m(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o;(o=t.call(this,e))._ref=r.createRef();o.setRef=o.setRef.bind(c(o));return o}var a=n.prototype;a.activateUploadDialogue=function(){if(null!=this._ref)return this._ref.activateUploadDialogue()};a.setRef=function(e){this._ref=e};a.render=function(){return r.createElement(o.Z,u({ref:this.setRef,handleNativeClick:E,embedded:(0,l.nI)()},this.props))};return n}(r.Component)},210161:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u})
;var r=n(667294),o=n(647446),a=n(567895),i=n(959797),l=n(407785),c=n.n(l);function u(e){var t=e.icon,n=e.onChange;return r.createElement(o.tE,{within:!0},r.createElement("div",{className:c().iconContainer},null!=t?r.createElement("img",{alt:"Your icon",className:c().filledIcon,src:t}):r.createElement("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M54.8694 2.85498C53.8065 2.4291 52.721 2.04752 51.6153 1.71253L51.3254 2.66957L51.0354 3.62661C51.9783 3.91227 52.9057 4.23362 53.8161 4.58911C54.1311 3.98753 54.4832 3.40847 54.8694 2.85498ZM75.4109 26.1839C76.0125 25.8689 76.5915 25.5168 77.145 25.1306C77.5709 26.1935 77.9525 27.279 78.2875 28.3847L77.3304 28.6746L76.3734 28.9646C76.0877 28.0217 75.7664 27.0943 75.4109 26.1839ZM78.8148 43.8253L79.8102 43.9222C79.9357 42.6318 80 41.3234 80 40C80 38.6766 79.9357 37.3682 79.8102 36.0778L78.8148 36.1747L77.8195 36.2715C77.9389 37.4977 78 38.7414 78 40C78 41.2586 77.9389 42.5023 77.8195 43.7285L78.8148 43.8253ZM43.8253 1.18515L43.9222 0.189853C42.6318 0.0642679 41.3234 0 40 0C38.6766 0 37.3682 0.064268 36.0778 0.189853L36.1747 1.18515L36.2715 2.18045C37.4977 2.06112 38.7414 2 40 2C41.2586 2 42.5023 2.06112 43.7285 2.18045L43.8253 1.18515ZM28.6746 2.66957L28.3847 1.71253C25.8549 2.47897 23.4312 3.48925 21.1408 4.71604L21.6129 5.59756L22.0851 6.47907C24.2606 5.3138 26.5624 4.35439 28.9646 3.62661L28.6746 2.66957ZM15.2587 9.85105L14.6239 9.0784C12.5996 10.7416 10.7416 12.5996 9.0784 14.6239L9.85105 15.2587L10.6237 15.8935C12.2042 13.9699 13.9699 12.2042 15.8935 10.6237L15.2587 9.85105ZM5.59756 21.6129L4.71604 21.1408C3.48925 23.4312 2.47897 25.8549 1.71253 28.3847L2.66957 28.6746L3.62661 28.9646C4.35439 26.5624 5.3138 24.2607 6.47907 22.0851L5.59756 21.6129ZM0 40C0 38.6766 0.0642679 37.3682 0.189853 36.0778L1.18515 36.1747L2.18045 36.2715C2.06112 37.4977 2 38.7414 2 40C2 41.2586 2.06112 42.5023 2.18045 43.7285L1.18515 43.8253L0.189853 43.9222C0.064268 42.6318 0 41.3234 0 40ZM2.66957 51.3254L1.71253 51.6153C2.47897 54.1451 3.48926 56.5688 4.71604 58.8592L5.59756 58.3871L6.47907 57.9149C5.3138 55.7394 4.35439 53.4376 3.62661 51.0354L2.66957 51.3254ZM9.85105 64.7413L9.0784 65.3761C10.7416 67.4004 12.5996 69.2584 14.6239 70.9216L15.2587 70.1489L15.8935 69.3763C13.9699 67.7958 12.2042 66.0301 10.6237 64.1065L9.85105 64.7413ZM21.6129 74.4024L21.1408 75.284C23.4312 76.5107 25.8549 77.521 28.3847 78.2875L28.6746 77.3304L28.9646 76.3734C26.5624 75.6456 24.2607 74.6862 22.0851 73.5209L21.6129 74.4024ZM36.1747 78.8148L36.0778 79.8102C37.3682 79.9357 38.6766 80 40 80C41.3234 80 42.6318 79.9357 43.9222 79.8102L43.8253 78.8148L43.7285 77.8195C42.5023 77.9389 41.2586 78 40 78C38.7414 78 37.4977 77.9389 36.2715 77.8195L36.1747 78.8148ZM51.3254 77.3304L51.6153 78.2875C54.1451 77.521 56.5688 76.5107 58.8592 75.284L58.3871 74.4024L57.9149 73.5209C55.7394 74.6862 53.4376 75.6456 51.0354 76.3734L51.3254 77.3304ZM64.7413 70.1489L65.3761 70.9216C67.4004 69.2584 69.2584 67.4004 70.9216 65.3761L70.1489 64.7413L69.3763 64.1065C67.7958 66.0301 66.0301 67.7958 64.1065 69.3763L64.7413 70.1489ZM74.4024 58.3871L75.284 58.8592C76.5107 56.5688 77.521 54.1451 78.2875 51.6153L77.3304 51.3254L76.3734 51.0354C75.6456 53.4375 74.6862 55.7393 73.5209 57.9149L74.4024 58.3871Z",
fill:"currentColor"}),r.createElement("circle",{cx:"68",cy:"12",r:"12",fill:"#5865f2"}),r.createElement("path",{d:"M73.3332 11.4075H68.5924V6.66675H67.4072V11.4075H62.6665V12.5927H67.4072V17.3334H68.5924V12.5927H73.3332V11.4075Z",fill:"white"}),r.createElement("path",{d:"M40 29C37.794 29 36 30.794 36 33C36 35.207 37.794 37 40 37C42.206 37 44 35.207 44 33C44 30.795 42.206 29 40 29Z",fill:"currentColor"}),r.createElement("path",{d:"M48 26.001H46.07C45.402 26.001 44.777 25.667 44.406 25.111L43.594 23.891C43.223 23.335 42.598 23 41.93 23H38.07C37.402 23 36.777 23.335 36.406 23.89L35.594 25.11C35.223 25.667 34.598 26 33.93 26H32C30.895 26 30 26.896 30 28V39C30 40.104 30.895 41 32 41H48C49.104 41 50 40.104 50 39V28C50 26.897 49.104 26.001 48 26.001ZM40 39C36.691 39 34 36.309 34 33C34 29.692 36.691 27 40 27C43.309 27 46 29.692 46 33C46 36.31 43.309 39 40 39Z",fill:"currentColor"}),r.createElement("path",{
d:"M24.6097 52.712V47.72H22.5457V52.736C22.5457 53.792 22.0777 54.404 21.1417 54.404C20.2177 54.404 19.7377 53.78 19.7377 52.712V47.72H17.6737V52.724C17.6737 55.04 19.0897 56.132 21.1177 56.132C23.1217 56.132 24.6097 55.016 24.6097 52.712ZM26.0314 56H28.0834V53.252H28.6114C30.6154 53.252 31.9474 52.292 31.9474 50.42C31.9474 48.62 30.7114 47.72 28.6954 47.72H26.0314V56ZM29.9554 50.456C29.9554 51.308 29.4514 51.704 28.5394 51.704H28.0594V49.268H28.5754C29.4874 49.268 29.9554 49.664 29.9554 50.456ZM37.8292 56L37.5532 54.224H35.0092V47.72H32.9572V56H37.8292ZM45.9558 51.848C45.9558 49.292 44.4078 47.564 42.0078 47.564C39.6078 47.564 38.0478 49.304 38.0478 51.872C38.0478 54.428 39.6078 56.156 41.9838 56.156C44.3958 56.156 45.9558 54.404 45.9558 51.848ZM43.8918 51.86C43.8918 53.504 43.1958 54.548 41.9958 54.548C40.8078 54.548 40.0998 53.504 40.0998 51.86C40.0998 50.216 40.8078 49.172 41.9958 49.172C43.1958 49.172 43.8918 50.216 43.8918 51.86ZM52.2916 56.084L54.3676 55.748L51.4876 47.684H49.2316L46.2556 56H48.2716L48.8236 54.284H51.6916L52.2916 56.084ZM50.2516 49.796L51.1756 52.676H49.3156L50.2516 49.796ZM62.5174 51.848C62.5174 49.388 61.0174 47.72 58.1374 47.72H55.2814V56H58.1854C60.9814 56 62.5174 54.308 62.5174 51.848ZM60.4534 51.86C60.4534 53.636 59.5414 54.404 58.0774 54.404H57.3334V49.316H58.0774C59.4814 49.316 60.4534 50.12 60.4534 51.86Z",
fill:"currentColor"})),r.createElement(a.ZP,{onChange:n,multiple:!1,tabIndex:0,"aria-label":i.Z.Messages.GUILD_CREATE_UPLOAD_ICON_BUTTON_TEXT})))}},290671:(e,t,n)=>{"use strict";n.d(t,{bd:()=>c,J6:()=>u,pA:()=>s});var r,o,a=n(334276),i=n.n(a);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.IMAGE=0]="IMAGE";e[e.DOCUMENT=1]="DOCUMENT";e[e.CODE=2]="CODE"}(r||(r={}));var c=(l(o={},r.IMAGE,i().image),l(o,r.DOCUMENT,i().document),l(o,r.CODE,i().code),o),u=[r.DOCUMENT,r.IMAGE,r.CODE],s=[r.IMAGE,r.IMAGE,r.IMAGE]},509618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(667294),o=n(294184),a=n.n(o),i=n(290671),l=n(334276),c=n.n(l);const u=function(e){var t=e.icons,n=e.className;return r.createElement("div",{className:a()(c().icons,n)},r.createElement("div",{className:c().wrapOne},r.createElement("div",{className:a()(c().icon,c().one,i.bd[t[0]])})),r.createElement("div",{className:c().wrapThree
},r.createElement("div",{className:a()(c().icon,c().three,i.bd[t[2]])})),r.createElement("div",{className:c().wrapTwo},r.createElement("div",{className:a()(c().icon,c().two,i.bd[t[1]])})))}},212271:(e,t,n)=>{"use strict";n.d(t,{Am:()=>P,xT:()=>L});var r=n(667294),o=n(294184),a=n.n(o),i=n(791462),l=n(509618),c=n(76710),u=n(859023),s=n(685351),f=n(371452),p=n(737369),d=n(237886),m=n(298716),E=n(461061),h=n(290671),v=n(959797),_=n(505021),y=n.n(_);function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function O(e){var t=e.onClose,n=b(e,["onClose"]),o=(0,i.e7)([u.default],(function(){return u.default.getCurrentUser()})),_=r.createElement(l.Z,{icons:h.J6}),O=(0,c.J)()?v.Z.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_2_INCREASE:v.Z.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_2.format({premiumMaxSize:v.Z.Messages.FILE_UPLOAD_LIMIT_PREMIUM_TIER_2}),I=r.useMemo((function(){var e=p.ZP.getUserMaxFileSize(o),t=(0,f.BU)(e/1024,{useKibibytes:!0}),n=v.Z.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_1.format({maxSize:t});switch(null==o?void 0:o.premiumType){case m.p9.TIER_0:n=v.Z.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_1_PREMIUM_TIER_0.format({maxSize:t});break;case m.p9.TIER_1:n=v.Z.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_1_PREMIUM_TIER_1.format({maxSize:t})}return n}),[o]),N=r.createElement("div",{className:y().body},r.createElement("span",null,I),r.createElement(s.x,{
variant:"text-md/medium"},O));return r.createElement(d.Z,g({artElement:_,artContainerClassName:a()(y().artContainer),enableArtBoxShadow:!1,type:m.cd.UPLOAD_ERROR_UPSELL,title:v.Z.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,body:N,context:v.Z.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_1.format({maxSize:v.Z.Messages.FILE_UPLOAD_LIMIT_STANDARD}),glowUp:O,analyticsLocation:{section:E.jXE.FILE_UPLOAD_POPOUT},onClose:t},n))}var I=n(272729),N=n(67416),T=n(897576),A=n(334276),S=n.n(A);function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function R(e){var t=e.title,n=e.help,o=e.showPremiumUpsell,i=e.transitionState,c=e.icons,u=e.onClose,s=(0,I.Dt)(),f=null!=c?c:h.J6;return o?r.createElement(O,{transitionState:i,onClose:u}):r.createElement(N.Y0,{size:N.Cg.DYNAMIC,"aria-labelledby":s,transitionState:i},r.createElement("div",{
className:a()(S().uploadDropModal,S().error)},r.createElement("div",{className:S().inner},r.createElement(l.Z,{icons:f}),r.createElement("div",{id:s,className:S().title},t),r.createElement("div",{className:S().instructions},n))))}var P="UPLOAD_ERROR_MODAL_KEY";function L(e){(0,T.h7)((function(t){return r.createElement(R,C({},t,e))}),{modalKey:P})}},617707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(780377),o=n(461061);function a(e){return null==e||null==e.type||e.type!==o.IIU.PLAYING?null:(0,r.Z)(e)?o.M7m.XBOX:null!=e.platform?e.platform:o.M7m.DESKTOP}},780377:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(488839),o=n(461061);function a(e){return null!=e&&(e.application_id===r.Ev||e.platform===o.M7m.XBOX)}},683801:(e,t,n)=>{"use strict";n.d(t,{Av:()=>l,wE:()=>c,hp:()=>u});var r=n(675860),o=n(173436),a=n(643830),i=n(461061);function l(e,t){(0,a.Z)(e,t);return r.Z.patch({url:i.ANM.ME,body:{date_of_birth:e.format("YYYY-MM-DD")},oldFormErrors:!0}).then((function(e){var t=e.body
;o.Z.dispatch({type:"CURRENT_USER_UPDATE",user:t})}))}function c(){o.Z.dispatch({type:"AGE_GATE_PREVENT_UNDERAGE_REGISTRATION"})}function u(){o.Z.dispatch({type:"AGE_GATE_LOGOUT_UNDERAGE_NEW_USER"})}},348855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(676489),o=n(791462),a=n(173436),i=n(742269),l=n(442068);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function s(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var m=!1,E=null,h="underage";var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=d(n);function n(){c(this,n);return t.apply(this,arguments)}var o=n.prototype;o.isUnderageAnonymous=function(){if(!i.FB){return null!=r.parse(document.cookie).underage}return null!=E&&E+l.k0>Date.now()};o.__getLocalVars=function(){return{isUnderageAnonymous:m,failedRegisterAtTimestamp:E,UNDERAGE_SESSION_COOKIE:h}};return n
}(o.ZP.Store);v.displayName="AgeGateStore";const _=new v(a.Z,{AGE_GATE_PREVENT_UNDERAGE_REGISTRATION:function(){m=!0;E=Date.now();document.cookie="".concat(h,"=1;path=/")},LOGIN_SUCCESS:function(){m=!1;E=null;document.cookie="".concat(h,"=1;path=/;max-age=0")}})},65440:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(667294),o=n(294184),a=n.n(o),i=n(730381),l=n.n(i),c=n(601465),u=n(685351),s=n(562181),f=n(959797),p=n(108083),d=n.n(p);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=l()().localeData().months(),v=Array.from(Array(31).keys()).map((function(e){return{value:e+1,label:"".concat(e+1)}})),_=Array.from(Array(12).keys()).map((function(e){return{value:e+1,label:h[e]}}));var y=/[a-zA-Z0-9]/;function g(e){var t=e.options,n=e.selectOption,o=e.children,a=E(r.useState(""),2),i=a[0],l=a[1];r.useEffect((function(){if(""!==i){var e=setTimeout((function(){return l("")}),1e3);return function(){return clearTimeout(e)}}}),[i,l]);var c=r.useCallback((function(e){if(y.test(e.key)){var r="".concat(i).concat(e.key.toLowerCase()),o=t.find((function(e){
return e.label.toLowerCase().startsWith(r)}));null!=o&&n(o.value);l(r)}}),[n,l,i,t]);return r.createElement("div",{onKeyDown:c},o)}function b(){var e=l()().localeData().longDateFormat("L"),t=e.indexOf("D"),n=e.indexOf("M"),r=e.indexOf("Y");if(-1===t||-1===n||-1===r){t=0;n=1;r=2}return[{index:t,type:"day"},{index:n,type:"month"},{index:r,type:"year"}].sort((function(e,t){return e.index<t.index?-1:1}))}const O=r.forwardRef((function(e,t){var n=function(e){switch(k[e].type){case"day":B.push({key:"day",input:r.createElement(g,{options:v,selectOption:N},r.createElement(c.Z,{ref:D,className:d().inputDay,"aria-label":f.Z.Messages.AGE_GATE_DOB_DAY,menuPlacement:c.Z.MenuPlacements.TOP,placeholder:r.createElement("span",{"aria-hidden":!0},f.Z.Messages.AGE_GATE_DOB_DAY),options:v,value:I,onChange:function(t){var n=t.value;N(n);Z(e+1)},maxMenuHeight:215}))});break;case"month":B.push({key:"month",input:r.createElement(g,{options:_,selectOption:A},r.createElement(c.Z,{ref:x,className:d().inputMonth,
"aria-label":f.Z.Messages.AGE_GATE_DOB_MONTH,menuPlacement:c.Z.MenuPlacements.TOP,placeholder:r.createElement("span",{"aria-hidden":!0},f.Z.Messages.AGE_GATE_DOB_MONTH),options:_,value:T,onChange:function(t){var n=t.value;A(n);Z(e+1)},maxMenuHeight:215}))});break;case"year":B.push({key:"year",input:r.createElement(g,{options:L,selectOption:C},r.createElement(c.Z,{ref:U,className:d().inputYear,"aria-label":f.Z.Messages.AGE_GATE_DOB_YEAR,menuPlacement:c.Z.MenuPlacements.TOP,placeholder:r.createElement("span",{"aria-hidden":!0},f.Z.Messages.AGE_GATE_DOB_YEAR),options:L,value:S,onChange:function(t){var n=t.value;C(n);Z(e+1)},maxMenuHeight:215}))})}},o=e.value,i=e.wrapperClassName,p=e.onChange,m=e.onPopulated,h=e.error,y=e.autoFocus,O=function(e){var t=null,n=null,o=null;if(null!=e){t=e.date();n=e.month()+1;o=e.year()}var a=E(r.useState(t),2),i=a[0],l=a[1],c=E(r.useState(n),2),u=c[0],s=c[1],f=E(r.useState(o),2);return{day:i,setDay:l,month:u,setMonth:s,year:f[0],setYear:f[1]}
}(o),I=O.day,N=O.setDay,T=O.month,A=O.setMonth,S=O.year,C=O.setYear,R=r.useMemo((function(){return null!=I&&null!=T&&null!=S?l()("".concat(I,"/").concat(T,"/").concat(S),"DD/MM/YYYY"):null}),[I,T,S]);r.useEffect((function(){p((null==R?void 0:R.isValid())?R:null)}),[R,p]);var P=h;null==R||R.isValid()||(P=f.Z.Messages.AGE_GATE_INVALID_BIRTHDAY);var L=function(){var e=(new Date).getFullYear(),t=r.useRef(Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,label:"".concat(e-t-3)}})));r.useEffect((function(){t.current=Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,label:"".concat(e-t-3)}}))}),[e]);return t.current}(),M=E(r.useState(y?0:-1),2),w=M[0],Z=M[1],D=r.useRef(null),x=r.useRef(null),U=r.useRef(null),k=r.useMemo(b,[]),G=r.useCallback((function(){var e;switch(null===(e=k[w])||void 0===e?void 0:e.type){case"day":var t;null===(t=D.current)||void 0===t||t.focus();break;case"month":var n;null===(n=x.current)||void 0===n||n.focus();break;case"year":var r
;null===(r=U.current)||void 0===r||r.focus()}}),[w,D,x,U,k]);r.useEffect((function(){setTimeout(G,500)}),[]);r.useEffect((function(){w>=k.length?null==m||m():G()}),[w,G]);for(var B=[],j=0;j<3;j++)n(j);return r.createElement("fieldset",{className:a()(d().container,i)},r.createElement(s.vw,{tag:s.vw.Tags.LEGEND},f.Z.Messages.AGE_GATE_DATE_OF_BIRTH),r.createElement("div",{className:d().inputs},B.map((function(e,t){var n=e.key,o=e.input;return r.createElement("div",{key:n,tabIndex:t+1,className:d()[n]},o)}))),r.createElement(u.x,{className:d().errors,variant:"text-sm/normal"},P))}))},584268:(e,t,n)=>{"use strict";n.d(t,{F:()=>r,L:()=>l});var r,o=n(8551),a=n(461061),i=n(35236);!function(e){e.ROLE_SUBSCRIPTION="role_subscription";e.ROLE_SUBSCRIPTION_SETTING="role_subscription_setting"}(r||(r={}));function l(e){var t=decodeURIComponent(e),n=(0,o.Qj)(t)
;return null!=n&&n.channelId===i.oC.ROLE_SUBSCRIPTIONS?r.ROLE_SUBSCRIPTION:t===a.Z5c.SETTINGS(a.oAB.SUBSCRIPTIONS,"role-subscriptions")?r.ROLE_SUBSCRIPTION_SETTING:void 0}},402232:(e,t,n)=>{"use strict";n.d(t,{M:()=>c,Z:()=>u});var r=n(667294),o=n(505977),a=n(705654),i=n(461061),l=n(32733);function c(){var e=location.pathname+location.search;return l.a?i.Z5c.REGISTER:(0,a.U)(e,!1)}const u=function(){return r.createElement(o.l_,{to:c()})}},643830:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(730381),o=n.n(r),a=n(932847),i=n(461061);function l(e,t){a.default.track(i.rMx.AGE_GATE_SUBMITTED,{dob:o()().diff(e,"years")<18?e.format("YYYY-MM-DD"):null,dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:t}})}},355184:(e,t,n)=>{"use strict";n.d(t,{r:()=>f});var r=n(667294),o=n(394803),a=n(613258),i=n(666872),l=n(685351),c=n(230531),u=n.n(c);function s(e){var t=e.channel,n=(0,o.Th)(t.type);return r.createElement("div",{className:u().channelInfoContainer
},null!=n?r.createElement(n,{width:20,height:20}):null,r.createElement(l.x,{className:u().channelInfoText,color:"none",variant:"text-sm/semibold"},t.name))}function f(e){var t=e.channel,n=e.guildScheduledEvent;return r.createElement("div",{className:u().container},r.createElement(i.HZ,{className:u().statusContainer,userCount:n.user_count,startTime:n.scheduled_start_time,isActive:(0,a.xt)(n),isEnded:(0,a.Z2)(n),guildId:n.guild_id,eventType:n.entity_type}),r.createElement(i.Rf,{name:n.name,description:n.description,guildId:n.guild_id}),null!=t&&n.channel_id===t.id?r.createElement(s,{channel:t}):null)}},744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(131795),o=n.n(r),a=n(951660),i=n(531286),l=n(865622),c=n(478695),u=n(655695),s=n(631134),f=n(18700),p=n(932847),d=n(618468),m=n(461061);function E(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){E(a,r,o,i,l,"next",e)}function l(e){E(a,r,o,i,l,"throw",e)}i(void 0)}))}}var v=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}
if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function _(e){return y.apply(this,arguments)}function y(){return(y=h((function(e){var t,n,r,l,u;return v(this,(function(f){switch(f.label){case 0:if("Android"!==(n=null===(t=o().os)||void 0===t?void 0:t.family)&&"iOS"!==n)return[3,5];l=null!==(r=s.default.getFingerprint())&&void 0!==r?r:s.default.getId();u=(0,i.WS)();if(null!=l||!s.default.isAuthenticated())return[3,4];f.label=1;case 1:f.trys.push([1,3,,4]);return[4,(0,c.k)()];case 2:f.sent();l=s.default.getId();return[3,4];case 3:f.sent();return[3,4];case 4:return[2,(0,i.ZP)((0,a.Gk)(),{utmSource:e,fingerprint:l,attemptId:u})];case 5:return[2,"discord://"]}}))}))).apply(this,arguments)}function g(e){return b.apply(this,arguments)}function b(){return(b=h((function(e){var t,n;return v(this,(function(r){switch(r.label){case 0:
return[4,_(e)];case 1:t=r.sent();null!=(n=(0,i.zS)(t))&&p.default.track(m.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,l.K)(n.fingerprint),attempt_id:n.attemptId,source:n.utmSource});d.Z.launch(t,(function(e){e||(0,u.dL)(f.Z.fallbackRoute)}));return[2]}}))}))).apply(this,arguments)}},610804:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,R:()=>o});var r,o;!function(e){e.PRIMARY="primary";e.SECONDARY="secondary";e.DISMISS="dismiss";e.AUTO="auto"}(r||(r={}));!function(e){e.GUILD_HEADER_TOOLTIPS="GUILD_HEADER_TOOLTIPS";e.CHANNEL_NOTICES="CHANNEL_NOTICES";e.CALL_CHAT_BUTTON="CALL_CHAT_BUTTON";e.GUILD_FEED_TOP="GUILD_FEED_TOP";e.MAIN_VIEW_TOOLTIPS="MAIN_VIEW_TOOLTIPS"}(o||(o={}))},67845:(e,t,n)=>{"use strict";n.d(t,{O:()=>o})
;var r=n(820028),o=new Set([r.z$.APPLICATION_COMMAND_TOOLTIP,r.z$.NOW_PLAYING_CONSENT_CARD,r.z$.GUILD_INSIGHTS_ACCESS_RATE_NEW,r.z$.FORUM_CHANNEL_UPSELL_MODAL,r.z$.FORUM_CHANNEL_HELPER_CARD,r.z$.AUTH_SESSIONS_NEW,r.z$.GUILD_INTEGRATIONS_COMMAND_PERMISSIONS_V2_NEW,r.z$.COMMANDS_MIGRATION_UPSELL_MODAL,r.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_BADGE,r.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_SETTINGS_BADGE,r.z$.PREMIUM_TIER_0_MOBILE_MARKETING_PAGE_BADGE,r.z$.PREMIUM_TIER_0_MOBILE_ANNOUNCEMENT_SHEET,r.z$.HUB_BACK_TO_SCHOOL_UPSELL,r.z$.PROFILE_THEMES_SETTINGS_VIEWED_V2,r.z$.CHANNEL_BROWSER_NUX,r.z$.PREMIUM_TIER_0_MOBILE_SETTINGS_PAGE_BADGE,r.z$.PREMIUM_TIER_0_DESKTOP_ANNOUNCEMENT_MODAL,r.z$.APP_DIRECTORY_COACH_MARK])},570132:(e,t,n)=>{"use strict";n.d(t,{f0:()=>v,ZP:()=>N,Aq:()=>O,uP:()=>b,cI:()=>y,gE:()=>_,mc:()=>I,bn:()=>g});var r=n(185253),o=n(67845);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.timeoutId=null}var t=e.prototype;t.schedule=function(e,t){var n=this;this.unschedule();this.timeoutId=setTimeout((function(){n.timeoutId=null;e()}),t)};t.unschedule=function(){if(this.scheduled()){clearTimeout(this.timeoutId);this.timeoutId=null}};t.scheduled=function(){return null!==this.timeoutId};return e}()),s=function(){return{candidates:new Map,shownFatigableCandidate:null,prevFatigableCandidate:null,currentlyShown:new Set,currentlyShownGroup:new Set,lastWinnerTime:0}},f=(0,r.Z)(s),p=function(e){return l(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},e),{candidates:new Map(e.candidates),currentlyShown:new Set(e.currentlyShown),currentlyShownGroup:new Set(e.currentlyShownGroup)})},d=function(e,t){var n;if(null==t)return e;null!=t.content&&e.currentlyShown.delete(t.content);null!=t.groupName&&e.currentlyShownGroup.delete(t.groupName);(null===(n=e.shownFatigableCandidate)||void 0===n?void 0:n.content)===t.content&&(e.shownFatigableCandidate=null);return e},m=function(e,t){var n;if(null==t)return e;e.currentlyShown.add(t.content);null!=t.groupName&&e.currentlyShownGroup.add(t.groupName);if(!o.O.has(t.content)){var r;e.shownFatigableCandidate=t;if((null===(r=e.prevFatigableCandidate)||void 0===r?void 0:r.content)!==t.content){e.prevFatigableCandidate=t
;e.lastWinnerTime=(new Date).getTime()}}null===(n=t.onAdded)||void 0===n||n.call(t);return e},E=function(e,t){return m(d(e,e.shownFatigableCandidate),t)},h=function(e){if(0===e.candidates.size)return e;var t=(new Date).getTime()-e.lastWinnerTime>3e5;if(function(e){return null!=e.prevFatigableCandidate&&e.candidates.has(e.prevFatigableCandidate.content)&&null==e.shownFatigableCandidate}(e)&&!t){u.unschedule();return E(e,function(e){return null!=e.prevFatigableCandidate?e.candidates.get(e.prevFatigableCandidate.content):void 0}(e))}if(null!=e.shownFatigableCandidate&&!t)return e;if(u.scheduled())return e;u.schedule((function(){f.setState((function(e){var t=p(e);return E(t,function(e){var t=c(e.candidates.keys());null!==e.prevFatigableCandidate&&e.candidates.has(e.prevFatigableCandidate.content)&&e.candidates.size>1&&(t=t.filter((function(t){var n;return t!==(null===(n=e.prevFatigableCandidate)||void 0===n?void 0:n.content)})))
;return e.candidates.get(t[Math.floor(Math.random()*t.length)])}(t))}))}),250);return e},v=function(e){var t=o.O.has(e.content);f.setState((function(n){var r=p(n);return t?m(r,e):h(function(e,t){e.candidates.set(t.content,t);return e}(r,e))}))},_=function(e){f.setState((function(t){var n=p(t);return h(d(function(e,t){e.candidates.delete(t.content);return e}(n,e),e))}))},y=function(e){return f.getState().currentlyShown.has(e)},g=function(e){return f((function(t){return t.currentlyShown.has(e)}))},b=function(e){var t=f.getState().currentlyShown;return e.find((function(e){return t.has(e)}))},O=function(){var e=c(f.getState().currentlyShown).filter((function(e){return!o.O.has(e)})).length;return[f.getState().currentlyShown.size,e]},I=function(){f.setState(s);u.unschedule()};function N(e){return f(e)}},635940:(e,t,n)=>{"use strict";n.d(t,{un:()=>_,wE:()=>y,kk:()=>g,EW:()=>b,h3:()=>I})
;var r=n(791462),o=n(820028),a=n(180918),i=n(537127),l=n(932847),c=n(824657),u=n(67845),s=n(570132),f=n(610804),p=n(461061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,l,"next",e)}function l(e){m(a,r,o,i,l,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1}
;case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function _(e){var t,n=null===(t=i.Z.settings.userContent)||void 0===t?void 0:t.dismissedContents;return null!=n&&(0,c.jl)(n,e)}function y(e){return(0,r.e7)([i.Z],(function(){return _(e)}))}function g(e,t){(0,s.cI)(e)||(0,s.f0)({content:e,groupName:null==t?void 0:t.groupName,onAdded:function(){var n,r=h((0,s.Aq)(),2),a=r[0],i=r[1];l.default.track(p.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:o.z$[e],content_count:a,fatigable_content_count:i,group_name:null==t?void 0:t.groupName,bypass_fatigue:u.O.has(e),
guild_id:null==t?void 0:t.guildId});null==t||null===(n=t.onShown)||void 0===n||n.call(t)}})}function b(e){return O.apply(this,arguments)}function O(){O=E((function(e){var t,n=arguments;return v(this,(function(r){switch(r.label){case 0:t=n.length>1&&void 0!==n[1]?n[1]:{};((0,s.cI)(e)||t.forceTrack)&&I(e,t);return[4,(0,a.nm)(e)];case 1:r.sent();(0,s.gE)({content:e,groupName:null==t?void 0:t.groupName});return[2]}}))}));return O.apply(this,arguments)}function I(e,t){var n,r=h((0,s.Aq)(),1)[0];l.default.track(p.rMx.DISMISSIBLE_CONTENT_DISMISSED,{type:o.z$[e],action:null!==(n=null==t?void 0:t.dismissAction)&&void 0!==n?n:f.L.DISMISS,content_count:r,group_name:null==t?void 0:t.groupName,bypass_fatigue:u.O.has(e),guild_id:null==t?void 0:t.guildId})}},180445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(667294).createContext(void 0)},993317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),o=n(629590),a=n(685351),i=n(194266),l=n(120250),c=n(815830),u=n(998689),s=n(68921),f=n.n(s)
;function p(e){var t=e.guildScheduledEvent,n=e.channel,s=e.onClose,p=t.entity_type===u.WX.EXTERNAL,d=r.useCallback((function(e){return(0,l.Qt)(t,s)(e)}),[t,s]),m=(0,c.u)(t,n);if(null==m)return null;var E=m.IconComponent,h=m.locationName,v=r.createElement(r.Fragment,null,null!=E&&r.createElement(E,{width:20,height:20,className:f().channelIcon}),r.createElement(a.x,{color:"header-secondary",variant:"text-sm/normal",className:f().locationText},(0,i.m)(h,!0)));return r.createElement("div",{className:f().row},null!=d?r.createElement(o.Z,{className:p?f().externalLocation:f().channelLocation,onClick:d},v):v)}},928826:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(517845),o=n(959797);function a(e){switch(e){case r.HQ.CLASSROOM:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_CLASSROOM,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_CLASSROOM,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_CLASSROOM,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,
defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_CLASSROOM,author:o.Z.Messages.DISCORD_NAME};case r.HQ.LOCAL_COMMUNITIES:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_LOCAL_COMMUNITIES,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_LOCAL_COMMUNITIES,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_LOCAL_COMMUNITIES,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_LOCAL_COMMUNITIES,author:o.Z.Messages.DISCORD_NAME};case r.HQ.CREATORS_HOBBIES:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_CREATORS_HOBBIES,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_CREATORS_HOBBIES,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_CREATORS_HOBBIES,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_CREATORS_HOBBIES,author:o.Z.Messages.DISCORD_NAME};case r.HQ.GLOBAL_COMMUNITIES:return{
header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_GLOBAL_COMMUNITIES,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_GLOBAL_COMMUNITIES,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_GLOBAL_COMMUNITIES,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_GLOBAL_COMMUNITIES,author:o.Z.Messages.DISCORD_NAME};case r.HQ.FRIENDS_FAMILY:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_FRIENDS_FAMILY,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_FRIENDS_FAMILY,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_FRIENDS_FAMILY,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_FRIENDS_FAMILY,author:o.Z.Messages.DISCORD_NAME};case r.HQ.STUDY_GROUPS:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_STUDY_GROUPS,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_STUDY_GROUPS,
nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_STUDY_GROUPS,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_STUDY_GROUPS,author:o.Z.Messages.DISCORD_NAME};case r.HQ.CREATE_FROM_SCRATCH:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_CREATE_FROM_SCRATCH,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_CREATE_FROM_SCRATCH,nameLabel:o.Z.Messages.GUILD_TEMPLATES_FORM_LABEL_SERVER_NAME_CREATE_FROM_SCRATCH,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_CREATE_FROM_SCRATCH,author:o.Z.Messages.DISCORD_NAME};case r.HQ.CAMPUS_CLUBS:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_CAMPUS_CLUBS,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_CAMPUS_CLUBS,nameLabel:o.Z.Messages.FORM_LABEL_SERVER_NAME,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.GUILD_TEMPLATE_DEFAULT_SERVER_NAME_CAMPUS_CLUBS,
author:o.Z.Messages.DISCORD_NAME};case r.HQ.LEAGUE_CLUBS:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_LEAGUE_CLUBS,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_LEAGUE_CLUBS,nameLabel:o.Z.Messages.FORM_LABEL_SERVER_NAME,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.CREATE_SERVER_DEFAULT_SERVER_NAME_FORMAT,author:o.Z.Messages.DISCORD_NAME};case r.HQ.GITHUB_HACKATHON:return{header:o.Z.Messages.GUILD_TEMPLATE_MODAL_TITLE_GITHUB_HACKATHON,description:o.Z.Messages.GUILD_TEMPLATE_MODAL_DESCRIPTION_GITHUB_HACKATHON,nameLabel:o.Z.Messages.FORM_LABEL_SERVER_NAME,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.CREATE_SERVER_DEFAULT_SERVER_NAME_FORMAT,author:"GitHub Education"};default:return{header:o.Z.Messages.GUILD_TEMPLATE_CREATE_DISCORD,nameLabel:o.Z.Messages.FORM_LABEL_SERVER_NAME,terms:o.Z.Messages.CREATE_SERVER_GUIDELINES,defaultName:o.Z.Messages.CREATE_SERVER_DEFAULT_SERVER_NAME_FORMAT}}}},258858:(e,t,n)=>{"use strict"
;n.d(t,{Z:()=>j});var r=n(667294),o=n(294184),a=n.n(o),i=n(496486),l=n.n(i),c=n(316921),u=n(822567),s=n(478695),f=n(210161),p=n(859023),d=n(685351),m=n(801593),E=n(153532),h=n(983319),v=n(414597),_=n(976703),y=n(915306),g=n(675860),b=n(173436),O=n(510174),I=n(172762),N=n(653772),T=n(461061);const A=function(e,t,n){b.Z.dispatch({type:"GUILD_TEMPLATE_ACCEPT",code:e});return new Promise((function(r,o){g.Z.post({url:T.ANM.UNRESOLVED_GUILD_TEMPLATE(e),body:{name:t,icon:n},oldFormErrors:!0}).then((function(t){var n=t.body;b.Z.dispatch({type:"GUILD_TEMPLATE_ACCEPT_SUCCESS",code:e,guild:n});if(I.Z.isConnected())N.Z.addConditionalChangeListener((function(){if(null!=N.Z.getGuild(n.id)){(0,O.X)(n.id);r(n);return!1}}));else{(0,O.X)(n.id);r(n)}}),(function(t){b.Z.dispatch({type:"GUILD_TEMPLATE_ACCEPT_FAILURE",code:e});o(t.body)}))}))};var S=n(928826),C=n(932847),R=n(517845);function P(e){var t=r.useRef([]);r.useEffect((function(){if(null!=e&&e.state!==R.Rj.RESOLVING&&!t.current.includes(e.code)){
t.current.push(e.code);C.default.track(T.rMx.CREATE_GUILD_VIEWED,{guild_template_code:e.code,guild_template_name:e.name,guild_template_description:e.description,guild_template_guild_id:e.sourceGuildId})}}))}var L=n(509954),M=n(959797),w=n(458759),Z=n.n(w);n(424286);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){x(a,r,o,i,l,"next",e)}function l(e){x(a,r,o,i,l,"throw",e)}i(void 0)}))}}function k(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){
if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function j(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=G(r.useState(""),2),o=n[0],a=n[1],i=G(r.useState(null),2),l=i[0],c=i[1],E=G(r.useState(null),2),v=E[0],_=E[1],y=(0,S.Z)(e.code)
;r.useEffect((function(){function e(){return(e=U((function(){var e;return B(this,(function(t){switch(t.label){case 0:if(null!=(e=p.default.getCurrentUser()))return[3,4];t.label=1;case 1:t.trys.push([1,3,,4]);return[4,(0,s.k)()];case 2:e=t.sent();return[3,4];case 3:t.sent();u.Z.verifySSOToken(null);return[3,4];case 4:null!=e&&a(y.defaultName.format({username:e.username}));return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y.defaultName]);var g=function(){return A(e.code,o,l).catch((function(e){return _(e)}))};P(e);var b=r.createElement(r.Fragment,null,t?r.createElement(L.Z,{guildTemplate:e}):null,r.createElement("div",{className:Z().icon},r.createElement(f.Z,{icon:l,onChange:c})),r.createElement(h.Z,{title:y.nameLabel},r.createElement(m.ZP,{type:"text",value:o,maxLength:100,onChange:a,error:null==v?void 0:v.name})),r.createElement(d.x,{variant:"text-xs/normal",color:"text-muted",className:Z().guidelines},y.terms.format({guidelinesURL:T.EYA.GUIDELINES
}))),O=e.serializedSourceGuild.roles.filter((function(e){return"@everyone"!==e.name})),I=r.createElement(r.Fragment,null,r.createElement("div",{className:Z().divider}),r.createElement(h.Z,{className:Z().previewSection,title:M.Z.Messages.GUILD_TEMPLATE_MODAL_CHANNELS_HEADER},r.createElement(F,{channels:e.serializedSourceGuild.channels}),r.createElement(d.x,{variant:"text-xs/normal",color:"header-secondary",className:Z().protip},r.createElement("span",{className:Z().protipText},M.Z.Messages.FORM_LABEL_ROLES_PRO_TIP,":")," ",M.Z.Messages.GUILD_TEMPLATE_MODAL_CHANNELS_TIP)),O.length>0?r.createElement(r.Fragment,null,r.createElement(h.Z,{className:Z().previewSection,title:M.Z.Messages.GUILD_TEMPLATE_MODAL_ROLES_HEADER2},r.createElement(H,{roles:O}))):null);return{form:b,preview:I,handleSubmit:g}}function F(e){var t=e.channels,n=l()(t).sortBy((function(e){return null==e.parent_id?1e4*Number(e.id):1e4*Number(e.parent_id)+e.id})).map((function(e){var t=function(e){var t=e.type
;return t===T.d4z.GUILD_VOICE?y.Z:t===T.d4z.GUILD_CATEGORY?v.Z:_.Z}(e);return r.createElement("div",{key:e.id,className:a()(Z().channel,k({},Z().category,e.type===T.d4z.GUILD_CATEGORY))},r.createElement(t,{className:Z().channelIcon}),r.createElement(d.x,{className:Z().channelText,variant:"text-sm/normal"},e.name))})).value();return r.createElement("div",{className:Z().channelsWrapper},n)}function H(e){var t=e.roles.slice().reverse().map((function(e){return r.createElement(V,{key:e.id,role:e})}));return r.createElement("ul",{className:Z().rolesWrapper},t)}function V(e){var t,n=e.role,o=null==n.color?T.Lkg.PRIMARY_DARK_300:(0,c.Rf)(n.color);return r.createElement("li",{className:Z().role,style:{borderColor:null!==(t=(0,c.wK)(o,.6))&&void 0!==t?t:void 0}},r.createElement(E.x,{className:Z().roleCircle,color:o}),r.createElement("div",{className:Z().roleName},n.name))}},58226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d})
;var r=n(951660),o=n(531286),a=n(865622),i=n(987593),l=n(932847),c=n(618468),u=n(21588),s=n(461061);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var p="template";const d=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){f(e,t,n[t])}))}return e}({},u.Z),{openNativeAppModal:function(e){i.Z.openNativeAppModal(e,s.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.Oh)(e):(0,r.Gk)(),i=(0,o.WS)(),u=(0,o.ZP)(n,{utmSource:p,fingerprint:t,attemptId:i});l.default.track(s.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,a.K)(t),attempt_id:i,source:p,guild_template_code:e});c.Z.launch(u,(function(){}))}}})},88468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r,o=n(667294),a=n(908570),i=n(928826),l=n(509954),c=n(517845),u=n(26312),s=n.n(u);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var p=(f(r={},c.HQ.CLASSROOM,n(149374)),f(r,c.HQ.LOCAL_COMMUNITIES,n(106952)),f(r,c.HQ.CREATORS_HOBBIES,n(123555)),f(r,c.HQ.GLOBAL_COMMUNITIES,n(100553)),f(r,c.HQ.FRIENDS_FAMILY,n(614040)),f(r,c.HQ.STUDY_GROUPS,n(952587)),
f(r,c.HQ.CREATE_FROM_SCRATCH,n(841860)),f(r,c.HQ.CAMPUS_CLUBS,n(661807)),f(r,c.HQ.LEAGUE_CLUBS,n(568534)),f(r,c.HQ.GITHUB_HACKATHON,n(525106)),r);function d(e){var t=e.headerId,n=e.guildTemplate,r=n.code,u=p[r];if(null!=u){var f,d=(0,i.Z)(r),m=d.header,E=d.description,h=d.author;return o.createElement("div",null,o.createElement("img",{className:s().image,src:u,alt:""}),o.createElement(a.Dx,{className:s().header,id:t},m),o.createElement(a.DK,null,E),n.state===c.Rj.RESOLVED?o.createElement(l.D,{className:s().usagePill,count:null!==(f=n.usageCount)&&void 0!==f?f:0,verifiedName:h}):null)}return o.createElement(l.Z,{pillClassName:s().usagePill,guildTemplate:n,tall:!0})}},509954:(e,t,n)=>{"use strict";n.d(t,{D:()=>y,Z:()=>g});var r=n(667294),o=n(294184),a=n.n(o),i=n(402411),l=n(82961),c=n(908570),u=n(16870),s=n(928826);var f=n(517845),p=n(959797),d=n(167083),m=n.n(d),E=n(380203),h=n.n(E);function v(){return r.createElement(i.Z,{className:m().verifiedIcon},r.createElement("div",{
className:m().verifiedCheckContainer},r.createElement(u.Z,{className:m().verifiedCheck})))}function _(e){var t=e.verified,n=e.text;return t?r.createElement("div",{className:m().verifiedNameContainer},r.createElement(v,null),n):r.createElement(r.Fragment,null,n)}function y(e){var t=e.className,n=e.count,o=e.creator,i=e.verifiedName;return r.createElement("div",{className:a()(m().usagePill,t,m().userText)},null!=o||null!=i?p.Z.Messages.GUILD_TEMPLATE_USAGES_BY_CREATOR2.format({usageCount:n,creator:null!=i?i:o,creatorHook:function(e,t){return r.createElement(_,{key:t,text:e,verified:null!=i})}}):p.Z.Messages.GUILD_TEMPLATE_USAGES.format({usageCount:n}))}function g(e){var t=e.guildTemplate,n=e.error,o=e.tall,i=e.pillClassName;if(null!=n&&""!==n)return r.createElement("div",{className:m().container},r.createElement(c.Dx,null,p.Z.Messages.INVITE_MODAL_ERROR_TITLE),r.createElement(c.DK,null,n));if(t.state===f.Rj.RESOLVING)return r.createElement("div",{className:m().container
},r.createElement(l.Z,null));var u,d=(0,s.Z)(t.code).header;if(o){var E;return r.createElement("div",{className:m().container},r.createElement(c.Dx,{className:m().title},d),r.createElement(c.DK,{className:a()(m().subtitle,h().marginTop2)},p.Z.Messages.GUILD_TEMPLATE_BASED_ON),r.createElement(c.Dx,{className:a()(m().title,m().userText)},t.name),null!=t.description&&""!==t.description&&r.createElement(c.DK,{className:a()(m().subtitle,m().userText,h().marginTop8)},t.description),r.createElement(y,{className:i,count:null!==(E=t.usageCount)&&void 0!==E?E:0,creator:t.creator.username,verifiedName:(u=t.code,(0,s.Z)(u).author)}))}return r.createElement("div",{className:m().container},r.createElement(c.Dx,{className:m().title},d),r.createElement(c.DK,{className:a()(m().subtitle,m().userText)},t.name))}},225691:(e,t,n)=>{"use strict";n.d(t,{tF:()=>r,fQ:()=>o});var r;!function(e){e.STUDENT_PROMPT="STUDENT_PROMPT";e.VERIFY_EMAIL="VERIFY_EMAIL";e.VERIFY_PIN="VERIFY_PIN"
;e.SELECT_SCHOOL="SELECT_SCHOOL";e.SELECT_SCHOOL_SEARCH="SELECT_SCHOOL_SEARCH";e.SUBMIT_SCHOOL="SUBMIT_SCHOOL";e.EMAIL_CONFIRMATION="EMAIL_CONFIRMATION";e.EMAIL_WAITLIST="EMAIL_WAITLIST"}(r||(r={}));var o="884924873015689226"},910866:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r;!function(e){e.MP4="video/mp4"}(r||(r={}))},567895:(e,t,n)=>{"use strict";n.d(t,{Zj:()=>m,Fq:()=>E,ZP:()=>v});var r=n(667294),o=n(678081),a=n(212271),i=n(910866),l=n(959797);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function s(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function m(){return[{name:l.Z.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}]}function E(e,t,n){!function(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){var r;"string"==typeof(null===(r=n.target)||void 0===r?void 0:r.result)&&t(n.target.result,e)};n.readAsDataURL(e)}}(e,(function(r){if(e.type===i.m.MP4)return t(r,e);var o=new Image;o.src=r;o.onload=function(){t(r,e)};o.onerror=function(){n()}}))}var h=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=d(n);function n(){c(this,n);var e;(e=t.apply(this,arguments))._ref=r.createRef();e._isMounted=!1;e.handleFileChange=function(t){var n=e.props,r=n.onFileSizeError,o=n.maxFileSizeBytes;t.stopPropagation();t.preventDefault();if(null!=t.currentTarget.files)for(var a=0;a<t.currentTarget.files.length;a++){var i=t.currentTarget.files[a];i.size>o?null==r||r(o,i.size):E(i,e.handleFileRead,e.handleFileError)}};e.handleFileRead=function(t,n){var r=e.props.onChange;e._isMounted&&r(t,n)};e.handleFileError=function(){(0,a.xT)({title:l.Z.Messages.PREMIUM_ALERT_ERROR_TITLE,help:l.Z.Messages.UNABLE_TO_PROCESS_IMAGE})};return e}var i=n.prototype;i.componentDidMount=function(){this._isMounted=!0};i.activateUploadDialogue=function(){var e
;null===(e=this._ref.current)||void 0===e||e.activateUploadDialogue()};i.render=function(){var e=this.props,t=e.multiple,n=e.disabled,a=e.className,i=e.tabIndex,l=e["aria-label"],c=e.filters;return r.createElement(o.Z,{ref:this._ref,onChange:this.handleFileChange,filters:null!=c?c:m(),multiple:t,disabled:n,className:a,tabIndex:i,"aria-label":l})};return n}(r.PureComponent);h.defaultProps={multiple:!0,tabIndex:-1,maxFileSizeBytes:1/0};const v=h},998591:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(667294),o=n(908570),a=n(959797),i=n(25417),l=n.n(i),c=n(73745),u=n.n(c);function s(e){var t,n,i,c,s=e.variant,f=e.invite,p=e.onContinueInBrowser,d=e.onDownloadApp;return r.createElement("div",{className:l().downloadAppInterstitial},r.createElement(o.Dx,{className:l().downloadAppTitle},a.Z.Messages.INSTANT_INVITE_DOWNLOAD_THE_APP),"after-register"===s&&r.createElement(o.DK,null,a.Z.Messages.INSTANT_INVITE_REGISTER_SUCCESS.format({guildName:null===(t=f.guild)||void 0===t?void 0:t.name
})),"before-register"===s&&r.createElement(o.DK,null,a.Z.Messages.INSTANT_INVITE_PRE_REGISTRATION_SUBTITLE.format({guildName:null===(n=f.guild)||void 0===n?void 0:n.name})),r.createElement("img",{className:l().downloadAppImage,src:u(),alt:a.Z.Messages.INSTANT_INVITE_DOWNLOAD_THE_APP}),r.createElement(o.zx,{onClick:d},"Android"===(null===(i=platform.os)||void 0===i?void 0:i.family)?a.Z.Messages.INSTANT_INVITE_DOWNLOAD_THE_ANDROID_APP:"iOS"===(null===(c=platform.os)||void 0===c?void 0:c.family)?a.Z.Messages.INSTANT_INVITE_DOWNLOAD_THE_IOS_APP:a.Z.Messages.INSTANT_INVITE_DOWNLOAD_THE_APP),r.createElement(o.zx,{className:l().continueInBrowser,look:o.zx.Looks.LINK,onClick:p},a.Z.Messages.CONTINUE_IN_BROWSER))}},337973:(e,t,n)=>{"use strict";n.d(t,{$H:()=>r,Ui:()=>o,Ip:()=>a});var r=5,o="switch-accounts-modal",a="multiaccount_cta_tooltip_seen"},204882:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>d,yD:()=>m,Zd:()=>E})
;var r=n(974119),o=n(675860),a=n(173436),i=n(822567),l=n(655695),c=n(631134),u=n(370149),s=n(461061);function f(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}var p=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}
if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function d(){var e,t,n=c.default.getId();u.Z.getUsers().forEach((t=(e=function(e){var t,i,l,c,u;return p(this,(function(f){switch(f.label){case 0:t=e.id;if(null==(i=r.Z.getToken(t))||""===i){a.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:t});return[2]}a.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:t});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,o.Z.get({url:s.ANM.ME,headers:{authorization:i},retries:3})];case 2:l=f.sent();return[3,4];case 3:c=f.sent();u=401===(null==c?void 0:c.status)||403===(null==c?void 0:c.status);a.Z.dispatch({type:u?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t})
;return[2];case 4:a.Z.dispatch({type:n===t?"CURRENT_USER_UPDATE":"USER_UPDATE",user:l.body});a.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,l,"next",e)}function l(e){f(a,r,o,i,l,"throw",e)}i(void 0)}))}),function(e){return t.apply(this,arguments)}))}function m(e){var t=r.Z.getToken(e);if(null!=t){a.Z.dispatch({type:"LOGOUT",isSwitchingAccount:!0});i.Z.loginToken(t,!0);(0,l.uL)(s.Z5c.ME)}else a.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e})}function E(e){a.Z.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})}},370149:(e,t,n)=>{"use strict";n.d(t,{q:()=>p,Z:()=>g});var r=n(974119),o=n(791462),a=n(173436),i=n(802616),l=n(337973);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function s(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p,d,m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}!function(e){e[e.INVALID=0]="INVALID";e[e.VALIDATING=1]="VALIDATING";e[e.VALID=2]="VALID"}(p||(p={}));var h=[];function v(e){
h=h.filter((function(t){return t.id!==e}));r.Z.removeToken(e)}function _(e,t){var n=h.slice(),r=n.find((function(t){return t.id===e}));if(null!=r){r.tokenStatus=t;h=n}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=E(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(h=e.users)};r.getState=function(){return{users:h}};r.getUsers=function(){return h};r.getHasLoggedInAccounts=function(){return h.length>0};r.getIsValidatingUsers=function(){return h.some((function(e){return e.tokenStatus===p.VALIDATING}))};r.__getLocalVars=function(){return{currentUserId:d,users:h}};return n}(o.ZP.PersistedStore);y.displayName="MultiAccountStore";y.persistKey="MultiAccountStore";const g=new y(a.Z,{CONNECTION_OPEN:function(e){var t=e.user
;d=t.id;var n=h.slice(),r=n.findIndex((function(e){return e.id===t.id}));if(r>-1){h[r].avatar=t.avatar;h[r].username=t.username;h[r].discriminator=t.discriminator;h[r].tokenStatus=p.VALID;h=n}else{n.push({id:t.id,avatar:t.avatar,username:t.username,discriminator:t.discriminator,tokenStatus:p.VALID});h=n}if(h.length>l.$H){h.splice(l.$H).forEach((function(e){v(e.id)}))}},LOGOUT:function(e){e.isSwitchingAccount||(h=h.filter((function(e){return e.id!==d})));d=null},MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST:function(e){return _(e.userId,p.VALIDATING)},MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS:function(e){return _(e.userId,p.VALID)},MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE:function(e){return _(e.userId,p.INVALID)},MULTI_ACCOUNT_REMOVE_ACCOUNT:function(e){return v(e.userId)},MULTI_ACCOUNT_MOVE_ACCOUNT:function(e){var t=e.from,n=e.to;h=(0,i.aB)(h,t,n)},CURRENT_USER_UPDATE:function(e){var t=e.user,n=h.slice(),r=n.find((function(e){return e.id===t.id}));if(null!=r){r.avatar=t.avatar;r.username=t.username
;r.discriminator=t.discriminator;h=n}}})},908170:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(667294),o=n(791462),a=n(173436),i=n(204882),l=n(370149);function c(){var e=(0,o.cj)([l.Z],(function(){return{isLoading:l.Z.getIsValidatingUsers(),multiAccountUsers:l.Z.getUsers()}}));r.useEffect((function(){a.Z.wait((function(){i.HJ()}))}),[]);return e}},674945:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,Z:()=>M});var r,o=n(667294),a=n(294184),i=n.n(a),l=n(791462),c=n(822567),u=n(281081),s=n(186121),f=n(266559),p=n(948571),d=n(631134),m=n(893321),E=n(859023),h=n(191940),v=n(82961),_=n(685351),y=n(557328),g=n(766936),b=n(932847),O=n(204882),I=n(370149),N=n(908170),T=n(461061),A=n(423845),S=n(959797),C=n(966582),R=n.n(C);function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.LOGIN_REQUIRED=0]="LOGIN_REQUIRED";e[e.SWITCHED=1]="SWITCHED";e[e.REMOVED=2]="REMOVED"}(r||(r={}));function L(e){
var t=e.actionText,n=e.user,a=e.onAction,v=(0,l.cj)([E.default,m.Z,d.default],(function(){return{currentUser:E.default.getCurrentUser(),hidePrivateData:m.Z.hidePersonalInformation,isAuthenticated:d.default.isAuthenticated()}})),N=v.currentUser,C=v.hidePrivateData,L=v.isAuthenticated,M=new p.Z(n),w=L&&(null==N?void 0:N.id)===M.id,Z=n.tokenStatus===I.q.INVALID,D=C?null:"#".concat(M.discriminator),x=null;w?x=o.createElement(_.x,{variant:"text-sm/semibold",className:R().hintText,color:"text-positive"},S.Z.Messages.SWITCH_ACCOUNTS_ACTIVE_ACCOUNT):Z&&(x=o.createElement(_.x,{variant:"text-sm/semibold",className:R().hintText,color:"text-danger"},S.Z.Messages.SWITCH_ACCOUNTS_INVALID_TOKEN));return o.createElement("div",{className:R().accountCard},o.createElement("div",{className:R().userDetails},o.createElement(g.ZP,{src:M.getAvatarURL(void 0,40),size:g.ZP.Sizes.SIZE_40,"aria-label":n.username}),o.createElement("div",{className:i()(R().usernameSection,P({},R().hasActionMaxWidth,!w))
},o.createElement("div",{className:R().username},o.createElement(_.x,{variant:"text-md/semibold",color:"header-primary",className:R().textOverflow},M.toString()),o.createElement(_.x,{color:"header-secondary",variant:"text-sm/normal"},D)),x),o.createElement("div",{className:R().userActions},!w&&o.createElement(h.Co,{onClick:function(){if(Z)a(r.LOGIN_REQUIRED,n.id);else{b.default.track(T.rMx.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:T.jXE.MANAGE_ACCOUNTS_MODAL}});O.yD(n.id);a(r.SWITCHED,n.id)}},color:h.Co.Colors.PRIMARY},Z?S.Z.Messages.SWITCH_ACCOUNTS_ACTION_LOG_IN:t),o.createElement(h.Co,{className:R().userActionMenu,onClick:function(e){(0,u.vq)(e,(function(e){var t=e.onSelect;return o.createElement(s.ZP,{"aria-label":S.Z.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNT,navId:"manage-multi-account",onClose:u.Zy,onSelect:t},o.createElement(f.sN,{id:"remove-account",label:S.Z.Messages.SWITCH_ACCOUNTS_REMOVE_ACCOUNT,action:function(){!function(){c.Z.logout(null,n.id).finally((function(){
O.Zd(n.id)}));var e={};null!=N?e.section=T.jXE.MANAGE_ACCOUNTS_MODAL:e.page=T.Usc.LOGIN;b.default.track(T.rMx.MULTI_ACCOUNT_ACCOUNT_REMOVE,{location:e});a(r.REMOVED,n.id)}();null!=t&&t()},color:A.g.DANGER}))}))},size:h.Co.Sizes.ICON,look:h.Co.Looks.BLANK,color:h.Co.Colors.WHITE,"aria-label":S.Z.Messages.MORE_OPTIONS},o.createElement(y.Z,{className:R().overflowMenuIcon})))))}function M(e){var t=e.actionText,n=e.onAction,r=(0,N.L)(),a=r.isLoading,i=r.multiAccountUsers;return o.createElement("div",{className:R().list},a?o.createElement(v.Z,null):i.map((function(e,r){return o.createElement(o.Fragment,{key:e.id},o.createElement(L,{key:e.id,user:e,actionText:t,onAction:n}),i.length-1!==r&&o.createElement("div",{role:"separator",className:R().separator}))})))}},677523:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,H:()=>a});var r=n(173436);function o(e){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_NEW_USER",newUserType:e})}))}function a(){r.Z.wait((function(){return r.Z.dispatch({
type:"NUF_COMPLETE"})}))}},714392:(e,t,n)=>{"use strict";n.d(t,{M5:()=>r});var r;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(r||(r={}))},639472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(791462),o=n(173436);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return i(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var u=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var f=null;var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=s(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t;f=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};r.getType=function(){return f};r.getState=function(){return{type:f}
};r.__getLocalVars=function(){return{type:f}};return n}(r.ZP.PersistedStore);p.displayName="NewUserStore";p.persistKey="nuf";const d=new p(o.Z,{NUF_NEW_USER:function(e){var t=e.newUserType;f=t},NUF_COMPLETE:function(){f=null}})},99918:(e,t,n)=>{"use strict";n.d(t,{L:()=>p,Z:()=>m});var r=n(506884),o=n(675860),a=n(173436),i=n(631134),l=n(666492),c=n(330665),u=n(461061);function s(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)}))}}var p,d=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){
if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};!function(e){e.USER_ACTION_REQUIRED="user_action_required";e.USER_SETTINGS_UPDATE="user_settings_update";e.GUILD_PHONE_REQUIRED="guild_phone_required";e.MFA_PHONE_UPDATE="mfa_phone_update"
;e.CONTACT_SYNC="contact_sync"}(p||(p={}));const m={setCountryCode:function(e){a.Z.dispatch({type:"PHONE_SET_COUNTRY_CODE",countryCode:e})},removePhone:function(e,t){return o.Z.delete({url:u.ANM.PHONE,body:{password:e,change_phone_reason:t},oldFormErrors:!0})},resendCode:function(e){var t={},n=i.default.getFingerprint();null!=n&&""!==n&&(t["X-Fingerprint"]=n);return o.Z.post({url:u.ANM.RESEND_PHONE,headers:t,body:{phone:e}})},beginAddPhone:function(e,t,n){return o.Z.post({url:u.ANM.PHONE,body:{phone:e,captcha_key:n,change_phone_reason:t}})},addPhone:function(e,t,n){return o.Z.post({url:u.ANM.PHONE,body:{phone_token:e,password:t,change_phone_reason:n},oldFormErrors:!0})},addPhoneWithoutPassword:function(e){return o.Z.post({url:u.ANM.PHONE_VERIFY_NO_PASSWORD,body:{code:e}})},validatePhoneForSupport:function(e){return o.Z.post({url:u.ANM.VERIFY_PHONE_FOR_TICKET,body:{token:e},oldFormErrors:!0})},verifyPhone:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]
;return f((function(){var o,s,f;return d(this,(function(p){switch(p.label){case 0:o={};null!=(s=i.default.getFingerprint())&&""!==s&&(o["X-Fingerprint"]=s);return[4,l.Z.post({url:u.ANM.VERIFY_PHONE,headers:o,body:{phone:e,code:t},oldFormErrors:!0,trackedActionData:{event:r.a9.USER_VERIFY_PHONE}})];case 1:f=p.sent();n&&a.Z.dispatch({type:"MODAL_POP",key:c.M});return[2,f.body]}}))}))()}}},330665:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,z:()=>o});var r="PHONE_VERIFICATION_MODAL_KEY",o=6},190335:(e,t,n)=>{"use strict";n.d(t,{Nz:()=>r,o9:()=>a});var r;!function(e){e.PHONE="phone";e.EMAIL="email"}(r||(r={}));var o=/^[-() \d]+$/;function a(e,t){return e===r.PHONE?!(n=t,n.startsWith("+")):e!==r.EMAIL&&(!(t.length<3)&&o.test(t));var n}},614503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(791462),o=n(173436),a=n(388337);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var s,f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var d=(0,a.K4)();function m(e){var t=e.countryCode;if(null!=t){var n;d=null!==(n=(0,a.Zz)(t))&&void 0!==n?n:(0,a.K4)()}}
var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=p(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(s=e.selectedCountryCode)};r.getUserAgnosticState=function(){return{selectedCountryCode:s}};r.getCountryCode=function(){return null!=s?s:d};r.__getLocalVars=function(){return{selectedCountryCode:s,defaultCountryCode:d}};return n}(r.ZP.DeviceSettingsStore);E.displayName="PhoneStore";E.persistKey="PhoneStore";const h=new E(o.Z,{PHONE_SET_COUNTRY_CODE:function(e){var t=e.countryCode;s=t},CONNECTION_OPEN:m,SET_LOCATION_METADATA:m})},552795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ce})
;var r=n(667294),o=n(294184),a=n.n(o),i=n(824390),l=n.n(i),c=n(496486),u=n.n(c),s=n(45692),f=n(388337),p=n(487502),d=n(851994),m=n(31165),E=n(647446),h=n(316921),v=n(983067),_=n(461061),y=n(672908),g=n.n(y),b=n(380203),O=n.n(b);function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function T(e){T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return T(e)}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){N(e,t,n[t])}))}return e}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function C(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){
var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}var M=u().memoize((function(e){var t=!1;if(null!=e&&(0,h.FX)(e)){var n=(0,h._i)(e);null!=n&&(t=(0,h.Bd)(n)<.2)}return t?_.wL4.BLACK:_.wL4.WHITE})),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&R(e,t)}(n,e);var t=L(n);function n(){I(this,n);var e;(e=t.apply(this,arguments)).state={color:M(e.props.color)};e.handleKeyUp=function(t){if(t.which===_.yXg.ENTER||t.which===_.yXg.SPACE){var n=e.props;(0,n.onClick)(S(n,["onClick"]))}};e.handleClick=function(){var t=e.props;(0,t.onClick)(S(t,["onClick"]))};return e}n.prototype.render=function(){var e,t=this.props,n=t.selected,o=t.color,i=t.className,l=t.children,c=M(o);n?e={color:c,background:null!=o?o:_.wL4.BRAND}:null!=o&&(e={color:o})
;return r.createElement(E.tE,{offset:{left:4}},r.createElement(p.Z,{className:a()(g().selectableItem,i,N({},g().selected,n)),onClick:this.handleClick,onKeyUp:this.handleKeyUp,align:p.Z.Align.CENTER,style:A({},e,this.props.style),role:"button",tabIndex:0},r.createElement(p.Z,{align:p.Z.Align.CENTER,className:g().selectableItemLabel,shrink:1},l),n&&r.createElement(p.Z,{wrap:p.Z.Wrap.WRAP,className:O().marginReset,grow:0,shrink:0},r.createElement(v.Z,{color:c}))))};return n}(r.PureComponent);const Z=w;var D=n(15063),x=n(622677),U=n.n(x);function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return G.apply(this,arguments)}function B(e){B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return B(e)}function j(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&V(e,t)}function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function H(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t){V=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return V(e,t)}var z=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function K(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}var W=function(e){j(n,e);var t=K(n);function n(){k(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.className,n=F(e,["className"]);return r.createElement(m.Z,G({},n,{className:a()(U().popoutListInput,t)}))};return n}(r.PureComponent);W.defaultProps={autoFocus:!0};var Y=function(e){j(n,e);var t=K(n);function n(){k(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return r.createElement(d.Z,{className:a()(U().popoutList,t),"aria-label":this.props["aria-label"]},n)};return n}(r.PureComponent)
;Y.SearchBar=W;Y.Item=Z;Y.Divider=function(){return r.createElement(D.Z,{className:U().divider})};Y.Empty=function(e){var t=e.children;return r.createElement("div",{className:U().popoutListEmpty},t)};const q=Y;var X=n(725002),Q=n(959797),$=n(886995),J=n.n($),ee=n(480798),te=n.n(ee);function ne(){ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ne.apply(this,arguments)}function re(e){re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return re(e)}function oe(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}var ie=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ae(e,t)}(n,e);var t=le(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).onChangeQuery=function(e){r.setState({query:e})};r.onClearQuery=function(){r.setState({
query:""})};r.onClick=function(e){var t,n;null===(n=(t=r.props).onClick)||void 0===n||n.call(t,e)};r.state={query:""};return r}var o=n.prototype;o.renderItems=function(){var e=this,t=this.state.query,n=s.Z.flatMap((function(e,t){var n=e.alpha2,o=e.phoneCountryCodes,a=e.name,i=(0,f.q9)(n);return o.map((function(e){return{key:"".concat(t,"-").concat(e),name:a,translatedName:i,countryData:{name:a,alpha2:n,code:e},children:r.createElement(p.Z,{className:J().countryItem,justify:p.Z.Justify.CENTER,align:p.Z.Align.CENTER},r.createElement(p.Z.Child,{className:J().countryName},i),r.createElement(p.Z.Child,{className:J().countryCode,grow:0,shrink:0},e))}}))})),o=u()(n).filter((function(e){return 0===t.length||l()(t.toLowerCase(),e.name.toLowerCase())||l()(t.toLowerCase(),e.translatedName.toLowerCase())})).map((function(t){return r.createElement(q.Item,ne({},t,{onClick:function(){return e.onClick(t.countryData)}}))})).value()
;return 0===o.length?r.createElement(q.Empty,null,Q.Z.Messages.NONE):r.createElement(X.w0,{className:J().phoneFieldScroller},o)};o.render=function(){var e=this.props.className;return r.createElement(q,{className:a()(J().phoneFieldPopout,te().elevationBorderLow,e)},r.createElement(q.SearchBar,{query:this.state.query,placeholder:Q.Z.Messages.SEARCH_COUNTRY,onChange:this.onChangeQuery,onClear:this.onClearQuery,autoComplete:"off"}),r.createElement(q.Divider,null),this.renderItems())};return n}(r.PureComponent)},363419:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(667294),o=n(294184),a=n.n(o),i=n(801593),l=n(272729),c=n(562181),u=n(190335),s=n(248088),f=n(791462),p=n(730189),d=n(629590),m=n(761434),E=n(99918),h=n(552795),v=n(919252),_=n.n(v);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(){
b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e){var t=e.show,n=e.alpha2,o=e.countryCode,i=(0,f.e7)([p.Z],(function(){return p.Z.useReducedMotion})),l=r.useRef(null),c=O(r.useState(0),2),u=c[0],v=c[1],y=O(r.useState(!1),2),I=y[0],N=y[1];r.useEffect((function(){var e=function(){var e,n;v(t&&null!==(n=null===(e=l.current)||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==n?n:0)};e();window.addEventListener("resize",e);return function(){return window.removeEventListener("resize",e)}}),[t,n,o]);var T=(0,s.useSpring)({width:"".concat(u,"px"),immediate:i,onStart:function(){N(!0)},onRest:function(){N(!1)}});return r.createElement(m.ZP,{position:m.ZP.Positions.TOP,renderPopout:function(e){return r.createElement(h.Z,{className:_().popout,onClick:function(t){!function(e){E.Z.setCountryCode(e)}(t);e.closePopout()}})}},(function(e){
return r.createElement("div",{className:a()(_().outerContainer,g({},_().hidden,!(t||I)))},r.createElement(s.animated.div,{className:_().container,style:T},r.createElement("div",{className:_().innerContainer,ref:l},r.createElement(d.Z,b({},e,{className:_().countryCode}),n," ",o),r.createElement("div",{className:_().separator}))))}))}var N=n(340839),T=n.n(N),A=n(641501),S=n.n(A);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){var t,n=e.alpha2,o=e.countryCode,s=e.forceMode,f=e.label,p=e.error,d=e.className,m=e.required,E=e.value,h=e.setRef,v=e.placeholder,_=e.autoFocus,y=e.maxLength,g=e.spellCheck,b=e.autoComplete,O=e.autoCapitalize,N=e.autoCorrect,A=e.onChange,C=e.inputClassName,L=(0,l.Dt)(),M=P(r.useState(!1),2),w=M[0],Z=M[1],D=(0,u.o9)(s,E);return r.createElement(c.xJ,{title:f,error:p,className:d,required:m,tag:c.xJ.Tags.LABEL,htmlFor:L},r.createElement("div",{className:a()(S().input,T().input,C,(t={},
R(t,S().error,null!=p),R(t,S().focused,w),t))},r.createElement(I,{show:D,alpha2:n,countryCode:o}),r.createElement(i.ZP,{id:L,name:"email",type:s===u.Nz.EMAIL?"email":"text",value:E,inputRef:h,placeholder:v,"aria-label":f,required:m,onChange:function(e){var t=(0,u.o9)(s,e)?o:"";A(e,t)},autoComplete:b,autoCapitalize:O,autoCorrect:N,autoFocus:_,maxLength:y,spellCheck:g,className:T().inputWrapper,inputClassName:T().inputField,onFocus:function(){return Z(!0)},onBlur:function(){return Z(!1)}})))}},81717:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(937155)},898862:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>o,TD:()=>a});var r,o;!function(e){e[e.DEFAULT=0]="DEFAULT";e[e.WINTER=1]="WINTER"}(r||(r={}));!function(e){e[e.SNOWGLOBE=1]="SNOWGLOBE";e[e.BOX=2]="BOX";e[e.CUP=3]="CUP"}(o||(o={}));var a=Object.freeze({IS_BLOCKED_IOS:32,IS_OUTBOUND_REDEEMABLE_BY_TRIAL_USERS:64})},182102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(667294),o=n(791462),a=n(730189),i=n(304546),l=n(898862);function c(e){
var t,c=e.giftStyle,u=e.className,s=e.shouldAnimate,f=void 0===s||s,p=(0,o.e7)([a.Z],(function(){return a.Z.useReducedMotion}));if(null==c)return null;switch(c){case l.Cj.SNOWGLOBE:t=function(){return n.e(529).then(n.t.bind(n,400529,19)).then((function(e){return e.default}))};break;case l.Cj.BOX:t=function(){return n.e(12773).then(n.t.bind(n,512773,19)).then((function(e){return e.default}))};break;case l.Cj.CUP:t=function(){return n.e(45684).then(n.t.bind(n,45684,19)).then((function(e){return e.default}))};break;default:throw new Error("Unexpected giftStyle ".concat(c))}return r.createElement(i.Z,{importData:t,shouldAnimate:!p&&f,className:u})}},237886:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(667294),o=n(294184),a=n.n(o),i=n(859169),l=n(64833),c=n(353192),u=n(191940),s=n(48843),f=n(685351),p=n(67416),d=n(932847),m=n(511515),E=n(716421),h=n(404244),v=n(298716),_=n(461061),y=n(959797),g=n(745576),b=n.n(g),O=n(545292),I=n.n(O);function N(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function T(e){var t=e.title,n=e.type,o=e.guildBoostProps,g=e.analyticsSource,O=e.analyticsLocation,T=e.body,A=e.context,S=e.glowUp,C=e.artContainerClassName,R=e.transitionState,P=e.onClose,L=e.onSubscribeClick,M=e.onSecondaryClick,w=e.secondaryCTA,Z=e.showNewBadge,D=void 0!==Z&&Z,x=e.enableArtBoxShadow,U=void 0===x||x,k=N(e,["title","type","guildBoostProps","analyticsSource","analyticsLocation","body","context","glowUp","artContainerClassName","transitionState","onClose","onSubscribeClick","onSecondaryClick","secondaryCTA","showNewBadge","enableArtBoxShadow"]),G=null!=o,B=null!=(0,m.N)()&&!G,j=(0,l.Z)(i.Z.PREMIUM_UPSELL_MODAL).analyticsLocations
;r.useEffect((function(){G?d.default.track(_.rMx.PREMIUM_GUILD_UPSELL_VIEWED,{type:"".concat(n," - Tier ").concat(o.boostedGuildTier),guild_id:o.guild.id,channel_id:o.channelId,location:O,location_stack:j}):d.default.track(_.rMx.PREMIUM_UPSELL_VIEWED,{type:n,source:g,location_stack:j})}),[G]);var F=U?a()(b().artContainer,b().artContainerBoxShadow,C):a()(b().artContainer,C),H=null;H="artURL"in k?r.createElement("img",{className:b().art,alt:"",src:k.artURL}):k.artElement;return r.createElement(p.Y0,{className:b().root,"aria-label":t,transitionState:R},r.createElement("div",{className:F},H,D?r.createElement("img",{className:b().sparkleBadge,alt:"",src:I()}):null),r.createElement(p.hz,{className:b().content},r.createElement(s.X,{className:b().header,variant:"heading-xl/medium"},t),B?r.createElement(r.Fragment,null,null!=A&&r.createElement(f.x,{className:b().context,variant:"text-md/normal"},A),r.createElement(h.dg,null,S)):r.createElement(f.x,{variant:"text-md/normal"
},T)),r.createElement(p.mz,{className:b().footer},r.createElement("div",{className:b().primaryActions},null!=w?r.createElement(u.Co,{className:b().secondaryAction,onClick:M,size:u.Co.Sizes.SMALL,color:u.Co.Colors.PRIMARY,look:u.Co.Looks.LINK},w):null,G?r.createElement(c.Z,{analyticsLocation:O,guild:o.guild,onClose:P}):r.createElement(E.Z,{premiumModalAnalyticsLocation:O,subscriptionTier:v.Si.TIER_2,size:u.Co.Sizes.SMALL,color:u.Co.Colors.GREEN,onClick:function(){null==L||L();P()},buttonText:B?y.Z.Messages.PREMIUM_TRIAL_CTA_BUTTON_VARIANT:void 0})),r.createElement(u.Co,{onClick:P,size:u.Co.Sizes.SMALL,color:u.Co.Colors.PRIMARY,look:u.Co.Looks.LINK},y.Z.Messages.BACK)))}},40188:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(667294),o=n(294184),a=n.n(o),i=n(738017),l=n(589175),c=n(39802),u=n(913165),s=n.n(u);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var _,y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}!function(e){e[e.ENTERING=0]="ENTERING";e[e.LEAVING=1]="LEAVING";e[e.APPEARING=2]="APPEARING";e[e.STATIC=3]="STATIC"}(_||(_={}));var b=function(e){m(n,e);var t=g(n);function n(){f(this,n);var e;(e=t.apply(this,arguments)).state={animationProgress:new i.Z.Value(0),
targetHeight:0,baseHeight:0,animationState:null};e.direction=e.props.getDirection();e._measureRef=r.createRef();return e}var o=n.prototype;o.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}};o.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)};o.componentWillAppear=function(e){this.setState({animationState:_.APPEARING});e()};o.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2);this.setState({animationState:_.STATIC,baseHeight:n})};o.componentWillEnter=function(e){var t=this.props.duration,n=this.state.animationProgress;this.setState({animationState:_.ENTERING});this.props.setHeight(this.state.targetHeight);i.Z.timing(n,{toValue:2,duration:t,delay:t/2}).start(e)};o.componentDidEnter=function(){this.setState({
animationState:_.STATIC})};o.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,o=n.getDirection;this.direction=o();this.setState({animationState:_.LEAVING});i.Z.timing(t,{toValue:0,duration:r}).start(e)};o.componentDidLeave=function(){this.setState({animationState:_.STATIC})};o.getAnimatedStyle=function(){var e,t,n=this.context.reducedMotion,r=this.props.fillParent,o=this.state,a=o.animationProgress,l=o.animationState,c=o.baseHeight,u=o.targetHeight,s=null!==(e=this.props.sideMargin)&&void 0!==e?e:0,f=null!==(t=this.props.verticalMargin)&&void 0!==t?t:0,d=l===_.LEAVING,m=l===_.ENTERING,h=(d?-1:1)*this.direction,v={overflow:m||d?"hidden":"visible",position:d?"absolute":void 0,top:d?f:void 0,left:d?s:void 0,right:d?s:void 0,bottom:d?f:void 0},y={transform:[{translateX:a.interpolate({inputRange:[0,2],outputRange:["".concat(150*h,"%"),"0%"],extrapolate:"clamp",easing:i.Z.Easing.inOut(i.Z.Easing.ease)})}]};return E(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({},v,n.enabled?null:y),{opacity:a.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:i.Z.Easing.inOut(i.Z.Easing.ease)}),height:m?a.interpolate({inputRange:[0,1],outputRange:[c,u],extrapolate:"clamp",easing:i.Z.Easing.inOut(i.Z.Easing.ease)}):r?"100%":"auto"})};o.render=function(){var e=this.props,t=e.fillParent,n=e.className,o=e.animatedNodeClassName,l=e.staticClassName,c=this.state.animationState;return t?r.createElement("div",{ref:this._measureRef,className:a()(s().measurementFill,n,p({},a()(s().measurementFillStatic,l),c===_.STATIC))},r.createElement(i.Z.div,{className:a()(s().animatedNode,o),style:this.getAnimatedStyle()
},this.props.children)):r.createElement("div",{ref:this._measureRef,className:a()(s().measurement,n)},r.createElement(i.Z.div,{className:a()(s().animatedNode,o),style:this.getAnimatedStyle()},this.props.children))};return n}(r.PureComponent);b.contextType=c.S;b.defaultProps={duration:300};var O=function(e){m(n,e);var t=g(n);function n(){f(this,n);var e;(e=t.apply(this,arguments)).stepHeights={};e.prevStep=null;e.prevSteps=[];e.getBaseHeight=function(){return null!=e.prevStep&&null!=e.stepHeights[e.prevStep]?e.stepHeights[e.prevStep]:0};e.getDirection=function(){var t=e.props,n=t.steps,r=t.step,o=null!=e.prevStep?n.indexOf(e.prevStep):-1,a=-1===o&&null!=e.prevStep?e.prevSteps.indexOf(e.prevStep):-1;return Math.max(o,a)>n.indexOf(r)?-1:1};e.setHeight=function(t){var n=e.props.step;e.stepHeights[n]=t};return e}var o=n.prototype;o.componentDidMount=function(){this.setPrevSteps()};o.componentDidUpdate=function(){this.setPrevSteps()};o.setPrevSteps=function(){
var e=this.props,t=e.step,n=e.steps;this.prevStep=t;this.prevSteps=n};o.render=function(){var e=this.props,t=e.step,n=e.className,o=e.innerClassName,i=e.animatedNodeClassName,c=e.staticClassName,u=e.sideMargin,f=e.verticalMargin,p=e.children,d=e.fillParent;return r.createElement(l.Z,{component:"div",className:a()(s().transitionGroup,n)},r.createElement(b,{key:"".concat(t),fillParent:d,sideMargin:u,verticalMargin:f,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,className:o,animatedNodeClassName:i,staticClassName:c,setHeight:this.setHeight},p))};return n}(r.Component);O.defaultProps={fillParent:!1}},111775:(e,t,n)=>{"use strict";n.d(t,{MK:()=>r,FF:()=>o,mx:()=>a,X2:()=>i,EW:()=>l});var r,o,a,i,l;!function(e){e.UNKNOWN="unknown";e.ANY="any";e.INVITE="invite";e.ORGANIC="organic_registration";e.ORGANIC_MARKETING="organic_marketing";e.ORGANIC_GUILD_TEMPLATES="organic_guild_template";e.CREATE_GUILD="create_guild"}(r||(r={}));!function(e){e.AGE_GATE="age_gate"
;e.AGE_GATE_UNDERAGE="age_gate_underage"}(o||(o={}));!function(e){e.CLAIM_ACCOUNT="claim_account";e.CLAIM_ACCOUNT_SUCCESS="claim_account_success"}(a||(a={}));!function(e){e.GUILD_TEMPLATES="guild_templates";e.GUILD_CREATE="guild_create";e.CREATION_INTENT="creation_intent";e.CHANNEL_PROMPT="channel_prompt";e.JOIN_GUILD="join_guild";e.SUCCESS="create_success"}(i||(i={}));!function(e){e.NUF_STARTED="nuf_started";e.AGE_GATE="age_gate";e.NUF_COMPLETE="nuf_complete";e.HUB_CONNECTION="hub_connection"}(l||(l={}))},162917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(185253),o=n(444450),a=n(832691),i=n(932847),l=n(111775),c=n(461061);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d(e){var t=function(e,t){
if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},E="UserFlowAnalyticsStore_current",h="UserFlowAnalyticsStore";new a.Z("UserFlowAnalytics");function v(e){if(e===l.MK.UNKNOWN)return null;var t=o.Z.get("".concat(h,"-").concat(e));if(null==t)return null;var n=t.version,r=p(t,["version"]);return 1!==n?null:r}var _=(0,r.Z)((function(e,t){return u({flows:{},currentFlow:null},"activeFlow",(function(){var e,n=null!==(e=t().currentFlow)&&void 0!==e?e:o.Z.get(E);if(null==n)return null;var r=t().flows[n],a=null!=r?r:v(n);return null!=(null==a?void 0:a.currentStep)?n:null}))}));_.subscribe((function(e){var t;if(null!=e){!function(e){if(e.type!==l.MK.UNKNOWN){
var t="".concat(h,"-").concat(e.type);if(e.ended){o.Z.remove(t);o.Z.remove(E)}else{o.Z.set("".concat(h,"-").concat(e.type),f(s({},e),{version:1}));o.Z.set(E,e.type)}}}(e);i.default.track(c.rMx.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null===(t=e.lastTimestamp)||void 0===t?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0});if(e.ended){var n=s({},_.getState().flows);delete n[e.type];_.setState({flows:n,currentFlow:null})}}}),(function(e){return null!=e.currentFlow?e.flows[e.currentFlow]:void 0}));function y(e,t){var n=_.getState().flows,r=n[e],o=p(n,[e].map(d)),a=null!=r?r:v(e);if(null!=(null==a?void 0:a.currentStep)){if(a.currentStep===t)return;0}_.setState({flows:f(s({},o),u({},e,{type:e,lastStep:null,lastTimestamp:null,currentStep:t,currentTimestamp:new Date,skipped:!1})),currentFlow:e})}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e
;if(e===l.MK.ANY){var o;r=null!==(o=_.getState().activeFlow())&&void 0!==o?o:l.MK.UNKNOWN}var a=_.getState().flows,i=a[r],c=p(a,[r].map(d)),m=null!=i?i:v(r);null!=m&&null!=m.currentStep&&m.currentStep!==t&&_.setState({flows:f(s({},c),u({},r,f(s({},m),{lastStep:m.currentStep,lastTimestamp:m.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:n}))),currentFlow:r})}function b(){return null!=_.getState().activeFlow()}const O={flowStart:y,flowStepOrStart:function(e,t){b()?g(e,t):y(e,t)},flowStep:g,hasActiveFlow:b}},333999:(e,t,n)=>{"use strict";n.d(t,{vG:()=>a,M0:()=>i,Od:()=>l});var r,o=n(959797),a="emails";!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips";e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements"}(r||(r={}));var i=[r.TIPS,r.RECOMMENDATIONS_AND_EVENTS,r.UPDATES_AND_ANNOUNCEMENTS],l=[{category:r.COMMUNICATION,label:function(){
return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:r.SOCIAL,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:r.UPDATES_AND_ANNOUNCEMENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:r.TIPS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:r.RECOMMENDATIONS_AND_EVENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}]},
451620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(730381),o=n.n(r),a=n(490640),i=n(418674),l=n(832377),c=n(298716);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var E=Object.freeze({PAYMENT_SOURCE_REQUIRED:1,EXISTING_PREMIUM_SUBSCRIPTION_DISALLOWED:2,NOT_SELF_REDEEMABLE:4}),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=m(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).userId=e.userId;r.code=e.code;r.skuId=e.skuId;r.uses=e.uses;r.maxUses=e.maxUses;r.expiresAt=e.expiresAt;r.redeemed=e.redeemed;r.storeListingId=e.storeListingId;r.subscriptionPlanId=e.subscriptionPlanId
;r.subscriptionPlan=e.subscriptionPlan;r.revoked=e.revoked;r.entitlementBranches=e.entitlementBranches;r.flags=e.flags;r.subscriptionTrial=e.subscriptionTrial;r.promotion=e.promotion;r.giftStyle=e.giftStyle;return r}var r=n.prototype;r.isExpired=function(){var e=this.expiresAt;return null!=e&&o()().isAfter(e)};r.toString=function(){return this.code};n.createFromServer=function(e){return new n({userId:null!=e.user?e.user.id:null,code:e.code,skuId:e.sku_id,uses:e.uses,maxUses:e.max_uses,storeListingId:null!=e.store_listing?e.store_listing.id:null,expiresAt:null!=e.expires_at?o()(e.expires_at):null,redeemed:e.redeemed,subscriptionPlanId:null!=e.subscription_plan?e.subscription_plan.id:e.subscription_plan_id,subscriptionPlan:null!=e.subscription_plan?l.Z.createFromServer(e.subscription_plan):null,revoked:!1,entitlementBranches:null!=e.entitlement_branches?e.entitlement_branches:null,flags:null!=e.flags?e.flags:0,giftStyle:e.gift_style,subscriptionTrial:null!=e.subscription_trial?{
id:e.subscription_trial.id,interval:e.subscription_trial.interval,intervalCount:e.subscription_trial.interval_count,skuId:e.subscription_trial.sku_id}:null,promotion:null!=e.promotion?{id:e.promotion.id,startDate:e.promotion.start_date,endDate:e.promotion.end_date,inboundHeaderText:e.promotion.inbound_header_text,inboundBodyText:e.promotion.inbound_body_text,inboundHelpCenterLink:e.promotion.inbound_help_center_link}:null})};!function(e,t,n){t&&u(e.prototype,t);n&&u(e,n)}(n,[{key:"hasMultipleCopies",get:function(){return this.maxUses>1}},{key:"isClaimed",get:function(){return this.uses>=this.maxUses}},{key:"remainingUses",get:function(){return this.maxUses-this.uses}},{key:"isSubscription",get:function(){return null!=this.subscriptionPlanId}},{key:"premiumSubscriptionType",get:function(){return this.isSubscription&&c.y7[this.skuId]||null}},{key:"isSelfRedeemable",get:function(){return!(0,i.yE)(this.flags,E.NOT_SELF_REDEEMABLE)}},{key:"isExistingPremiumSubscriptionDisallowed",
get:function(){return(0,i.yE)(this.flags,E.EXISTING_PREMIUM_SUBSCRIPTION_DISALLOWED)}},{key:"analyticsData",get:function(){return{gift_code:this.code,gift_code_max_uses:this.maxUses}}}]);return n}(a.Z)},774481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(667294),o=n(294184),a=n.n(o),i=n(487502),l=n(69850),c=n.n(l);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}function p(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){
d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var h=function(e){f(n,e);var t=E(n);function n(){u(this,n);var e;(e=t.apply(this,arguments)).setCodeBlockRef=function(t){e._codeBlockRef=t};e.handleKeyDown=function(t){var n=8===t.which||37===t.which||39===t.which,r=t.which>=48&&t.which<=57||t.keyCode>=96&&t.keyCode<=105;n||r||t.preventDefault();var o=e.props.onKeyDown;null==o||o(t)};e.handleChange=function(t){var n=e.props.onChange
;null==n||n(t.currentTarget.value)};return e}var o=n.prototype;o.render=function(){var e=this.props.className;return r.createElement("input",{ref:this.setCodeBlockRef,className:a()(c().input,e),maxLength:1,value:null!=this.props.code?this.props.code:void 0,autoFocus:this.props.autoFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange})};o.focus=function(){var e;null===(e=this._codeBlockRef)||void 0===e||e.focus()};o.blur=function(){var e;null===(e=this._codeBlockRef)||void 0===e||e.blur()};return n}(r.PureComponent);h.defaultProps={autoFocus:!1};var v=function(e){f(n,e);var t=E(n);function n(e){u(this,n);var r;(r=t.call(this,e))._codeBlockRefs=new Array(r.props.count);r.state={codes:new Array(e.count)};return r}var o=n.prototype;o.render=function(){for(var e=function(e){e===l.length/2&&u.push(r.createElement("div",{key:"spacer",className:c().spacer}));u.push(r.createElement(h,{ref:function(n){return t.setCodeBlockRef(e,n)},key:e,code:l[e],autoFocus:0===e,onChange:function(n){
return t.handleChange(e,n)},onKeyDown:function(n){return t.handleKeyDown(e,n)},className:a}))},t=this,n=this.props,o=n.className,a=n.inputClassName,l=this.state.codes,u=[],s=0;s<l.length;s++)e(s);return r.createElement(i.Z,{align:i.Z.Align.CENTER,justify:i.Z.Justify.CENTER,className:o},u)};o.setCodeBlockRef=function(e,t){this._codeBlockRefs[e]=t};o.handleChange=function(e,t){this.state.codes[e]=t;var n=this.getCodeOrFirstEmptyIndex();if("string"==typeof n)this.submit(n);else{var r=this._codeBlockRefs[n];null==r||r.focus()}};o.handleKeyDown=function(e,t){var n=this.state.codes;if(8===t.which&&e>0&&(null==n[e]||0===n[e].length)){var r=e-1;n[r]="";var o=this._codeBlockRefs[r];null==o||o.focus()}};o.getCodeOrFirstEmptyIndex=function(){for(var e=this.state.codes,t="",n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))return n;t+=e[n]}return t};o.submit=function(e){var t=this.props.onSubmit;null==t||t(e)};return n}(r.PureComponent);v.defaultProps={count:6};const _=v},304546:(e,t,n)=>{"use strict"
;n.d(t,{Z:()=>v});var r=n(667294),o=n(365523);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function u(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var m,E=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0
;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};!function(e){e.SVG="svg";e.CANVAS="canvas";e.HYBRID="hybrid"}(m||(m={}));var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&s(e,t)}(a,e);var t=d(a);function a(){l(this,a);var e;(e=t.apply(this,arguments)).animationRef=r.createRef();e.delayTimeout=new o.V7;e.handleComplete=function(){var t=e.props.onComplete;null!=t&&t()};return e}var c=a.prototype;c.componentDidMount=function(){var e,t=this;return(e=function(){var e,r,o,a,i,l,c,u,s,p,d;return E(this,(function(m){
switch(m.label){case 0:e=t.props,r=e.importData,o=e.loop,a=e.autoplay,i=e.delay,l=e.renderer,c=e.shouldAnimate;return[4,Promise.all([r(),n.e(11248).then(n.t.bind(n,211248,23))])];case 1:u=f.apply(void 0,[m.sent(),2]),s=u[0],p=u[1],d=p.default;if(null==t.animationRef.current)return[2];t.animation=d.loadAnimation({container:t.animationRef.current,renderer:l,loop:o,autoplay:a&&null==i&&c,animationData:s});null!=i?t.delayTimeout.start(i,(function(){t.animation.play()})):t.playOrPauseAnimation();t.animation.addEventListener("complete",t.handleComplete);return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,c,"next",e)}function c(e){i(a,r,o,l,c,"throw",e)}l(void 0)}))})()};c.componentDidUpdate=function(e){this.playOrPauseAnimation(e)};c.componentWillUnmount=function(){null!=this.animation&&this.animation.destroy();this.delayTimeout.stop()};c.playOrPauseAnimation=function(e){
if(null!=this.animation)if(!this.props.shouldAnimate||null!=e&&e.shouldAnimate){if(!this.props.shouldAnimate&&(null==e||e.shouldAnimate)){this.animation.pause();null!=this.props.pauseAtFrame&&this.animation.goToAndStop(this.props.pauseAtFrame,!0)}}else this.props.resetOnPlay?this.animation.goToAndPlay(0):this.animation.play()};c.render=function(){return r.createElement("div",{className:this.props.className,ref:this.animationRef})};return a}(r.Component);h.defaultProps={loop:!0,autoplay:!0,renderer:"svg",shouldAnimate:!0,resetOnPlay:!1};h.Renderers=m;const v=h},601465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(667294),o=n(294184),a=n.n(o),i=n(647446),l=n(392224),c=n(461061),u=n(959797),s=n(932440),f=n.n(s);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(){m=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function y(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var b,O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}!function(e){e.TOP="top";e.BOTTOM="bottom"}(b||(b={}));var N={container:function(e,t){var n=t.isDisabled;return v(h({},e),{cursor:n?"not-allowed":void 0,pointerEvents:void 0,fontSize:16,fontWeight:500})},control:function(e,t){var n=t.isDisabled,r=t.menuIsOpen;return v(h({},e),{backgroundColor:"var(--input-background)",borderColor:"var(--input-background)",opacity:n?.6:1,boxShadow:void 0,borderRadius:r?"4px 4px 0 0":"4px",minHeight:40,transition:"border 0.15s ease",cursor:n?"not-allowed":void 0,pointerEvents:n?"none":void 0,"&:hover":{borderColor:"var(--input-background)"}})},singleValue:function(e,t){var n=t.isDisabled;return v(h({},e),{color:"var(--interactive-normal)",opacity:n?.5:1})},
input:function(e){return v(h({},e),{color:"var(--interactive-normal)"})},menu:function(e){return v(h({},e),{backgroundColor:"var(--background-secondary)",border:"1px solid var(--background-tertiary)",borderRadius:"0 0 4px 4px",color:"var(--interactive-normal)",marginTop:-1,marginBottom:-1})},clearIndicator:function(e,t){var n=t.isDisabled;return v(h({},e),{color:"var(--interactive-normal)",cursor:n?void 0:"pointer",opacity:.3,padding:"8px 0",transform:"scale(0.8)",":hover":{color:"var(--text-danger)",opacity:1}})},indicatorsContainer:function(e){return v(h({},e),{alignItems:"flex-start"})},dropdownIndicator:function(e,t){var n=t.isDisabled;return v(h({},e),{color:"var(--interactive-normal)",cursor:n?void 0:"pointer",opacity:n?.3:1,padding:"8px 8px 8px 0",":hover":{color:"var(--interactive-hover)",opacity:n?.3:1}})},menuList:function(e){return v(h({},e),{padding:0,"&::-webkit-scrollbar":{width:8,padding:"0px 2px"},"&::-webkit-scrollbar-thumb":{
backgroundColor:"var(--scrollbar-thin-thumb)",border:"2px solid transparent",backgroundClip:"padding-box",borderRadius:4},"&::-webkit-scrollbar-track-piece":{backgroundColor:"transparent",borderColor:"transparent"}})},option:function(e,t){var n=t.isSelected,r=t.isFocused;return v(h({},e,n?{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}:r?{backgroundColor:"var(--background-modifier-hover)",color:"var(--interactive-hover)"}:{backgroundColor:"transparent",color:"var(--interactive-normal)"}),{cursor:"pointer",display:"flex",padding:12,alignItems:"center",minHeight:40,"&:active":{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}})},placeholder:function(e){return v(h({},e),{color:"var(--text-muted)"})}},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&g(e,t)}(n,e);var t=I(n);function n(){p(this,n);var e;(e=t.apply(this,arguments))._selectRef=r.createRef();e._containerRef=r.createRef();e.state={isFocused:!1,isOpen:!1};e.handleFocus=function(t){var n,r;e.setState({isFocused:!0});null===(r=(n=e.props).onFocus)||void 0===r||r.call(n,t)};e.handleBlur=function(t){var n,r;e.setState({isFocused:!1});null===(r=(n=e.props).onBlur)||void 0===r||r.call(n,t)};e.handleKeyDown=function(t){t.which===c.yXg.ESCAPE&&e.state.isOpen&&t.stopPropagation()};e.handleMenuOpen=function(){e.setState({isOpen:!0})};e.handleMenuClose=function(){e.setState({isOpen:!1})};return e}var o=n.prototype;o.focus=function(){var e;null===(e=this._selectRef.current)||void 0===e||e.focus()};o.render=function(){
var e=this.props,t=e.className,n=e.error,o=e.valueRenderer,c=e.optionRenderer,s=e.multiValueRenderer,p=e.options,E=e.value,v=e.autofocus,y=e.disabled,g=e.clearable,b=e.searchable,O=e.styleOverrides,I=e.isMulti,T=e.placeholder,A=h({},_(e,["className","error","valueRenderer","optionRenderer","multiValueRenderer","options","value","autofocus","disabled","clearable","searchable","styleOverrides","isMulti","placeholder"]));null!=v&&(A.autoFocus=v);null!=y&&(A.isDisabled=y);null!=g&&(A.isClearable=g);null!=b&&(A.isSearchable=b);var S={IndicatorSeparator:function(){return null}};null!=c&&(S.Option=function(e){return r.createElement(l.wx.Option,m({},e),c(e.data))});null!=o&&(S.SingleValue=function(e){return r.createElement(l.wx.SingleValue,m({},e),o(e.data))});null!=s&&(S.MultiValue=function(e){return s(e.data)});var C,R=null!=O?O:N;if(I&&Array.isArray(E)){var P={};p.forEach((function(e){P[String(e.value)]=e}));C=E.map((function(e){return P[String(e)]}))}else C=null!=E?p.find((function(e){
return e.value===E})):null;return r.createElement(i.tE,{focused:this.state.isFocused&&!this.state.isOpen,ringTarget:this._containerRef},r.createElement("div",{className:a()(f().select,t,d({},f().error,null!=n)),ref:this._containerRef},r.createElement(l.ZP,m({},A,{ref:this._selectRef,isMulti:I,components:S,options:p,styles:R,onFocus:this.handleFocus,onBlur:this.handleBlur,onMenuOpen:this.handleMenuOpen,onMenuClose:this.handleMenuClose,value:C,onKeyDown:this.handleKeyDown,placeholder:null!=T?T:u.Z.Messages.SELECT,noOptionsMessage:function(){return u.Z.Messages.NO_RESULTS_FOUND}})),null!=n?r.createElement("div",{className:f().errorMessage},n):null))};return n}(r.Component);T.MenuPlacements=b},908570:(e,t,n)=>{"use strict";n.d(t,{Dx:()=>R,DK:()=>P,Ee:()=>L,zx:()=>M,qE:()=>w,Vj:()=>Z,MC:()=>D,II:()=>x,gO:()=>U,i_:()=>k,Hh:()=>G,EJ:()=>B,jQ:()=>j,v6:()=>F,ZP:()=>H})
;var r=n(667294),o=n(294184),a=n.n(o),i=n(125628),l=n(191940),c=n(487502),u=n(969225),s=n(48843),f=n(685351),p=n(801593),d=n(272729),m=n(983319),E=n(604175),h=n(918513),v=n(766936),_=n(503280),y=n(95467),g=n(170729),b=n(461061),O=n(959797),I=n(385994),N=n.n(I);function T(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var C=v.ZP;null==C&&(C=function(){
return null});var R=function(e){var t=e.className,n=e.id,o=e.children;return r.createElement(s.X,{variant:"heading-xl/medium",color:"header-primary",className:a()(N().title,t),id:n},o)},P=function(e){var t=e.className,n=e.children;return r.createElement(f.x,{variant:"text-md/normal",color:"header-secondary",className:t},n)},L=function(e){var t=e.className,n=e.src;return r.createElement("img",{alt:"",src:n,className:a()(N().image,t)})},M=function(e){var t,n=e.className,o=S(e,["className"]),i=o.look===l.Co.Looks.LINK;return r.createElement(l.Co,A({size:i?l.Co.Sizes.MIN:l.Co.Sizes.LARGE,fullWidth:!i,className:a()(n,(t={},T(t,N().button,!i),T(t,N().linkButton,i),t))},o))};M.Looks=l.Co.Looks;M.Colors=l.Co.Colors;M.Sizes=l.Co.Sizes;var w=function(e){var t=e.className,n=e.src,o=e.size;return r.createElement(C,{src:n,size:o,className:a()(N().inviteLargeIcon,t),"aria-hidden":!0})};w.Sizes=C.Sizes;var Z=function(e){var t=e.guild,n=e.size,o=e.animate,a=void 0!==o&&o;return r.createElement(u.Z,{
active:!0,guild:t,size:n,animate:a})};Z.Sizes=u.Z.Sizes;var D=function(e){var t=e.className,n=e.channel,o=e.size;return r.createElement(C,{src:(0,i.x)(n),size:o,className:a()(N().inviteIcon,t),"aria-hidden":!0})};D.Sizes=C.Sizes;var x=function(e){var t=e.label,n=e.error,o=e.placeholder,i=e.value,l=e.className,c=e.inputClassName,u=e.setRef,s=e.type,f=void 0===s?"text":s,h=e.onChange,v=e.autoComplete,_=e.autoFocus,y=e.maxLength,g=e.spellCheck,b=e.name,O=e.description,I=e.required,A=(0,d.Dt)();return r.createElement(m.Z,{title:t,error:n,className:l,required:I,tag:m.Z.Tags.LABEL,htmlFor:A},r.createElement(p.ZP,{name:b,type:f,value:i,inputRef:u,placeholder:o,inputClassName:a()(c,T({},N().inputError,null!=n)),"aria-label":t,onChange:h,autoComplete:v,autoFocus:_,maxLength:y,spellCheck:g,id:A}),null!=O?r.createElement(E.Z,{type:E.Z.Types.DESCRIPTION,className:N().description},O):null)},U=function(e){var t=e.className,n=e.children;return r.createElement("div",{className:a()(N().block,t)},n)
},k=function(e){var t=e.className,n=e.children,o=e.isProminent;return r.createElement(f.x,{variant:o?"text-sm/normal":"text-xs/normal",className:a()(N().subText,t)},n)},G=function(e){var t=e.className;return r.createElement(c.Z,{direction:c.Z.Direction.VERTICAL,align:c.Z.Align.CENTER,className:t},r.createElement(h.Z,{className:N().spinnerVideo}))},B=function(e){var t,n=e.online,o=e.total,i=e.className,l=e.flat,u=e.textClassName;if(null==o)return null;null!=n&&n>0&&(t=r.createElement("div",{className:a()(N().pill,N().pillOnline,l&&N().pillFlat)},r.createElement("i",{className:N().pillIconOnline}),r.createElement(f.x,{tag:"span",className:a()(N().pillMessage,u),variant:"text-sm/normal"},O.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n}))));return r.createElement(c.Z,{justify:c.Z.Justify.CENTER,className:i},t,r.createElement("div",{className:a()(N().pill,l&&N().pillFlat)},r.createElement("i",{className:N().pillIconTotal}),r.createElement(f.x,{tag:"span",
className:a()(N().pillMessage,u),variant:"text-sm/normal"},O.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:o}))))},j=function(e){var t=e.user;return null==t?null:r.createElement("div",{className:N().joiningAs},r.createElement(f.x,{tag:"span",variant:"text-md/normal",color:"header-secondary"},O.Z.Messages.MULTI_ACCOUNT_SERVER_INVITE_JOINING_AS),r.createElement(w,{className:N().joiningAsAvatar,src:t.getAvatarURL(void 0,24),size:w.Sizes.SIZE_24,"aria-label":t.username}),r.createElement(f.x,{className:N().joiningAsUsername,tag:"span",variant:"text-md/semibold",color:"header-primary"},t.username))},F=function(e){var t=e.className;return r.createElement(U,{className:t},r.createElement(M,{onClick:function(){return window.open((0,_.t3)())}},O.Z.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:(0,_.DW)()})),r.createElement(k,{className:N().downloadButtonSubtext},O.Z.Messages.INCOMPATIBLE_BROWSER.format({supportedBrowserURL:y.Z.getArticleURL(b.BhN.SUPPORTED_BROWSERS)})))}
;const H=function(e){var t=e.className,n=e.contentClassName,o=e.tag,i=void 0===o?"section":o,l=e.onSubmit,c=e.children,u=e.expanded,s=void 0!==u&&u,f=e.theme,p=void 0===f?b.BRd.DARK:f,d=e.style;return r.createElement(i,{onSubmit:l,style:d,className:a()(s?N().authBoxExpanded:N().authBox,(0,g.Q)(p),t)},r.createElement("div",{className:a()(N().centeringWrapper,n)},c))}},401386:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=n(667294).createContext({disableInteractions:!1,disableAnimations:!1})},15063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(667294),o=n(294184),a=n.n(o),i=n(416983),l=n.n(i);function c(e){var t=e.className,n=e.style;return r.createElement("div",{className:a()(l().divider,t),style:n})}},941460:(e,t,n)=>{"use strict";n.d(t,{Yk:()=>E,HI:()=>h,ZP:()=>_});var r=n(667294),o=n(294184),a=n.n(o),i=n(624387),l=n(487502),c=n(604175),u=n(962271),s=n(259957),f=n.n(s);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var E=i.Z.Types,h={LEFT:"left",RIGHT:"right"},v=function(e){var t,n,o=e.type,s=void 0===o?i.Z.Types.DANGER:o,E=e.imageData,v=e.button,_=e.className,y=e.iconClassName,g=e.title,b=e.body,O=e.style,I=e.align,N=void 0===I?l.Z.Align.START:I,T=l.Z.Direction.HORIZONTAL;if(null!=E){var A=E.position,S=m(E,["position"]);t=r.createElement(l.Z.Child,{grow:0,shrink:0},r.createElement("img",d({alt:"",
className:a()(f().icon,y)},S)));A===h.RIGHT&&(T=l.Z.Direction.HORIZONTAL_REVERSE)}else null!=v&&(n=v);var C=!0;s===i.Z.Types.PRIMARY&&(C=!1);return r.createElement(i.Z,{className:a()(f().formNotice,_),type:s,style:O},r.createElement(l.Z,{direction:T,align:N},t,r.createElement(l.Z.Child,null,null!=g&&""!==g?r.createElement(u.Z,{tag:u.$.H5,className:a()(f().formNoticeTitle,p({},f().whiteText,C)),faded:!0},g):null,r.createElement(c.Z,{className:a()(f().formNoticeBody,p({},f().whiteText,C))},b),n)))};v.Types=i.Z.Types;const _=v},880680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),o=n(94813),a=n(272729),i=n(881186),l=n(962271),c=n(671351),u=n.n(c);function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var f=function(e){var t,n=e.children,c=e.className,f=e.titleClassName,p=e.title,d=e.icon,m=e.disabled,E=e.htmlFor,h=e.tag,v=void 0===h?l.Z.Tags.H5:h,_=s(e,["children","className","titleClassName","title","icon","disabled","htmlFor","tag"]),y=(0,a.Dt)(),g=null!==(t=_.titleId)&&void 0!==t?t:y;return null!=p?r.createElement("div",{className:c},r.createElement(o.y,{component:r.createElement("div",{className:u().sectionTitle},d,null!=p?r.createElement(l.Z,{tag:v,id:g,htmlFor:E,disabled:m,className:f},p):null)},r.createElement("div",{className:u().children},r.createElement(i.ol,{titleId:g},n)))):r.createElement("div",{className:c},n)};f.Tags=l.$;const p=f},604175:(e,t,n)=>{"use strict";n.d(t,{Y:()=>f,Z:()=>h});var r=n(667294),o=n(294184),a=n.n(o),i=n(462428),l=n(638803),c=n.n(l);function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var f={DEFAULT:"default",INPUT_PLACEHOLDER:"placeholder",DESCRIPTION:"description",LABEL_BOLD:"labelBold",LABEL_SELECTED:"labelSelected",LABEL_DESCRIPTOR:"labelDescriptor",ERROR:"error",SUCCESS:"success"},p="modeDefault",d="modeDisabled",m="modeSelectable",E=function(e){var t=e.type,n=void 0===t?f.DEFAULT:t,o=e.className,l=e.disabled,E=e.selectable,h=e.children,v=e.style,_=s(e,["type","className","disabled","selectable","children","style"]),y=p;l?y=d:E&&(y=m);return r.createElement(i.Z,u({
className:a()(c()[n],o,c()[y]),style:v},_),h)};E.Types=f;const h=E},562181:(e,t,n)=>{"use strict";n.d(t,{$i:()=>r.Z,xJ:()=>o.Z,To:()=>a.ZP,Sw:()=>a.HI,Dd:()=>a.Yk,hj:()=>i.Z,R9:()=>l.Z,ge:()=>l.Y,vw:()=>c.Z,RB:()=>c.$});var r=n(15063),o=n(983319);n(667294),n(294184),n(747465),n(462428),n(959797),n(714706);var a=n(941460),i=n(880680),l=n(604175),c=n(962271)},449223:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(667294),o=n(240243);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,c=void 0===l?24:l,u=e.color,s=void 0===u?"currentColor":u,f=e.foreground,p=i(e,["width","height","color","foreground"]);return r.createElement("svg",a({},(0,o.Z)(p),{width:n,height:c,viewBox:"0 0 24 24"}),r.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M12 2.00305C6.486 2.00305 2 6.48805 2 12.0031V20.0031C2 21.1071 2.895 22.0031 4 22.0031H6C7.104 22.0031 8 21.1071 8 20.0031V17.0031C8 15.8991 7.104 15.0031 6 15.0031H4V12.0031C4 7.59105 7.589 4.00305 12 4.00305C16.411 4.00305 20 7.59105 20 12.0031V15.0031H18C16.896 15.0031 16 15.8991 16 17.0031V20.0031C16 21.1071 16.896 22.0031 18 22.0031H20C21.104 22.0031 22 21.1071 22 20.0031V12.0031C22 6.48805 17.514 2.00305 12 2.00305Z",className:f,fill:s})))}},554434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(667294),o=n(240243);function a(){
a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?106:t,l=e.height,c=void 0===l?26:l,u=e.color,s=void 0===u?"currentColor":u,f=e.foreground,p=i(e,["width","height","color","foreground"]);return r.createElement("svg",a({},(0,o.Z)(p),{width:n,height:c,viewBox:"0 0 106 26"}),r.createElement("title",null,"Nitro"),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{className:f,fill:s,
d:"M98.8266537 8.64800265L97.5788372 17.0822416C97.2940433 19.0754982 95.0485266 20.0010292 92.981582 20.0010292 91.0571496 20.0010292 89.1680861 19.0754982 89.4175111 17.2605602L90.6652125 8.64800265C90.9501215 6.76162212 93.1956383 5.80077257 95.2624676 5.80077257 97.3294121 5.80077257 99.1115628 6.76162212 98.8266537 8.64800265M96.2496839.0038079646L96.2503751.0000115044248 82.8208233.0000115044248C82.4777342.0000115044248 82.1864887.251383186 82.1368341.59030354L81.4839511 5.04596726C81.4228909 5.46254248 81.7462794 5.83609115 82.167825 5.83609115L84.6202551 5.83609115C84.8670304 5.83609115 85.0355795 6.08734779 84.9386897 6.31398496 84.6326976 7.03036549 84.4097703 7.8080646 84.2859219 8.64800265L83.0381053 17.2605602C82.2182861 23.0258876 87.0301735 25.9085513 92.2687909 25.9085513 97.7574094 25.9085513 103.139115 23.0258876 103.958934 17.2605602L105.206059 8.64800265C106.009634 2.99656903 101.367679.115400885 96.2496839.0038079646M15.5778562 11.7941867L15.6467505 15.9747796C15.648133 16.0607177 15.5902986 16.1363018 15.5068881 16.1574699L15.5067729 16.1574699 14.0843013 11.1148504C14.0822275 11.1071425 14.0795777 11.0996646 14.0763519 11.0923018L9.66308376.775018584C9.55432753.520885841 9.30421123.355912389 9.0273667.355912389L4.02607753.355912389C3.68126035.355912389 3.38920838.6097 3.34151232.950576106L.00682030635 24.7668062C-.0513596718 25.1820009.271568009 25.5526735.691385514 25.5526735L5.67355018 25.5526735C6.01882818 25.5526735 6.31122578 25.2981956 6.3583458 24.9566292L7.6643423 15.4949301C7.66560958 15.4857265 7.66618562 15.4762929 7.66607042 15.4669743L7.59475674 10.6052044 7.73715368 10.5697708 9.23116943 15.6125053C9.23335838 15.6196381 9.23589295 15.6267708 9.23888836 15.6336735L13.3663258 25.1370186C13.4758885 25.3893106 13.7250831 25.5526735 14.0004299 25.5526735L19.39573 25.5526735C19.7405472 25.5526735 20.0325992 25.2988858 20.0802953 24.9580097L23.4156785 1.14177965C23.4738585.726584956 23.1509308.355912389 22.7311133.355912389L17.782935.355912389C17.438233.355912389 17.146181.609469912 17.0983698.950346018L15.5795843 11.7654257C15.578317 11.7749743 15.577741 11.784523 15.5778562 11.7941867M25.2200758 25.5526274L30.2035078 25.5526274C30.5483249 25.5526274 30.8403769 25.2989549 30.888073 24.9579637L34.222765 1.14184867C34.280945.726653982 33.9580173.355981416 33.5381998.355981416L28.5547678.355981416C28.2100659.355981416 27.9180139.609653982 27.8702026.950645133L24.5355106 24.7667602C24.4773306 25.1819549 24.8002583 25.5526274 25.2200758 25.5526274M37.588782.910862832L36.9357838 5.3664115C36.8748388 5.78298673 37.1982273 6.15665044 37.6197729 6.15665044L42.8344271 6.15665044C43.2536686 6.15665044 43.5763658 6.52628761 43.5192227 6.94102212L41.0626451 24.7682788C41.005502 25.1830133 41.3281993 25.5526504 41.7474408 25.5526504L46.8027624 25.5526504C47.1481556 25.5526504 47.4405532 25.2980575 47.4875581 24.9564912L49.9960944 6.75280973C50.0430992 6.41112832 50.3354968 6.15665044 50.68089 6.15665044L56.2874814 6.15665044C56.6305704 6.15665044 56.9217007 5.90539381 56.9714705 5.56635841L57.6249296 1.11080973C57.6859898.694234513 57.3626013.320570796 56.9409404.320570796L38.2727712.320570796C37.9296821.320570796 37.6384366.571827434 37.588782.910862832M72.9157339 9.14614425C72.7371616 10.6051354 71.5970645 12.0642416 69.6364568 12.0642416L66.6908218 12.0642416C66.2704283 12.0642416 65.9472702 11.6925336 66.0063718 11.2768788L66.6298768 6.8920823C66.6782642 6.55178142 66.9700857 6.29891416 67.3143268 6.29891416L70.4562761 6.29891416C72.3453396 6.29891416 73.0936148 7.61571062 72.9157339 9.14614425M71.1691824.355958407L61.6845787.355958407C61.3397615.355958407 61.0477096.609630973 60.9998983.950622124L57.6652063 24.7667372C57.6070263 25.1819319 57.929954 25.5526044 58.3497715 25.5526044L63.4034802 25.5526044C63.7487582 25.5526044 64.0411558 25.2981265 64.0882759 24.9565602L65.0696166 17.8430292C65.0932342 17.6723035 65.2393178 17.5450646 65.4120144 17.5450646L66.0616716 17.5450646C66.1795293 17.5450646 66.2893224 17.6050027 66.3528019 17.7041708L71.1792055 25.2345071C71.3062798 25.4327283 71.5256356 25.5526044 71.7613509 25.5526044L78.0034289 25.5526044C78.5625328 25.5526044 78.8902992 24.9242327 78.5697909 24.4667018L73.5050221 17.2370912C73.383593 17.0637195 73.4460357 16.8224717 73.6364743 16.729631 76.8698986 15.1516841 78.7475566 13.5351973 79.3665685 9.03926814 80.0787836 3.13174602 76.3728918.355958407 71.1691824.355958407"
})))}},557328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(667294),o=n(240243);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,c=void 0===l?24:l,u=e.color,s=void 0===u?"currentColor":u,f=e.foreground,p=i(e,["width","height","color","foreground"]);return r.createElement("svg",a({},(0,o.Z)(p),{width:n,height:c,viewBox:"0 0 24 24"}),r.createElement("path",{fill:s,className:f,fillRule:"evenodd",
clipRule:"evenodd",d:"M7 12.001C7 10.8964 6.10457 10.001 5 10.001C3.89543 10.001 3 10.8964 3 12.001C3 13.1055 3.89543 14.001 5 14.001C6.10457 14.001 7 13.1055 7 12.001ZM14 12.001C14 10.8964 13.1046 10.001 12 10.001C10.8954 10.001 10 10.8964 10 12.001C10 13.1055 10.8954 14.001 12 14.001C13.1046 14.001 14 13.1055 14 12.001ZM19 10.001C20.1046 10.001 21 10.8964 21 12.001C21 13.1055 20.1046 14.001 19 14.001C17.8954 14.001 17 13.1055 17 12.001C17 10.8964 17.8954 10.001 19 10.001Z"}))}},462428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(667294),o=n(294184),a=n.n(o),i=n(588772),l=n.n(i),c=n(932629),u=n.n(c);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var d=Object.freeze({STANDARD:l().colorStandard,MUTED:l().colorMuted,ERROR:l().colorError,BRAND:l().colorBrand,LINK:l().colorLink,HEADER_PRIMARY:l().colorHeaderPrimary,HEADER_SECONDARY:l().colorHeaderSecondary,STATUS_YELLOW:l().colorStatusYellow,STATUS_GREEN:l().colorStatusGreen,STATUS_RED:l().colorStatusRed,INTERACTIVE_ACTIVE:l().colorInteractiveActive,INTERACTIVE_NORMAL:l().colorInteractiveNormal,ALWAYS_WHITE:l().colorWhite,CUSTOM:null}),m=Object.freeze({SIZE_10:u().size10,SIZE_12:u().size12,SIZE_14:u().size14,SIZE_16:u().size16,SIZE_20:u().size20,SIZE_24:u().size24,SIZE_32:u().size32}),E=function(e){
var t,n=e.className,o=e.color,i=void 0===o?d.STANDARD:o,c=e.size,u=void 0===c?m.SIZE_14:c,E=e.tag,h=void 0===E?"div":E,v=e.selectable,_=void 0!==v&&v,y=e.strong,g=void 0!==y&&y,b=e.children,O=e.style,I=e["aria-label"],N=p(e,["className","color","size","tag","selectable","strong","children","style","aria-label"]);return r.createElement(h,f({"aria-label":I,className:a()(i,u,n,(t={},s(t,l().selectable,_),s(t,l().strong,g),t)),style:O},N),b)};E.Colors=d;E.Sizes=m;const h=E},918513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var r=n(667294),o=n(730381),a=n.n(o),i=n(39802),l=n(956299),c=n(201930),u=n(745920),s=n.n(u),f=n(894919),p=n.n(f),d=n(665369),m=n.n(d),E=n(978476),h=n.n(E),v=n(109813),_=n(461061),y=n(55146),g=n.n(y),b=n(485618),O=n.n(b),I=n(161693),N=n.n(I),T=n(28743),A=n.n(T),S=n(106632),C=n.n(S),R=n(858739),P=n.n(R),L=n(172129),M=n.n(L),w=n(243874),Z=n.n(w),D=n(537020),x=n.n(D),U=n(88070),k=n.n(U);function G(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function B(e){var t,n=e.movDark,o=void 0===n?s():n,a=e.movLight,i=void 0===a?p():a,l=e.mp4Dark,u=void 0===l?N():l,f=e.mp4Light,d=void 0===f?P():f,m=e.pngDark,E=void 0===m?A():m,h=e.pngLight,v=void 0===h?M():h,y=e.webmDark,g=void 0===y?C():y,b=e.webmLight,O=void 0===b?Z():b,I=(0,c.vu)(),T=[r.createElement("source",{key:"mp4",src:u,type:"video/mp4"}),r.createElement("img",{alt:"",key:"png",src:E})],S=[r.createElement("source",{key:"mp4",src:d,type:"video/mp4"}),r.createElement("img",{alt:"",key:"png",src:v})];if(I>52||-1===I){T.unshift(r.createElement("source",{key:"webm",src:g,type:"video/webm"}));S.unshift(r.createElement("source",{key:"webm",src:O,type:"video/webm"}))}if(function(){var e,t=window.navigator,n=t.userAgent.toLowerCase(),r=null!=(null===(e=t.mediaCapabilities)||void 0===e?void 0:e.decodingInfo);return-1!==n.indexOf("safari")&&!(-1!==n.indexOf("chrome"))&&-1!==n.indexOf("version/")&&r}()){T.unshift(r.createElement("source",{key:"hevc",src:o,
type:"video/mp4"}));S.unshift(r.createElement("source",{key:"hevc",src:i,type:"video/mp4"}))}return G(t={},_.BRd.DARK,T),G(t,_.BRd.LIGHT,S),t}var j=a()("5/13/2022 10:00 -0800").valueOf(),F=a()("5/16/2022 17:00 -0800").valueOf(),H=B({webmDark:g(),webmLight:O()}),V=a()("10/24/2022 08:00 -0800").valueOf(),z=a()("11/3/2022 11:00 -0800").valueOf(),K=B({webmDark:x(),webmLight:k(),movDark:m(),movLight:h()}),W=B({});const Y=function(e){var t,n=e.loop,o=void 0===n||n,a=e.autoPlay,c=void 0===a||a,u=e.setRef,s=e.className,f=e.onReady,p=r.useContext(l.Z),d=r.useContext(i.S).reducedMotion,m=Date.now(),E=W;m>=j&&m<=F?E=H:m>=V&&m<=z&&(E=K);return r.createElement(v.Z,{key:p,ref:u,onLoadedData:f,className:s,loop:!d.enabled&&o,autoPlay:!d.enabled&&c,playsInline:!0,"data-testid":"app-spinner"},null!==(t=E[p])&&void 0!==t?t:E[_.BRd.DARK])}},503280:(e,t,n)=>{"use strict";n.d(t,{w4:()=>g,DW:()=>O,t3:()=>I,Gn:()=>N});var r,o=n(131795),a=n.n(o),i=n(531286),l=n(631134),c=n(461061);function u(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var s="Ubuntu",f="Debian",p="Fedora",d="Red Hat",m="SuSE",E="Linux",h="OS X",v="win",_="osx",y="linux";function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=t?"/ptb":"",o=null!=n?"&format=".concat(n):"";return"".concat(c.fzT.DESKTOP).concat(r,"?platform=").concat(e).concat(o)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(r=a().os)||void 0===r?void 0:r.family;return null==e?v:-1!==e.indexOf(s)||-1!==e.indexOf(f)||-1!==e.indexOf(p)||-1!==e.indexOf(d)||-1!==e.indexOf(m)||-1!==e.indexOf(E)?y:-1!==e.indexOf(h)?_:v}function O(e){var t;return(u(t={},v,"Windows"),u(t,_,"Mac"),u(t,y,"Linux"),t)[b(e)]}function I(){var e=b();return g(e,!1,e===y?"tar.gz":null)}function N(e,t,n){var r=null!=n?n.toString():null;switch(t){case"iOS":return(0,
i.ZP)(null!=r?r:"https://itunes.apple.com/us/app/discord-chat-for-games/id985746746",{utmSource:e,fingerprint:l.default.getFingerprint(),attemptId:(0,i.WS)()});case"Android":return(0,i.ZP)(null!=r?r:"https://play.google.com/store/apps/details",{utmSource:e,id:"com.discord",fingerprint:l.default.getFingerprint(),attemptId:(0,i.WS)()});default:return null!=r?r:"https://www.qpq.deno.dev"}}},802616:(e,t,n)=>{"use strict";n.d(t,{aB:()=>u,ZP:()=>s});var r=n(496486),o=n.n(r);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=new(n(832691).Z)("DragAndDropUtils");function c(e){var t=e.oldOrdering,n=e.newOrdering,r=e.idGetter,o=e.existingPositionGetter,a=e.ascending,i=void 0===a||a,c=n.length;if(t.length!==c){l.warn("Arrays are not of the same length!",t,n);return[]}var u=t.map(r).sort().join(":"),s=n.map(r).sort().join(":");if(u!==s){l.warn("Object IDs in the old ordering and the new ordering are not the same.",u,s);return[]}for(var f={},p=0;p<c;p++)f[r(t[p])]=o(t[p]);for(var d=[],m=0;m<c;m++){var E=r(n[m]),h=i?m:c-1-m;f[E]===h&&o(n[m])===h||d.push({id:E,position:h})}i||d.reverse();return d}function u(e,t,n){var r=e[t],o=i(e);o.splice(t,1);o.splice(n,0,r);return o}const s={moveItemFromTo:u,calculatePositionDeltas:c,
getPositionUpdates:function(e){var t=e.objectArray,n=e.fromPosition,r=e.toPosition,a=e.idGetter,i=e.existingPositionGetter,l=e.ascending,s=void 0===l||l;Array.isArray(t)||(t=o().values(t));return c({oldOrdering:t,newOrdering:u(t,n,r),idGetter:a,existingPositionGetter:i,ascending:s})}}},862325:(e,t,n)=>{"use strict";n.d(t,{yb:()=>u,R4:()=>s,GY:()=>f,oE:()=>p});var r=n(441143),o=n.n(r),a=n(174034),i=n(916957),l=n(461061),c=n(298716);function u(e){return function(e){return e.items.map((function(e){var t=i.Z.get(e.planId);o()(null!=t,"Unable to fetch plan");return t}))}(e).map((function(e){return e.skuId}))}function s(e,t,n){var r=e.getCurrentSubscriptionPlanIdForGroup(n);if(e.type===l.NYc.PREMIUM&&null==r)return!0;o()(null!=r,"Current subscription has no plan in group");o()(!(r===c.Xh.PREMIUM_YEAR_TIER_1&&t===c.Xh.PREMIUM_MONTH_TIER_2),"Unexpected plan switch");return n.indexOf(r)<n.indexOf(t)}function f(e,t,n){return!s(e,t,n)}function p(e,t){var n=i.Z.get(e);if(null==n){var r=c.GP[e]
;o()(null!=r,"Missing hardcoded subscriptionPlan: ".concat(e));var l=r.skuId;i.Z.isFetchingForSKU(l)||(0,a.GZ)(l,t)}return n}},99456:(e,t,n)=>{"use strict";n.d(t,{T:()=>s,s:()=>f});var r=n(772731),o=n(655695),a=n(631134),i=n(742269),l=n(461061);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s=i.FB?l.dG4:function(e,t){if(!(0,o.DB)())return r.default.request(l.Etm.DEEP_LINK,{type:e,params:t})},f=i.FB?l.dG4:function(e,t){
if(!a.default.isAuthenticated())return s(e,u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}({},t||{}),{fingerprint:a.default.getFingerprint()}))}},155205:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(667294),o=n(791462),a=n(35599),i=n(426217);function l(){var e=r.useContext(a.ZP).windowId;return(0,o.e7)([i.Z],(function(){return i.Z.isFocused(e)}),[e])}},193197:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(667294);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function i(e,t){
return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}var s="file-input",f=function(e){return{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:e?"not-allowed":"pointer",fontSize:0}},p=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=u(n);function n(){o(this,n);var e;(e=t.apply(this,arguments))._input=null;e.activateUploadDialogue=function(){e.props.embedded?e.handleNativeClick():e._input&&e._input.click()};e.handleNativeClick=function(){e.props.handleNativeClick&&e.props.handleNativeClick(e.props)};e.handleNativeKeyDown=function(t){" "!==t.key&&"Enter"!==t.key||e.handleNativeClick()};e.handleBrowserInputMouseDown=function(e){e.currentTarget.value=null};return e}n.prototype.render=function(){var e=this,t=this.props,n=t.disabled,o=t.tabIndex,a=t.className,i=t.name,l=t["aria-label"],c=t["aria-hidden"];if(this.props.embedded)return r.createElement("div",{role:"button",style:f(n),className:a||s,tabIndex:o,onKeyDown:n?void 0:this.handleNativeKeyDown,onClick:n?void 0:this.handleNativeClick,
"aria-disabled":n,"aria-label":l,"aria-hidden":c||void 0});var u="";this.props.filters&&(u=this.props.filters.map((function(e){return e.extensions.map((function(e){return".".concat(e)})).join(",")})).join(","));return r.createElement("input",{style:f(n),className:a||s,disabled:n,type:"file",tabIndex:o,onMouseDown:this.handleBrowserInputMouseDown,onChange:this.props.onChange,multiple:this.props.multiple,accept:u,name:i,"aria-label":l,"aria-hidden":c||void 0,ref:function(t){return e._input=t}})};return n}(r.Component);p.defaultProps={multiple:!1,disabled:!1,tabIndex:0};const d=p},970112:(e,t,n)=>{"use strict";n.d(t,{Ue:()=>_,U2:()=>y});function r(e){const t="==".slice(0,(4-e.length%4)%4),n=e.replace(/-/g,"+").replace(/_/g,"/")+t,r=atob(n),o=new ArrayBuffer(r.length),a=new Uint8Array(o);for(let e=0;e<r.length;e++)a[e]=r.charCodeAt(e);return o}function o(e){const t=new Uint8Array(e);let n="";for(const e of t)n+=String.fromCharCode(e)
;return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var a="copy",i="convert";function l(e,t,n){if(t===a)return n;if(t===i)return e(n);if(t instanceof Array)return n.map((n=>l(e,t[0],n)));if(t instanceof Object){const r={};for(const[o,a]of Object.entries(t)){if(a.derive){const e=a.derive(n);void 0!==e&&(n[o]=e)}if(o in n)null!=n[o]?r[o]=l(e,a.schema,n[o]):r[o]=null;else if(a.required)throw new Error(`Missing key: ${o}`)}return r}}function c(e,t){return{required:!0,schema:e,derive:t}}function u(e){return{required:!0,schema:e}}function s(e){return{required:!1,schema:e}}var f={type:u(a),id:u(i),transports:s(a)},p={appid:s(a),appidExclude:s(a),credProps:s(a)},d={appid:s(a),appidExclude:s(a),credProps:s(a)},m={publicKey:u({rp:u(a),user:u({id:u(i),name:u(a),displayName:u(a)}),challenge:u(i),pubKeyCredParams:u(a),timeout:s(a),excludeCredentials:s([f]),authenticatorSelection:s(a),attestation:s(a),extensions:s(p)}),signal:s(a)},E={type:u(a),id:u(a),rawId:u(i),
authenticatorAttachment:s(a),response:u({clientDataJSON:u(i),attestationObject:u(i),transports:c(a,(e=>{var t;return(null==(t=e.getTransports)?void 0:t.call(e))||[]}))}),clientExtensionResults:c(d,(e=>e.getClientExtensionResults()))},h={mediation:s(a),publicKey:u({challenge:u(i),timeout:s(a),rpId:s(a),allowCredentials:s([f]),userVerification:s(a),extensions:s(p)}),signal:s(a)},v={type:u(a),id:u(a),rawId:u(i),authenticatorAttachment:s(a),response:u({clientDataJSON:u(i),authenticatorData:u(i),signature:u(i),userHandle:u(i)}),clientExtensionResults:c(d,(e=>e.getClientExtensionResults()))};async function _(e){const t=await navigator.credentials.create(function(e){return l(r,m,e)}(e));return function(e){return l(o,E,e)}(t)}async function y(e){const t=await navigator.credentials.get(function(e){return l(r,h,e)}(e));return function(e){return l(o,v,e)}(t)}}}]);
//# sourceMappingURL=d1dfd931a40e7cda9587.js.map