"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[53192],{353192:(e,t,n)=>{n.d(t,{Z:()=>S});var r=n(667294),o=n(35599),a=n(64833),i=n(191940),l=n(889373),u=n(757987),c=n(75141),s=n(559933),f=n(461061),p=n(959797);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(e,t){var n,r,o,a,i={
label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{
value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};const S=function(e){var t,n,y=e.analyticsLocation,S=e.analyticsSourceLocation,w=e.guild,g=e.buttonText,L=e.targetBoostedGuildTier,M=e.onClose,P=void 0===M?function(){}:M,E=e.closeLayer,O=void 0===E?function(){}:E,_=e.pauseAnimation,I=void 0!==_&&_,C=e.applicationId,A=e.handleSubscribeModalClose,U=h(e,["analyticsLocation","analyticsSourceLocation","guild","buttonText","targetBoostedGuildTier","onClose","closeLayer","pauseAnimation","applicationId","handleSubscribeModalClose"]),T=(0,a.Z)().analyticsLocations,x=(0,o.bp)()===f.IlC.POPOUT,R=m(r.useState(!1),2),k=R[0],G=R[1],D=null!=L?Math.max((0,c.KK)(w,L),1):1,Z=(0,c.aq)(),j=(n=(t=function(){return v(this,(function(e){switch(e.label){case 0:G(!0);return[4,(0,s.u)({analyticsLocations:T,analyticsLocation:y,analyticsSourceLocation:S,guild:w,numberOfBoostsToAdd:D,onClose:P,closeLayer:O,inPopout:x,applicationId:C,handleSubscribeModalClose:A})];case 1:e.sent();G(!1);return[2]}}))},function(){
var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)});return null!=Z?r.createElement(u.ZP,{text:Z,"aria-label":!1},(function(e){return r.createElement(l.C,d({},e,{disabled:!0,size:i.Co.Sizes.SMALL,pauseAnimation:I}),null!=g?g:p.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER)})):r.createElement(l.C,d({size:i.Co.Sizes.SMALL},U,{submitting:k,onClick:j,pauseAnimation:I}),null!=g?g:p.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER)}},559933:(e,t,n)=>{n.d(t,{u:()=>g});var r=n(667294),o=n(737325),a=n(361417),i=n(174034),l=n(859023),u=n(814071),c=n(916957),s=n(897576),f=n(932847),p=n(75141),y=n(683579),b=n(461061),d=n(86030);function h(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,l,"next",e)}function l(e){h(a,r,o,i,l,"throw",e)}i(void 0)}))}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var w=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){
return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function g(e){return L.apply(this,arguments)}function L(){return(L=m((function(e){var t,h,g,L,M,P,E,O,_,I,C,A,U,T,x,R,k,G,D,Z,j;return w(this,(function(B){switch(B.label){case 0:
t=e.analyticsLocations,h=e.analyticsLocation,g=e.analyticsSourceLocation,L=e.numberOfBoostsToAdd,M=e.onClose,P=e.closeLayer,E=e.onSubscriptionConfirmation,O=e.guild,_=e.handleSubscribeModalClose,I=e.disablePremiumUpsell,C=e.inPopout,A=e.applicationId;U=C?d.u1:d.z1;if(null==(T=l.default.getCurrentUser()))return[2];if(!T.verified){(0,s.ZD)(m((function(){var e,t;return w(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(35666),n.e(31074),n.e(65296),n.e(90066),n.e(71116),n.e(12211),n.e(42311),n.e(97576),n.e(39052),n.e(76948),n.e(60703),n.e(71587)]).then(n.bind(n,36239))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.onClose,o=S(e,["onClose"]);return r.createElement(t,v({},o,{onClose:n}))}]}}))})),{contextKey:U});return[2]}x=[];c.Z.isLoadedForPremiumSKUs()||x.push((0,i.Y2)());if(!u.Z.hasFetched){x.push(o.jg());x.push((0,a.X8)())}return x.length>0?[4,Promise.allSettled(x)]:[3,2];case 1:B.sent();B.label=2;case 2:R=(0,p.vx)(u.Z.boostSlots);k=R.length
;G=function(e){null==M||M();null==_||_(e)};D=function(){null==M||M();null==P||P();f.default.track(b.rMx.MODAL_DISMISSED,{type:b.ZY5.PREMIUM_GUILD_USER_MODAL,location_section:h.section})};if(!(k>0&&(null==L||k>=L)))return[3,4];1===k?Z=R.slice(0,1):null!=L&&(Z=R.slice(0,L));return[4,(0,s.ZD)(m((function(){var e,t;return w(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(35666),n.e(31074),n.e(40721),n.e(65296),n.e(90066),n.e(71116),n.e(64229),n.e(12211),n.e(5765),n.e(31865),n.e(55978),n.e(33646),n.e(42311),n.e(86121),n.e(97576),n.e(39052),n.e(38412),n.e(76948),n.e(60703),n.e(37369),n.e(56004),n.e(28840),n.e(90348),n.e(22908),n.e(77954),n.e(23816),n.e(66444),n.e(92635),n.e(45262),n.e(31879),n.e(82238)]).then(n.bind(n,831879))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.onClose,o=S(e,["onClose"]);return r.createElement(t,v({},o,{onClose:function(e){n();G(e)},selectedGuild:O,locationSection:b.ZY5.PREMIUM_GUILD_USER_MODAL,guildBoostSlots:Z}))}]}}))
})),{onCloseRequest:function(){null!=j&&(0,s.Mr)(j);G(!1)},contextKey:U})];case 3:j=B.sent();return[3,5];case 4:(0,y.Z)({analyticsLocations:t,analyticsLocation:h,analyticsSourceLocation:g,guildId:O.id,closeLayer:D,totalNumberOfSlotsToAssign:null!=L?L:1,onCloseModal:G,disablePremiumUpsell:I,onSubscriptionConfirmation:E,inPopout:C,applicationId:A});B.label=5;case 5:return[2]}}))}))).apply(this,arguments)}},683579:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(667294),o=n(992497),a=n(737325),i=n(174034),l=n(720897),u=n(897576),c=n(932847),s=n(737369),f=n(461061),p=n(86030),y=n(959797);function b(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)}))}}var h=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function m(e){
return v.apply(this,arguments)}function v(){return(v=d((function(e){var t,b,m,v,S,w,g,L,M,P,E,O,_,I,C,A;return h(this,(function(U){switch(U.label){case 0:t=e.analyticsLocations,b=e.analyticsLocation,m=e.analyticsSourceLocation,v=e.guildId,S=e.closeLayer,w=e.onCloseModal,g=e.totalNumberOfSlotsToAssign,L=void 0===g?1:g,M=e.disablePremiumUpsell,P=e.onSubscriptionConfirmation,E=e.inPopout,O=e.applicationId;_=E?p.u1:p.z1;if(null!=(I=l.Z.getPremiumTypeSubscription())&&I.isPurchasedExternally&&null!=I.paymentGateway){null!=S&&S();o.Z.show({title:y.Z.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:f.Vzj[I.paymentGateway]}),body:y.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_UPGRADE_TO_PREMIUM_EXTERNAL_ERROR.format({paymentGatewayName:f.Vzj[I.paymentGateway],subscriptionManagementLink:(0,s.JE)(I.paymentGateway,"SUBSCRIPTION_MANAGEMENT")})});return[2]}Promise.all([(0,a.tZ)(),(0,i.Y2)()]);C=function(){c.default.track(f.rMx.MODAL_DISMISSED,{
type:f.jXE.PREMIUM_GUILD_PURCHASE_MODAL,location:b})};return[4,(0,u.ZD)(d((function(){var e,o;return h(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(35666),n.e(31074),n.e(40721),n.e(65296),n.e(90066),n.e(71116),n.e(64229),n.e(12211),n.e(5765),n.e(31865),n.e(55978),n.e(33646),n.e(92224),n.e(40458),n.e(42311),n.e(86121),n.e(97576),n.e(39052),n.e(38412),n.e(76948),n.e(60703),n.e(23243),n.e(37369),n.e(56004),n.e(28840),n.e(90348),n.e(22908),n.e(77954),n.e(23816),n.e(66444),n.e(92635),n.e(58806),n.e(81230),n.e(45262),n.e(58599),n.e(19988)]).then(n.bind(n,726919))];case 1:e=a.sent(),o=e.default;return[2,function(e){var n=e.transitionState,a=e.onClose;return r.createElement(o,{transitionState:n,onClose:function(e){a();null==w||w(e)},analyticsLocations:t,analyticsLocation:b,analyticsSourceLocation:null!=m?m:b,guildId:v,totalNumberOfSlotsToAssign:L,closeGuildPerksModal:S,disablePremiumUpsell:M,onSubscriptionConfirmation:P,applicationId:O})}]}}))})),{
onCloseCallback:C,onCloseRequest:function(){null!=A&&(0,u.Mr)(A);null==w||w(!1)},contextKey:_})];case 1:A=U.sent();return[2]}}))}))).apply(this,arguments)}}}]);
//# sourceMappingURL=670dc679a28019bd3f7a.js.map